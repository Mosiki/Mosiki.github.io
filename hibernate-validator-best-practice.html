<!DOCTYPE html>
<html>
<head>
    

    

    
<!-- Baidu Tongji -->
<script>var _hmt = _hmt || []</script>
<script async src="//hm.baidu.com/hm.js?e57563c03439d3ad35210295cd32edcb"></script>
<!-- End Baidu Tongji -->




    <script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/81d99be9.js","daovoice")</script>

    <meta charset="utf-8">
    
    
    
    <title>Hibernate Validator 校验最佳实践 | WeJan&#39;s Blog | 实战为王，记录在工作中技术使用的点点滴滴。</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Hibernate Validator 校验,校验统一异常处理">
    <meta name="description" content="几年前刚学习 SpringBoot 的时候，就接触并开始使用 HibernateValidator 校验框架，注解校验结合统一异常处理，对代码的整洁性提高特别有帮助。但是目前发现公司里比较新的项目中对参数进行校验还是使用以前传统的方式，需要逐一对请求对象中的属性使用 if 来判断合法性，当需要校验的属性很多时，一大坨的">
<meta name="keywords" content="Hibernate Validator 校验,校验统一异常处理">
<meta property="og:type" content="article">
<meta property="og:title" content="Hibernate Validator 校验最佳实践">
<meta property="og:url" content="http://nullpointer.pw/hibernate-validator-best-practice.html">
<meta property="og:site_name" content="WeJan&#39;s Blog">
<meta property="og:description" content="几年前刚学习 SpringBoot 的时候，就接触并开始使用 HibernateValidator 校验框架，注解校验结合统一异常处理，对代码的整洁性提高特别有帮助。但是目前发现公司里比较新的项目中对参数进行校验还是使用以前传统的方式，需要逐一对请求对象中的属性使用 if 来判断合法性，当需要校验的属性很多时，一大坨的 if 判断校验代码就不可避免。本文介绍 HibernateValidator">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://img12345.5-project.com/blog/20200204173055.png">
<meta property="og:updated_time" content="2020-02-04T11:43:28.891Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hibernate Validator 校验最佳实践">
<meta name="twitter:description" content="几年前刚学习 SpringBoot 的时候，就接触并开始使用 HibernateValidator 校验框架，注解校验结合统一异常处理，对代码的整洁性提高特别有帮助。但是目前发现公司里比较新的项目中对参数进行校验还是使用以前传统的方式，需要逐一对请求对象中的属性使用 if 来判断合法性，当需要校验的属性很多时，一大坨的 if 判断校验代码就不可避免。本文介绍 HibernateValidator">
<meta name="twitter:image" content="http://img12345.5-project.com/blog/20200204173055.png">
    
        <link rel="alternate" type="application/atom+xml" title="WeJan&#39;s Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.7.0">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">WeJan</h5>
          <a href="mailto:vcmq@foxmail.com" title="vcmq@foxmail.com" class="mail">vcmq@foxmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/catelog"  >
                <i class="icon icon-lg icon-archives"></i>
                文章分类目录
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-th-list"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/others/tts.html"  >
                <i class="icon icon-lg icon-arrows-h"></i>
                TTS
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/about"  >
                <i class="icon icon-lg icon-link"></i>
                About
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/Mosiki" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Hibernate Validator 校验最佳实践</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Hibernate Validator 校验最佳实践</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-02-04T09:13:39.000Z" itemprop="datePublished" class="page-time">
  2020-02-04
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/框架/">框架</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#没有对比就没有伤害"><span class="post-toc-number">1.</span> <span class="post-toc-text">没有对比就没有伤害</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#环境配置"><span class="post-toc-number">2.</span> <span class="post-toc-text">环境配置</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#为对象添加校验注解"><span class="post-toc-number">3.</span> <span class="post-toc-text">为对象添加校验注解</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#请求接口处理"><span class="post-toc-number">4.</span> <span class="post-toc-text">请求接口处理</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#校验异常统一异常处理"><span class="post-toc-number">5.</span> <span class="post-toc-text">校验异常统一异常处理</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#第一次测试"><span class="post-toc-number">6.</span> <span class="post-toc-text">第一次测试</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#校验分组"><span class="post-toc-number">7.</span> <span class="post-toc-text">校验分组</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#第二次测试"><span class="post-toc-number">8.</span> <span class="post-toc-text">第二次测试</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#手动校验"><span class="post-toc-number">9.</span> <span class="post-toc-text">手动校验</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#常用注解"><span class="post-toc-number">10.</span> <span class="post-toc-text">常用注解</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#空与非空检查"><span class="post-toc-number">10.1.</span> <span class="post-toc-text">空与非空检查</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Boolean-值检查"><span class="post-toc-number">10.2.</span> <span class="post-toc-text">Boolean 值检查</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#日期检查"><span class="post-toc-number">10.3.</span> <span class="post-toc-text">日期检查</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#数值检查"><span class="post-toc-number">10.4.</span> <span class="post-toc-text">数值检查</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#其他"><span class="post-toc-number">10.5.</span> <span class="post-toc-text">其他</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#hibernate-validator-扩展约束（部分）"><span class="post-toc-number">10.6.</span> <span class="post-toc-text">hibernate-validator 扩展约束（部分）</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#示例代码"><span class="post-toc-number">11.</span> <span class="post-toc-text">示例代码</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参考"><span class="post-toc-number">12.</span> <span class="post-toc-text">参考</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-Hibernate-Validator校验最佳实践"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Hibernate Validator 校验最佳实践</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-02-04 17:13:39" datetime="2020-02-04T09:13:39.000Z"  itemprop="datePublished">2020-02-04</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/框架/">框架</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>几年前刚学习 SpringBoot 的时候，就接触并开始使用 HibernateValidator 校验框架，注解校验结合统一异常处理，对代码的整洁性提高特别有帮助。但是目前发现公司里比较新的项目中对参数进行校验还是使用以前传统的方式，需要逐一对请求对象中的属性使用 if 来判断合法性，当需要校验的属性很多时，一大坨的 if 判断校验代码就不可避免。本文介绍 HibernateValidator 校验框架的日常使用，不涉及自定义约束注解。</p>
<a id="more"></a>
<h2 id="没有对比就没有伤害"><a href="#没有对比就没有伤害" class="headerlink" title="没有对比就没有伤害"></a>没有对比就没有伤害</h2><p>首先来看一下使用校验框架前后的代码对比<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://img12345.5-project.com/blog/20200204173055.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<p>使用校验框架后，代码简洁很多有木有~</p>
<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><p>首先需要引入依赖<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-validator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.1.0.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>依赖引入后，Spring 环境需要配置一下校验器。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ValidatorConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Validator <span class="title">validator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ValidatorFactory validatorFactory = Validation.byProvider(HibernateValidator.class)</span><br><span class="line">                .configure()</span><br><span class="line">                <span class="comment">// 快速失败</span></span><br><span class="line">                .failFast(<span class="keyword">true</span>)</span><br><span class="line">                .buildValidatorFactory();</span><br><span class="line">        <span class="keyword">return</span> validatorFactory.getValidator();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这里设置 failFast 为 true，代表着如果有多个参数的情况下，只要校验出一个参数有误就返回错误而不再继续校验。</p>
<h2 id="为对象添加校验注解"><a href="#为对象添加校验注解" class="headerlink" title="为对象添加校验注解"></a>为对象添加校验注解</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentVo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NotNull</span>(message = <span class="string">"学号不能为空"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NotNull</span>(message = <span class="string">"姓名不能为空"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NotNull</span>(message = <span class="string">"邮箱地址不能为空"</span>)</span><br><span class="line">    <span class="meta">@Email</span>(message = <span class="string">"邮箱地址不正确"</span>)</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Hibernate Validator 是对 JSR 349 验证规范的具体实现，相关的<a href="#常用注解">常用注解 </a> 我贴在文末以供参考。</p>
<h2 id="请求接口处理"><a href="#请求接口处理" class="headerlink" title="请求接口处理"></a>请求接口处理</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span>(<span class="string">"/create"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Result&lt;StudentVo&gt; <span class="title">create</span><span class="params">(@Validated StudentVo student)</span> </span>&#123;</span><br><span class="line">  System.out.println(student.toString());</span><br><span class="line">  <span class="keyword">return</span> Result.success(student);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PostMapping</span>(<span class="string">"/update"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Result&lt;StudentVo&gt; <span class="title">update</span><span class="params">(@Validated StudentVo student)</span> </span>&#123;</span><br><span class="line">  System.out.println(student.toString());</span><br><span class="line">  <span class="keyword">return</span> Result.success(student);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意 <strong>@Validated</strong> 是 <code>org.springframework.validation.annotation.Validated</code>，不要引入错了。加了这个注解之后，就会自动会参数进行校验。如果校验不通过，会抛出 <code>BindException</code> 或者 <code>MethodArgumentNotValidException</code>这两个异常中的一个异常，一般项目中为了规范接口返回值，都会进行统一异常处理。</p>
<h2 id="校验异常统一异常处理"><a href="#校验异常统一异常处理" class="headerlink" title="校验异常统一异常处理"></a>校验异常统一异常处理</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalExceptionHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler</span>(BindException.class)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Result <span class="title">validateErrorHandler</span><span class="params">(BindException e)</span> </span>&#123;</span><br><span class="line">        ObjectError error = e.getAllErrors().get(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> Result.fail(error.getDefaultMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler</span>(MethodArgumentNotValidException.class)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;?&gt; validateErrorHandler(MethodArgumentNotValidException e) &#123;</span><br><span class="line">        ObjectError error = e.getBindingResult().getAllErrors().get(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> Result.fail(error.getDefaultMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler</span>(Throwable.class)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;?&gt; handleException(HttpServletRequest request, Throwable ex) &#123;</span><br><span class="line">        <span class="keyword">return</span> Result.fail(ex.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>因为配置校验为 failFast，因此错误信息中只会有一条记录。</p>
<h2 id="第一次测试"><a href="#第一次测试" class="headerlink" title="第一次测试"></a>第一次测试</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i -X POST -d <span class="string">"name=张三"</span> <span class="string">'http://localhost:8082/learning-validator/create'</span></span><br></pre></td></tr></table></figure>
<p>只填写了 name 参数，而 id 与 email 未填写的情况下进行请求，返回结果</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"success"</span>:<span class="literal">false</span>,<span class="attr">"msg"</span>:<span class="string">"学号不能为空"</span>&#125;</span><br></pre></td></tr></table></figure>
<p>按照一般开发逻辑而言，create 接口是不需要传递 id 参数的，但是 update 接口一般必须要传 id 参数，难不成用这个这个校验框架后需要写两个对象么？其实不是的。这就引出了 <strong>校验分组</strong> 的概念，即可以选择校验某些组的属性进行校验。</p>
<h2 id="校验分组"><a href="#校验分组" class="headerlink" title="校验分组"></a>校验分组</h2><p>首先需要创建两个分组，<strong>CreateGroup</strong> 与 <strong>UpdateGroup</strong>，分别代表着新增时需要校验与更新时需要校验。两个组都是空的接口，只是作为一个标记类使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CreateGroup</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UpdateGroup</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接着修改请求对象，分别指定哪些对象是哪些组需要校验的，如果不指定组，默认都会进行校验。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentVo</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NotNull</span>(groups = UpdateGroup.class, message = <span class="string">"学号不能为空"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NotNull</span>(message = <span class="string">"姓名不能为空"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NotNull</span>(groups = CreateGroup.class, message = <span class="string">"邮箱地址不能为空"</span>)</span><br><span class="line">    <span class="meta">@Email</span>(groups = CreateGroup.class, message = <span class="string">"邮箱地址不正确"</span>)</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>本文示例中请求对象，id 属性只在更新时校验；name 属性无论是新增还是更新都要校验；email 属性只在新增时进行校验，而 age 属性因为未指定校验注解，因此不进行校验，这里的 groups 可以是多个分组。</p>
<p>指定属性的分组之后，控制器接口也需要指定使用哪一个组来进行校验。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span>(<span class="string">"/create"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Result&lt;StudentVo&gt; <span class="title">create</span><span class="params">(@Validated(CreateGroup.class)</span> StudentVo student) </span>&#123;</span><br><span class="line">  System.out.println(student.toString());</span><br><span class="line">  <span class="keyword">return</span> Result.success(student);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PostMapping</span>(<span class="string">"/update"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Result&lt;StudentVo&gt; <span class="title">update</span><span class="params">(@Validated(UpdateGroup.class)</span> StudentVo student) </span>&#123;</span><br><span class="line">  System.out.println(student.toString());</span><br><span class="line">  <span class="keyword">return</span> Result.success(student);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="第二次测试"><a href="#第二次测试" class="headerlink" title="第二次测试"></a>第二次测试</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i -X POST -d <span class="string">"name=张三"</span> <span class="string">'http://localhost:8082/learning-validator/create'</span></span><br></pre></td></tr></table></figure>
<p>只填写了 name 参数，而 id 与 email 未填写的情况下进行请求，返回结果：<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"success"</span>:<span class="literal">false</span>,<span class="attr">"msg"</span>:<span class="string">"邮箱地址不能为空"</span>&#125;</span><br></pre></td></tr></table></figure></p>
<p>填写 name 参数以及 email 参数进行请求<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -i -X POST \</span><br><span class="line">   -d <span class="string">"name=张三"</span> \</span><br><span class="line">   -d <span class="string">"email=vcmq@foxmail.com"</span> \</span><br><span class="line"> <span class="string">'http://localhost:8082/learning-validator/create'</span></span><br></pre></td></tr></table></figure></p>
<p>返回结果：<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"data"</span>:&#123;<span class="attr">"name"</span>:<span class="string">"张三"</span>,<span class="attr">"email"</span>:<span class="string">"vcmq@foxmail.com"</span>&#125;,<span class="attr">"success"</span>:<span class="literal">true</span>,<span class="attr">"msg"</span>:<span class="string">"success"</span>&#125;</span><br></pre></td></tr></table></figure></p>
<p>可以看到 id 这个字段在 create 的时候，并没有进行校验。修改为 update 接口进行测试。<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -i -X POST \                                             </span><br><span class="line">   -d <span class="string">"name=张三"</span> \</span><br><span class="line">   -d <span class="string">"email=vcmq@foxmail.com"</span> \</span><br><span class="line"> <span class="string">'http://localhost:8082/learning-validator/update'</span></span><br></pre></td></tr></table></figure></p>
<p>返回结果：<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"success"</span>:<span class="literal">false</span>,<span class="attr">"msg"</span>:<span class="string">"学号不能为空"</span>&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="手动校验"><a href="#手动校验" class="headerlink" title="手动校验"></a>手动校验</h2><p>除了使用@Validated 注解方式校验，也可以进行手动校验，手动校验同样也支持分组校验。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span>(<span class="string">"/create2"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Result&lt;StudentVo&gt; <span class="title">create2</span><span class="params">(StudentVo student)</span> </span>&#123;</span><br><span class="line">  ValidatorUtils.validateEntity(student, CreateGroup.class);</span><br><span class="line">  System.out.println(student.toString());</span><br><span class="line">  <span class="keyword">return</span> Result.success(student);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>校验工具类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ValidatorUtils</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> Validator validator;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> &#123;</span><br><span class="line">    validator = Validation.byProvider(HibernateValidator.class)</span><br><span class="line">      .configure()</span><br><span class="line">      <span class="comment">// 快速失败</span></span><br><span class="line">      .failFast(<span class="keyword">true</span>)</span><br><span class="line">      .buildValidatorFactory().getValidator();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 校验对象</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> object 待校验对象</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> groups 待校验的组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ApiException 校验不通过，则报 ApiException 异常</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">validateEntity</span><span class="params">(Object object, Class&lt;?&gt;... groups)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> ApiException </span>&#123;</span><br><span class="line">    Set&lt;ConstraintViolation&lt;Object&gt;&gt; constraintViolations = validator.validate(object, groups);</span><br><span class="line">    <span class="keyword">if</span> (!constraintViolations.isEmpty()) &#123;</span><br><span class="line">      constraintViolations.stream().findFirst()</span><br><span class="line">        .map(ConstraintViolation::getMessage)</span><br><span class="line">        .ifPresent(v1 -&gt; &#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> ApiException(v1);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h2 id="常用注解"><a href="#常用注解" class="headerlink" title="常用注解"></a>常用注解</h2><h3 id="空与非空检查"><a href="#空与非空检查" class="headerlink" title="空与非空检查"></a>空与非空检查</h3><table>
<thead>
<tr>
<th>注解</th>
<th>支持 Java 类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>@Null</td>
<td>Object</td>
<td>为 null</td>
</tr>
<tr>
<td>@NotNull</td>
<td>Object</td>
<td>不为 null</td>
</tr>
<tr>
<td>@NotBlank</td>
<td>CharSequence</td>
<td>不为 null，且必须有一个非空格字符</td>
</tr>
<tr>
<td>@NotEmpty</td>
<td>CharSequence、Collection、Map、Array</td>
<td>不为 null，且不为空（length/size&gt;0）</td>
</tr>
</tbody>
</table>
<h3 id="Boolean-值检查"><a href="#Boolean-值检查" class="headerlink" title="Boolean 值检查"></a>Boolean 值检查</h3><table>
<thead>
<tr>
<th>注解</th>
<th>支持 Java 类型</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>@AssertTrue</td>
<td>boolean、Boolean</td>
<td>为 true</td>
<td>为 null 有效</td>
</tr>
<tr>
<td>@AssertFalse</td>
<td>boolean、Boolean</td>
<td>为 false</td>
<td>为 null 有效</td>
</tr>
</tbody>
</table>
<h3 id="日期检查"><a href="#日期检查" class="headerlink" title="日期检查"></a>日期检查</h3><table>
<thead>
<tr>
<th>注解</th>
<th>支持 Java 类型</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>@Future</td>
<td>Date、Calendar、Instant、LocalDate、LocalDateTime、LocalTime、MonthDay、OffsetDateTime、OffsetTime、Year、YearMonth、ZonedDateTime、HijrahDate、JapaneseDate、MinguoDate、ThaiBuddhistDate</td>
<td>验证日期为当前时间之后</td>
<td>为 null 有效</td>
</tr>
<tr>
<td>@FutureOrPresent</td>
<td>Date、Calendar、Instant、LocalDate、LocalDateTime、LocalTime、MonthDay、OffsetDateTime、OffsetTime、Year、YearMonth、ZonedDateTime、HijrahDate、JapaneseDate、MinguoDate、ThaiBuddhistDate</td>
<td>验证日期为当前时间或之后</td>
<td>为 null 有效</td>
</tr>
<tr>
<td>@Past</td>
<td>Date、Calendar、Instant、LocalDate、LocalDateTime、LocalTime、MonthDay、OffsetDateTime、OffsetTime、Year、YearMonth、ZonedDateTime、HijrahDate、JapaneseDate、MinguoDate、ThaiBuddhistDate</td>
<td>验证日期为当前时间之前</td>
<td>为 null 有效</td>
</tr>
<tr>
<td>@PastOrPresent</td>
<td>Date、Calendar、Instant、LocalDate、LocalDateTime、LocalTime、MonthDay、OffsetDateTime、OffsetTime、Year、YearMonth、ZonedDateTime、HijrahDate、JapaneseDate、MinguoDate、ThaiBuddhistDate</td>
<td>验证日期为当前时间或之前</td>
<td>为 null 有效</td>
</tr>
</tbody>
</table>
<h3 id="数值检查"><a href="#数值检查" class="headerlink" title="数值检查"></a>数值检查</h3><table>
<thead>
<tr>
<th>注解</th>
<th>支持 Java 类型</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>@Max</td>
<td>BigDecimal、BigInteger，byte、short、int、long 以及包装类</td>
<td>小于或等于</td>
<td>为 null 有效</td>
</tr>
<tr>
<td>@Min</td>
<td>BigDecimal、BigInteger，byte、short、int、long 以及包装类</td>
<td>大于或等于</td>
<td>为 null 有效</td>
</tr>
<tr>
<td>@DecimalMax</td>
<td>BigDecimal、BigInteger、CharSequence，byte、short、int、long 以及包装类</td>
<td>小于或等于</td>
<td>为 null 有效</td>
</tr>
<tr>
<td>@DecimalMin</td>
<td>BigDecimal、BigInteger、CharSequence，byte、short、int、long 以及包装类</td>
<td>大于或等于</td>
<td>为 null 有效</td>
</tr>
<tr>
<td>@Negative</td>
<td>BigDecimal、BigInteger，byte、short、int、long、float、double 以及包装类</td>
<td>负数</td>
<td>为 null 有效，0 无效</td>
</tr>
<tr>
<td>@NegativeOrZero</td>
<td>BigDecimal、BigInteger，byte、short、int、long、float、double 以及包装类</td>
<td>负数或零</td>
<td>为 null 有效</td>
</tr>
<tr>
<td>@Positive</td>
<td>BigDecimal、BigInteger，byte、short、int、long、float、double 以及包装类</td>
<td>正数</td>
<td>为 null 有效，0 无效</td>
</tr>
<tr>
<td>@PositiveOrZero</td>
<td>BigDecimal、BigInteger，byte、short、int、long、float、double 以及包装类</td>
<td>正数或零</td>
<td>为 null 有效</td>
</tr>
<tr>
<td>@Digits(integer = 3, fraction = 2)</td>
<td>BigDecimal、BigInteger、CharSequence，byte、short、int、long 以及包装类</td>
<td>整数位数和小数位数上限</td>
<td>为 null 有效</td>
</tr>
</tbody>
</table>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><table>
<thead>
<tr>
<th>注解</th>
<th>支持 Java 类型</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>@Pattern</td>
<td>CharSequence</td>
<td>匹配指定的正则表达式</td>
<td>为 null 有效</td>
</tr>
<tr>
<td>@Email</td>
<td>CharSequence</td>
<td>邮箱地址</td>
<td>为 null 有效，默认正则 <code>&#39;.*&#39;</code></td>
</tr>
<tr>
<td>@Size</td>
<td>CharSequence、Collection、Map、Array</td>
<td>大小范围（length/size&gt;0）</td>
<td>为 null 有效</td>
</tr>
</tbody>
</table>
<h3 id="hibernate-validator-扩展约束（部分）"><a href="#hibernate-validator-扩展约束（部分）" class="headerlink" title="hibernate-validator 扩展约束（部分）"></a>hibernate-validator 扩展约束（部分）</h3><table>
<thead>
<tr>
<th>注解</th>
<th>支持 Java 类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>@Length</td>
<td>String</td>
<td>字符串长度范围</td>
</tr>
<tr>
<td>@Range</td>
<td>数值类型和 String</td>
<td>指定范围</td>
</tr>
<tr>
<td>@URL</td>
<td></td>
<td>URL 地址验证</td>
</tr>
</tbody>
</table>
<h2 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h2><ul>
<li><a href="https://github.com/Mosiki/learning-modules/tree/master/learning-validator" target="_blank" rel="noopener">Hibernate Validator 校验最佳实践示例代码</a></li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://juejin.im/post/5dafcdcb6fb9a04ddc6258f9" target="_blank" rel="noopener">如何优雅的做数据校验-Hibernate Validator 详细使用说明 </a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2020-02-04T11:43:28.891Z" itemprop="dateUpdated">2020-02-04 19:43:28</time>
</span><br>


        
        本文链接：<a href="/hibernate-validator-best-practice.html" target="_blank" rel="external">http://nullpointer.pw/hibernate-validator-best-practice.html</a>
        
    </div>
    <footer>
        <a href="http://nullpointer.pw">
            <img src="/img/avatar.jpg" alt="WeJan">
            WeJan
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hibernate-Validator-校验/">Hibernate Validator 校验</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/校验统一异常处理/">校验统一异常处理</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://nullpointer.pw/hibernate-validator-best-practice.html&title=《Hibernate Validator 校验最佳实践》 — WeJan's Blog&pic=http://nullpointer.pw/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://nullpointer.pw/hibernate-validator-best-practice.html&title=《Hibernate Validator 校验最佳实践》 — WeJan's Blog&source=几年前刚学习 SpringBoot 的时候，就接触并开始使用 HibernateValidator 校验框架，注解校验结合统一异常处理，对代码的整洁性提高..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://nullpointer.pw/hibernate-validator-best-practice.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Hibernate Validator 校验最佳实践》 — WeJan's Blog&url=http://nullpointer.pw/hibernate-validator-best-practice.html&via=http://nullpointer.pw" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://nullpointer.pw/hibernate-validator-best-practice.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between flex-row-reverse">
  

  
    <div class="waves-block waves-effect next">
      <a href="/hexo-custom-article-url.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">hexo 自定义文章 url 地址</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
  -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'true' == 'true',
            verify: 'true' == 'true',
            appId: "4LBKQGjj91zO3FvvTypea844-MdYXbMMI",
            appKey: "g000TimpCo2dSkXYBxzm2Tdl",
            avatar: "retro",
            placeholder: "Just go go",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->




</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        点开打赏说明本文值一块钱哈哈~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>WeJan &copy; 2016 - 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://nullpointer.pw/hibernate-validator-best-practice.html&title=《Hibernate Validator 校验最佳实践》 — WeJan's Blog&pic=http://nullpointer.pw/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://nullpointer.pw/hibernate-validator-best-practice.html&title=《Hibernate Validator 校验最佳实践》 — WeJan's Blog&source=几年前刚学习 SpringBoot 的时候，就接触并开始使用 HibernateValidator 校验框架，注解校验结合统一异常处理，对代码的整洁性提高..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://nullpointer.pw/hibernate-validator-best-practice.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Hibernate Validator 校验最佳实践》 — WeJan's Blog&url=http://nullpointer.pw/hibernate-validator-best-practice.html&via=http://nullpointer.pw" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://nullpointer.pw/hibernate-validator-best-practice.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJElEQVR42u3aUW6DQAwFwNz/0ukFCjzbEInd4asigTBUsvbZ+/nEx/fgOP/06JvJ/T9PHBgYGK9lTH7+6NOja4++2XtBGBgYuzHOH+7o1slVeRmtFmgMDAyMhJEXxPPzGBgYGHcx8gXcZEGJgYGBMQmxSQQ9f6BqsX4ki2NgYLyQkXfdf//3I/MNDAyMVzF6RTC/W75w/A4ODAyMtRm9EWavuZbcMxkVHEZZDAyMRRnJxclWibx91ovEFzwMDIylGUlRq27/msCqQwIMDIwdGE+Uy0k3LH+t//wfMDAwFmXcNSrIN2pUE/bNI0wMDIwXMqptsuT8fDial3gMDIw9GfPzeUvuR4MBDAyMJRi9kDlv8VfHEs0ZLAYGxssZeeuqOtTsbbbo3RkDA2NtRhJNkzFAr7D2QnW08wIDA2NpxuQHJgvBZOQZrXAxMDAWZfSKb7VZNinZFy8XAwNjaUavcd+LqdW1XHmhiYGBsQ1jkhB7g8nJUPNicxgGBsaijB7piRKcD0oxMDB2Y1SLYzWgTrZ0XLxQDAyMpRm9hV0egydbx6otPAwMjPUYvVKYB9H8UfJ23sUkFgMDYzlGdViYlOBJi603nMDAwNiBkUfKXqOtt1GsXMoxMDA2YCRlNGmiTZaDoxEpBgYGxjiyVheUedHHwMDA6G2bSO4/CbcYGBh7MqohNo+11WKaB+Ab2m0YGBgvYYyi42BhVx1PTqIvBgbGaxl/mKXWLPTvncYAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdnjs.cloudflare.com/ajax/libs/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.7.0"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.0" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script>
  daovoice('init', {
    app_id: "81d99be9",
  });
  daovoice('update');
</script>


<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '出Bug了快来看！';
            clearTimeout(titleTime);
        } else {
            document.title = '对不起，我看错啦~';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
