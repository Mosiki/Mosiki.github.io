<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>WeJan&#39;s Blog</title>
  
  <subtitle>å®æˆ˜ä¸ºç‹ï¼Œè®°å½•åœ¨å·¥ä½œä¸­æŠ€æœ¯ä½¿ç”¨çš„ç‚¹ç‚¹æ»´æ»´ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://nullpointer.pw/"/>
  <updated>2018-01-27T13:07:10.069Z</updated>
  <id>http://nullpointer.pw/</id>
  
  <author>
    <name>WeJan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>SpringDataJPAå¿«é€Ÿå…¥é—¨</title>
    <link href="http://nullpointer.pw/SpringDataJPA%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html"/>
    <id>http://nullpointer.pw/SpringDataJPAå¿«é€Ÿå…¥é—¨.html</id>
    <published>2018-01-27T13:02:48.000Z</published>
    <updated>2018-01-27T13:07:10.069Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰åœ¨å­¦ä¹  SpringBoot æ¡†æ¶çš„æ—¶å€™ï¼Œä½¿ç”¨åˆ°äº† SpringData JPAï¼Œä½†æ˜¯å½“æ—¶åªæ˜¯ç®€å•çš„æŸ¥è¯¢ï¼Œæ²¡æœ‰ç”¨åˆ°ç¨å¾®å¤æ‚çš„æŸ¥è¯¢ã€‚  </p><p>JPA çš„ JPQL è¯­æ³•è§„åˆ™å¯¹äºç®€å•çš„æŸ¥è¯¢å®å±åˆ©å™¨ï¼Œå¤§å¤§åŠ å¿«äº†å¼€å‘é€Ÿåº¦ã€‚ä¸ä¹…å‰ï¼Œåœ¨å…¬å¸å°†ç”¨æˆ·æ¨èåŠŸèƒ½å•ç‹¬æŠ½å–å‡ºä¸ºä¸€ä¸ªç‹¬ç«‹é¡¹ç›®ï¼Œç”±äºå…¬å¸ä¸€ç›´æ²¿ç”¨çš„åº•å±‚æ¡†æ¶å¤ªè€ï¼Œåªèƒ½ä½¿ç”¨ JDK1.6ï¼ŒJDK 1.9éƒ½å‡ºæ¥äº†ï¼Œå®åœ¨ä¸èƒ½å¿ğŸ˜…ï¼Œæœæ–­å¼•å…¥äº† SpringData JPAã€‚  </p><p>ç„¶åæœ€è¿‘å…¬å¸å…¶ä»–åŒäº‹æ¥æ‰‹äº†è¯¥é¡¹ç›®ï¼Œä½†æ˜¯ä¸å¤ªäº†è§£ SpringData JPA çš„ä½¿ç”¨ï¼Œäºæ˜¯æœ‰äº†æ­¤æ–‡ï¼Œä¸ä¼šå°±å¯ä»¥ç›´æ¥è®©ä»–çœ‹æœ¬ç¯‡åšå®¢äº†å“ˆå“ˆã€‚</p><a id="more"></a><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><p>è¿™é‡Œä¸è®²è§£ SpringData JPA ä¸æ¡†æ¶çš„æ•´åˆï¼Œåªè®²è§£ JPA è¯­æ³•çš„ä½¿ç”¨</p><h3 id="Entity-å®ä½“ç±»"><a href="#Entity-å®ä½“ç±»" class="headerlink" title="Entity å®ä½“ç±»"></a>Entity å®ä½“ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span> <span class="comment">// è¡¨ç¤ºä¸ºä¸€ä¸ªå®ä½“ç±»</span></span><br><span class="line"><span class="meta">@Table</span>(<span class="string">"employee"</span>) <span class="comment">// è¡¨å</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span> <span class="comment">//ä¸»é”®æ ‡è¯†æ³¨è§£</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span> <span class="comment">// ä¸»é”®ç”Ÿæˆæ–¹å¼</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//Getter/Setterçœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Repository-æ¥å£"><a href="#Repository-æ¥å£" class="headerlink" title="Repository æ¥å£"></a>Repository æ¥å£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»§æ‰¿ JpaRepository æ¥å£ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæŸ¥è¯¢çš„å®ä½“ç±»ï¼Œç¬¬äºŒä¸ªä¸ºå®ä½“ç±»çš„ä¸»é”®æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Employee</span>, <span class="title">Integer</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥æµ‹è¯•æ•°æ®"><a href="#æ’å…¥æµ‹è¯•æ•°æ®" class="headerlink" title="æ’å…¥æµ‹è¯•æ•°æ®"></a>æ’å…¥æµ‹è¯•æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">        Employee employee = <span class="keyword">new</span> Employee();</span><br><span class="line">        employee.setAge(i++);</span><br><span class="line">        employee.setName(<span class="string">"test"</span> + i);</span><br><span class="line">        employeeRepository.save(employee);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="JPA-æŸ¥è¯¢è¯­æ³•è®²è§£"><a href="#JPA-æŸ¥è¯¢è¯­æ³•è®²è§£" class="headerlink" title="JPA æŸ¥è¯¢è¯­æ³•è®²è§£"></a>JPA æŸ¥è¯¢è¯­æ³•è®²è§£</h2><h3 id="ä½¿ç”¨-JPQL-è¿›è¡ŒæŸ¥è¯¢"><a href="#ä½¿ç”¨-JPQL-è¿›è¡ŒæŸ¥è¯¢" class="headerlink" title="ä½¿ç”¨ JPQL è¿›è¡ŒæŸ¥è¯¢"></a>ä½¿ç”¨ JPQL è¿›è¡ŒæŸ¥è¯¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–°å¢</span></span><br><span class="line">employeeRepository.save(employee);</span><br><span class="line"></span><br><span class="line"><span class="comment">// where name = ?1</span></span><br><span class="line">employeeRepository.findByName(<span class="string">"test1"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// where name = ?1 and age = ?2</span></span><br><span class="line">employeeRepository.findByNameAndAge(<span class="string">"test1"</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// where age between ?1 and ?2 ã€åŒ…å«å¤´å°¾ã€‘</span></span><br><span class="line">List&lt;Employee&gt; byAgeBetween = employeeRepository.findByAgeBetween(<span class="number">10</span>, <span class="number">16</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// where age &lt; ?1</span></span><br><span class="line">List&lt;Employee&gt; list = employeeRepository.findByAgeLessThan(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// where age &gt; ?1</span></span><br><span class="line">List&lt;Employee&gt; list = employeeRepository.findByAgeGreaterThan(<span class="number">90</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// where name is null  ã€ä¸åŒ…å«ä¸ºç©ºå­—ç¬¦ä¸²çš„æ•°æ®ã€‘</span></span><br><span class="line">List&lt;Employee&gt; list = employeeRepository.findByNameIsNull();</span><br><span class="line"></span><br><span class="line"><span class="comment">// where name like "test9%" ä»¥test9ä¸ºå¼€å¤´çš„name</span></span><br><span class="line">List&lt;Employee&gt; list = employeeRepository.findByNameLike(<span class="string">"test9%"</span>);</span><br><span class="line">æˆ–è€…</span><br><span class="line">List&lt;Employee&gt; employees = employeeRepository.findByNameStartingWith(<span class="string">"test"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// where name like "test_" ä»¥testå¼€å¤´ï¼Œä¸”åé¢åªæ¨¡ç³ŠåŒ¹é…ä¸€ä½</span></span><br><span class="line">List&lt;Employee&gt; list2 = employeeRepository.findByNameLike(<span class="string">"test_"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// where name like "%6" æ¨¡ç³ŠåŒ¹é…ä»¥6ç»“å°¾çš„</span></span><br><span class="line">List&lt;Employee&gt; employees = employeeRepository.findByNameEndingWith(<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// where name in (?1, ?2)</span></span><br><span class="line">List&lt;String&gt; names = Arrays.asList(<span class="string">"test1"</span>, <span class="string">"test2"</span>);</span><br><span class="line">List&lt;Employee&gt; employees = employeeRepository.findByNameIn(names);</span><br><span class="line"></span><br><span class="line"><span class="comment">// where age &lt;&gt; ?1</span></span><br><span class="line">List&lt;Employee&gt; employees = employeeRepository.findByAgeNot(<span class="number">99</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// where name = ?1 order by age desc </span></span><br><span class="line"><span class="function">List&lt;Employee&gt; <span class="title">findByNameOrderByAgeDesc</span><span class="params">(String name)</span></span>;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨è‡ªå®šä¹‰-Sql-ä»¥åŠ-åŸç”Ÿ-Sql-æŸ¥è¯¢"><a href="#ä½¿ç”¨è‡ªå®šä¹‰-Sql-ä»¥åŠ-åŸç”Ÿ-Sql-æŸ¥è¯¢" class="headerlink" title="ä½¿ç”¨è‡ªå®šä¹‰ Sql ä»¥åŠ åŸç”Ÿ Sql æŸ¥è¯¢"></a>ä½¿ç”¨è‡ªå®šä¹‰ Sql ä»¥åŠ åŸç”Ÿ Sql æŸ¥è¯¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** EmployeeRepository.java æ·»åŠ æ–¹æ³• */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ®å§“åä¸å¹´é¾„æŸ¥æ‰¾ï¼Œ[é€šè¿‡å ä½ç¬¦è·å–å‚æ•°å€¼]</span></span><br><span class="line"><span class="meta">@Query</span>(<span class="string">"select o from Employee o where name = ?1 and age = ?2"</span>)</span><br><span class="line"><span class="function">List&lt;Employee&gt; <span class="title">queryEmployeeByParams</span><span class="params">(String name, Integer age)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ®å§“åä¸å¹´é¾„æŸ¥æ‰¾ï¼Œ[é€šè¿‡å‘½åå‚æ•°è·å–å‚æ•°å€¼]ï¼Œå¿…é¡»ä½¿ç”¨ @Param æ³¨è§£</span></span><br><span class="line"><span class="meta">@Query</span>(<span class="string">"select o from Employee o where name = :name and age = :age"</span>)</span><br><span class="line"><span class="function">List&lt;Employee&gt; <span class="title">queryEmployeeByParams2</span><span class="params">(@Param(<span class="string">"name"</span>)</span> String name, @<span class="title">Param</span><span class="params">(<span class="string">"age"</span>)</span> Integer age)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸç”ŸSQLï¼Œä¸ä¸Šé¢ä¸åŒçš„æ˜¯ï¼Œä¸Šé¢ä½¿ç”¨çš„æ˜¯å¯¹è±¡åç§°ä»¥åŠå¯¹è±¡å±æ€§åç§°ï¼ŒNative SQLä½¿ç”¨æ•°æ®åº“è¡¨åä»¥åŠå­—æ®µå</span></span><br><span class="line"><span class="meta">@Query</span>(nativeQuery = <span class="keyword">true</span>, value = <span class="string">"select * from employee where name = :name and age = :age"</span>)</span><br><span class="line"><span class="function">List&lt;Employee&gt; <span class="title">queryEmployeeByParams3</span><span class="params">(@Param(<span class="string">"name"</span>)</span> String name, @<span class="title">Param</span><span class="params">(<span class="string">"age"</span>)</span> Integer age)</span>;</span><br></pre></td></tr></table></figure><hr><h3 id="JPA-æ›´æ–°æ“ä½œ"><a href="#JPA-æ›´æ–°æ“ä½œ" class="headerlink" title="JPA æ›´æ–°æ“ä½œ"></a>JPA æ›´æ–°æ“ä½œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** éœ€è¦æ­é…ä½¿ç”¨ <span class="doctag">@Query</span> ä¸ <span class="doctag">@Modifying</span> å’Œ <span class="doctag">@Transactional</span> æ³¨è§£ä½¿ç”¨*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Modifying</span></span><br><span class="line"><span class="meta">@Query</span>(<span class="string">"update Employee o set o.age = ?2 where o.id = ?1"</span>)</span><br><span class="line"><span class="function">Integer <span class="title">updateAge</span><span class="params">(Integer id, Integer age)</span></span>;</span><br></pre></td></tr></table></figure><p>åœ¨ Service å±‚è°ƒç”¨<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> EmployeeRepository employeeRepository;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Transactional</span> <span class="comment">// å¿…é¡»å¼€å¯äº‹åŠ¡</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(Integer id, Integer age)</span> </span>&#123;</span><br><span class="line">    employeeRepository.update(id, age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="åˆ†é¡µæŸ¥è¯¢"><a href="#åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="åˆ†é¡µæŸ¥è¯¢"></a>åˆ†é¡µæŸ¥è¯¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EmployeeRepository æ¥å£å®šä¹‰</span></span><br><span class="line"><span class="function">Page&lt;Employee&gt; <span class="title">findByNameStartingWith</span><span class="params">(String name, Pageable pageable)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç±» EmployeeRepositoryTest.java</span></span><br><span class="line"><span class="comment">// æ™®é€šåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindByNameStartingWith</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ³¨æ„ page ä» 0 å¼€å§‹</span></span><br><span class="line">    Pageable request = <span class="keyword">new</span> PageRequest(<span class="number">0</span>, <span class="number">10</span>);</span><br><span class="line">    Page&lt;Employee&gt; result = employeeRepository.findByNameStartingWith(<span class="string">"test"</span>, request);</span><br><span class="line">    <span class="keyword">for</span> (Employee employee : result.getContent()) &#123;</span><br><span class="line">        System.out.println(employee);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¦æ’åºæ¡ä»¶çš„åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindByNameStartingWith</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Sort.Order order = <span class="keyword">new</span> Sort.Order(Sort.Direction.DESC, <span class="string">"id"</span>);</span><br><span class="line">    Sort sort = <span class="keyword">new</span> Sort(order);</span><br><span class="line">    Pageable request = <span class="keyword">new</span> PageRequest(<span class="number">0</span>, <span class="number">10</span>, sort);</span><br><span class="line">    Page&lt;Employee&gt; result = employeeRepository.findByNameStartingWith(<span class="string">"test"</span>, request);</span><br><span class="line">    <span class="keyword">for</span> (Employee employee : result.getContent()) &#123;</span><br><span class="line">        System.out.println(employee);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠ¨æ€-SQL-æŸ¥è¯¢"><a href="#åŠ¨æ€-SQL-æŸ¥è¯¢" class="headerlink" title="åŠ¨æ€ SQL æŸ¥è¯¢"></a>åŠ¨æ€ SQL æŸ¥è¯¢</h3><p>åœ¨ Java å¼€å‘ä¸­ï¼ŒåŠ¨æ€ SQL æ˜¯å¿…ä¸å¯å°‘çš„ï¼ŒJPA ä¹Ÿå¯ä»¥å®ç°ï¼ŒRepository å¤šç»§æ‰¿ä¸€ä¸ªæ¥å£ <code>JpaSpecificationExecutor</code> å³å¯ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// ä¿®æ”¹ä¹‹å‰çš„ EmployeeRepository, ä½¿å…¶å¤šç»§æ‰¿ JpaSpecificationExecutor æ¥å£</span><br><span class="line">public interface EmployeeRepository extends JpaRepository&lt;Employee, Integer&gt;, JpaSpecificationExecutor&lt;Employee&gt;&#123;</span><br><span class="line"></span><br><span class="line">    // ......</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Pageable request = new PageRequest(0, 10);</span><br><span class="line">Specification&lt;Employee&gt; specification = new Specification&lt;Employee&gt;() &#123;</span><br><span class="line">public Predicate toPredicate(Root&lt;Employee&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) &#123;</span><br><span class="line">        Path&lt;Integer&gt; path = root.get(&quot;age&quot;);</span><br><span class="line">                return cb.gt(path, 50);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">Page&lt;Employee&gt; all = employeeRepository.findAll(specification, request);</span><br></pre></td></tr></table></figure></p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>è¿™é‡Œæ„Ÿè°¢ä¸€ä¸‹<a href="https://www.imooc.com" target="_blank" rel="noopener">æ…•è¯¾ç½‘</a>ï¼Œå¿«é€Ÿå…¥é—¨å¤šäºäº† imooc ä¸Šçš„è¯¾ç¨‹ã€‚</p><p>å‚è€ƒè¯¾ç¨‹ï¼š    </p><ul><li><a href="https://www.imooc.com/learn/821" target="_blank" rel="noopener">https://www.imooc.com/learn/821</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¹‹å‰åœ¨å­¦ä¹  SpringBoot æ¡†æ¶çš„æ—¶å€™ï¼Œä½¿ç”¨åˆ°äº† SpringData JPAï¼Œä½†æ˜¯å½“æ—¶åªæ˜¯ç®€å•çš„æŸ¥è¯¢ï¼Œæ²¡æœ‰ç”¨åˆ°ç¨å¾®å¤æ‚çš„æŸ¥è¯¢ã€‚  &lt;/p&gt;
&lt;p&gt;JPA çš„ JPQL è¯­æ³•è§„åˆ™å¯¹äºç®€å•çš„æŸ¥è¯¢å®å±åˆ©å™¨ï¼Œå¤§å¤§åŠ å¿«äº†å¼€å‘é€Ÿåº¦ã€‚ä¸ä¹…å‰ï¼Œåœ¨å…¬å¸å°†ç”¨æˆ·æ¨èåŠŸèƒ½å•ç‹¬æŠ½å–å‡ºä¸ºä¸€ä¸ªç‹¬ç«‹é¡¹ç›®ï¼Œç”±äºå…¬å¸ä¸€ç›´æ²¿ç”¨çš„åº•å±‚æ¡†æ¶å¤ªè€ï¼Œåªèƒ½ä½¿ç”¨ JDK1.6ï¼ŒJDK 1.9éƒ½å‡ºæ¥äº†ï¼Œå®åœ¨ä¸èƒ½å¿ğŸ˜…ï¼Œæœæ–­å¼•å…¥äº† SpringData JPAã€‚  &lt;/p&gt;
&lt;p&gt;ç„¶åæœ€è¿‘å…¬å¸å…¶ä»–åŒäº‹æ¥æ‰‹äº†è¯¥é¡¹ç›®ï¼Œä½†æ˜¯ä¸å¤ªäº†è§£ SpringData JPA çš„ä½¿ç”¨ï¼Œäºæ˜¯æœ‰äº†æ­¤æ–‡ï¼Œä¸ä¼šå°±å¯ä»¥ç›´æ¥è®©ä»–çœ‹æœ¬ç¯‡åšå®¢äº†å“ˆå“ˆã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="SpringData" scheme="http://nullpointer.pw/categories/SpringData/"/>
    
    
      <category term="JPA" scheme="http://nullpointer.pw/tags/JPA/"/>
    
  </entry>
  
  <entry>
    <title>Macä¸‹VMwareFusionå®‰è£…CentOSå¹¶è®¾ç½®é™æ€IP</title>
    <link href="http://nullpointer.pw/Mac%E4%B8%8BVMwareFusion%E5%AE%89%E8%A3%85CentOS%E5%B9%B6%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81IP.html"/>
    <id>http://nullpointer.pw/Macä¸‹VMwareFusionå®‰è£…CentOSå¹¶è®¾ç½®é™æ€IP.html</id>
    <published>2018-01-21T09:03:09.000Z</published>
    <updated>2018-01-21T09:03:57.138Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>MACä¸‹VMwareFusionå®‰è£…CentOSåŠè®¾ç½®å›ºå®šIP<br>ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œå…³äºè™šæ‹Ÿæœºçš„å¿«é€Ÿå®‰è£…çš„æ•™ç¨‹ <a href="http://nullpointer.pw/CentOS%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85.html">CentOSå¿«é€Ÿå®‰è£…</a>ï¼Œå½“æ—¶æ˜¯å­¦ä¹ ä¸­ç”¨åˆ°äº† Linux ç¯å¢ƒï¼Œä¸ºäº†ä»¥åæ— éœ€é‡å¤è¿›è¡Œè™šæ‹Ÿæœºç¹æ‚é…ç½®ï¼Œæ¯”å¦‚é…ç½®ç½‘ç»œè¿æ¥å¤–ç½‘ï¼Œæ‰åˆ¶ä½œçš„é•œåƒã€‚ä¸ºäº†å¼€å‘è°ƒè¯•æ–¹ä¾¿ï¼Œé•œåƒè®¾ç½®ä¸ºäº†å›ºå®š IPï¼Œæ‰€ä»¥å¯¼å…¥è¯¥é•œåƒçš„æ—¶å€™ï¼Œéœ€è¦ç®€å•è®¾ç½®ä»¥ä¸‹å³å¯ è®¿é—®å¤–ç½‘ç¯å¢ƒã€‚<br>å½“æ—¶ä½¿ç”¨çš„æ˜¯ Windows ç¯å¢ƒï¼Œå‰ä¸ä¹…å…¥æ‰‹äº† MBPï¼Œä¹Ÿéœ€è¦ç”¨åˆ°è™šæ‹Ÿæœºç¯å¢ƒï¼Œä½†æ˜¯ MAC ç¯å¢ƒä¸‹å¹¶æ²¡æœ‰ <code>è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨</code>,æ‰€ä»¥è®¾ç½®é™æ€ IP è´¹äº†å¥½ä¸€èˆ¬åŠŸå¤«ã€‚æœ¬æ–‡ä»‹ç»è™šæ‹Ÿæœºå¿«é€Ÿå¯¼å…¥é•œåƒï¼Œä¿®æ”¹é™æ€IPã€‚</p><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ul><li>VMware Fusion </li><li>CentOS é•œåƒ(é“¾æ¥ï¼š<a href="http://pan.baidu.com/s/1nuKxhpf" target="_blank" rel="noopener">http://pan.baidu.com/s/1nuKxhpf</a> å¯†ç ï¼š8dt8)</li></ul><h2 id="å¯¼å…¥è™šæ‹Ÿæœºé•œåƒ"><a href="#å¯¼å…¥è™šæ‹Ÿæœºé•œåƒ" class="headerlink" title="å¯¼å…¥è™šæ‹Ÿæœºé•œåƒ"></a>å¯¼å…¥è™šæ‹Ÿæœºé•œåƒ</h2><p>ä¸‹è½½é•œåƒåè§£å‹ï¼Œæ‰“å¼€ Vmware Fusion è½¯ä»¶ï¼Œé€‰æ‹©å¯¼å…¥</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20180121151651476447145.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>é€‰æ‹©é•œåƒæ–‡ä»¶ï¼Œé€‰æ‹© ovf æ–‡ä»¶åæ‰“å¼€ã€‚</p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/2018012115165148637891.png" alt=""></p><p>å¯¼å…¥è¿‡ç¨‹ä¸å†èµ˜è¿°ã€‚</p><hr><h2 id="ä¸ºé™æ€IPåšå‡†å¤‡"><a href="#ä¸ºé™æ€IPåšå‡†å¤‡" class="headerlink" title="ä¸ºé™æ€IPåšå‡†å¤‡"></a>ä¸ºé™æ€IPåšå‡†å¤‡</h2><p>æ‰“å¼€ VMware Fusion è®¾ç½®ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20180121151652247955860.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>è¿›å…¥ç½‘ç»œé€‰é¡¹å¡ï¼Œæ·»åŠ ä¸€ä¸ªç½‘å¡ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20180121151652276054517.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /Library/Preferences/VMware\ Fusion/</span><br><span class="line"></span><br><span class="line">sudo vim networking</span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20180121151652307377122.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>çº¢è‰²åœˆå†…æ˜¯æˆ‘ä»¬éœ€è¦å…³æ³¨çš„åœ°æ–¹,ä¿®æ”¹å®Œä¹‹åä¿å­˜é€€å‡ºã€‚</p><p>å†ä¿®æ”¹å¦å¤–ä¸€ä¸ªæ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /Library/Preferences/VMware\ Fusion/vmnet2</span><br><span class="line">sudo vim nat.conf</span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/2018012115165233457757.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><hr><h2 id="ä½¿ç½‘ç»œé…ç½®ç”Ÿæ•ˆ"><a href="#ä½¿ç½‘ç»œé…ç½®ç”Ÿæ•ˆ" class="headerlink" title="ä½¿ç½‘ç»œé…ç½®ç”Ÿæ•ˆ"></a>ä½¿ç½‘ç»œé…ç½®ç”Ÿæ•ˆ</h2><p>é‡æ–°æ‰“å¼€VMwareçš„ç½‘ç»œé…ç½®ï¼Œä¸ºäº†ä½¿åˆšæ‰çš„ä¿®æ”¹ç”Ÿæ•ˆï¼Œæˆ‘ä»¬é‡æ–°è®¾ç½®ä¿å­˜ä¸€ä¸‹ã€‚æ­¥éª¤æ˜¯ï¼Œå…ˆå–æ¶ˆå‹¾é€‰<code>å°† Mac ä¸»æœºè¿æ¥åˆ°è¯¥ç½‘ç»œ</code> ç‚¹å‡»åº”ç”¨ï¼›å†å‹¾é€‰ä¸Š <code>å°† Mac ä¸»æœºè¿æ¥åˆ°è¯¥ç½‘ç»œ</code>ï¼Œç‚¹å‡»åº”ç”¨ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/2018012115165234489139.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><hr><h2 id="ä¿®æ”¹è™šæ‹Ÿæœºçš„é™æ€-IP"><a href="#ä¿®æ”¹è™šæ‹Ÿæœºçš„é™æ€-IP" class="headerlink" title="ä¿®æ”¹è™šæ‹Ÿæœºçš„é™æ€ IP"></a>ä¿®æ”¹è™šæ‹Ÿæœºçš„é™æ€ IP</h2><p>æ‰“å¼€è™šæ‹Ÿæœº<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è´¦å·: root</span><br><span class="line">å¯†ç : 123456</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹ç¬¬ä¸€ä¸ªæ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹ <code>DEVICE</code> ä¸º <code>eth1</code>;<br>ä¿®æ”¹ <code>IPADDR</code> åœ°å€ä¸º <code>192.168.200.3 ~ 192.168.200.254</code> ä¹‹é—´çš„å€¼;<br>ä¿®æ”¹ <code>GATEWAY</code> ä¸º <code>nat.conf</code> ä¸­é…ç½®çš„ ip åœ°å€ <code>192.168.200.2</code></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20180121151652365148908.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>ä¿®æ”¹å¦å¤–ä¸€ä¸ªæ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/udev/rules.d/70-persistent-net.rules</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ³¨é‡Šæ‰ eth0 æ‰€åœ¨è¡Œï¼Œç»“æœæ˜¯</span><br><span class="line"># PCI device 0x8086:0x100f (e1000)</span><br><span class="line">#SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR&#123;address&#125;==&quot;00:0c:29:30:a4:b5&quot;, ATTR&#123;type&#125;==&quot;1&quot;, KERNEL==&quot;eth*&quot;, NAME=&quot;eth0&quot;</span><br><span class="line"># PCI device 0x8086:0x100f (e1000)</span><br><span class="line">SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR&#123;address&#125;==&quot;00:0c:29:cd:05:ea&quot;, ATTR&#123;type&#125;==&quot;1&quot;, KERNEL==&quot;eth*&quot;, NAME=&quot;eth1&quot;</span><br></pre></td></tr></table></figure><p>é‡å¯ è™šæ‹Ÿæœº</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><p>é‡å¯æˆåŠŸåï¼Œè¾“å…¥ <code>ifconfig</code> æç¤ºï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20180121151652403427361.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>æ­¤æ—¶å·²ç»ä¹Ÿå¯ä»¥ ping é€šå¤–ç½‘äº†ï¼Œåœ¨ mac çš„ç»ˆç«¯ä¸­ä¹Ÿå¯ä»¥ ping é€šè™šæ‹Ÿæœºã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>ä¸ºäº†åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œè™šæ‹Ÿæœºç¯å¢ƒè¢«æŠ˜è…¾åï¼Œå¯ä»¥åšä¸€ä¸‹å¿«ç…§ã€‚åˆ°æ—¶å€™å¯ä»¥ç›´æ¥æ¢å¤åˆ°æ­¤å¿«ç…§ï¼Œå…å»å†æ¬¡å®‰è£…çš„æ­¥éª¤ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20180121151651578018201.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="http://blog.csdn.net/zhishengqianjun/article/details/77046796" target="_blank" rel="noopener">http://blog.csdn.net/zhishengqianjun/article/details/77046796</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;MACä¸‹VMwareFusionå®‰è£…CentOSåŠè®¾ç½®å›ºå®šIP&lt;br&gt;ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œå…³äºè™šæ‹Ÿæœºçš„å¿«é€Ÿå®‰è£…çš„æ•™ç¨‹ &lt;a href=&quot;htt
      
    
    </summary>
    
      <category term="æœåŠ¡å™¨" scheme="http://nullpointer.pw/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="VMware Fusion" scheme="http://nullpointer.pw/tags/VMware-Fusion/"/>
    
      <category term="é™æ€IP" scheme="http://nullpointer.pw/tags/%E9%9D%99%E6%80%81IP/"/>
    
      <category term="mac" scheme="http://nullpointer.pw/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºå¾®ä¿¡äº‹ä»¶äºŒç»´ç æ¨å¹¿</title>
    <link href="http://nullpointer.pw/%E5%9F%BA%E4%BA%8E%E5%BE%AE%E4%BF%A1%E4%BA%8B%E4%BB%B6%E4%BA%8C%E7%BB%B4%E7%A0%81%E6%8E%A8%E5%B9%BF.html"/>
    <id>http://nullpointer.pw/åŸºäºå¾®ä¿¡äº‹ä»¶äºŒç»´ç æ¨å¹¿.html</id>
    <published>2018-01-06T11:53:36.000Z</published>
    <updated>2018-01-06T12:32:33.708Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰å†™äº†ä¸€ç¯‡å…³äºæ¨å¹¿ç³»ç»Ÿè®¾è®¡çš„åšå®¢ï¼Œåœ¨é‚£ç¯‡åšå®¢ä¸­ä»‹ç»äº†ç»Ÿä¸€çš„æ¨å¹¿åœ°å€ç”Ÿæˆçš„æ–¹æ³•ï¼Œåªä¸¾ä¾‹è¯´æ˜äº†ä¸€ç§æ¨å¹¿çš„æ–¹å¼ï¼Œæœ¬ç¯‡åšå®¢è®²è§£å¦å¤–ä¸€ç§æ¨å¹¿æ–¹å¼ï¼ŒåŸºäº<strong>å¾®ä¿¡äº‹ä»¶äºŒç»´ç </strong>çš„æ–¹å¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œäº‹ä»¶äºŒç»´ç <strong>åªæœ‰æœåŠ¡å·æœ‰æ­¤æ¥å£æƒé™ï¼Œè®¢é˜…å·æ˜¯æ²¡æœ‰è¯¥æ¥å£æƒé™çš„</strong>ï¼Œå½“ç„¶å¦‚æœæ²¡æœ‰æœåŠ¡å·çš„è¯ï¼Œæƒ³å­¦ä¹ ä¸€ä¸‹æ¥å£çš„ä½¿ç”¨ï¼Œå¾®ä¿¡å®˜æ–¹æä¾›çš„<strong>æµ‹è¯•å·</strong>å¯ä»¥ä½¿ç”¨è¯¥æ¥å£ã€‚</p><a id="more"></a><h2 id="è°ˆè°ˆäº‹ä»¶äºŒç»´ç "><a href="#è°ˆè°ˆäº‹ä»¶äºŒç»´ç " class="headerlink" title="è°ˆè°ˆäº‹ä»¶äºŒç»´ç "></a>è°ˆè°ˆäº‹ä»¶äºŒç»´ç </h2><p>äºŒç»´ç çš„ä¾¿åˆ©æ€§æ¯‹åº¸ç½®ç–‘ï¼Œå°¤å…¶æ˜¯åœ¨å¾®ä¿¡ä¸­å¯ä»¥é€šè¿‡é•¿æŒ‰è¯†åˆ«çš„æ–¹å¼è¯†åˆ«äºŒç»´ç ï¼Œè®©äºŒç»´ç çš„ä½¿ç”¨æ›´åŠ ä¾¿æ·é¢‘ç¹ã€‚å¾®ä¿¡æ¨å‡ºçš„äº‹ä»¶äºŒç»´ç å¤§å¤§æé«˜äºŒç»´ç çš„äº¤äº’èƒ½åŠ›ï¼Œä»¥ä¸‹å†…å®¹æ‘˜è‡ªå®˜ç½‘ä»‹ç»ã€‚</p><blockquote><p>ä¸ºäº†æ»¡è¶³ç”¨æˆ·æ¸ é“æ¨å¹¿åˆ†æå’Œç”¨æˆ·å¸å·ç»‘å®šç­‰åœºæ™¯çš„éœ€è¦ï¼Œå…¬ä¼—å¹³å°æä¾›äº†ç”Ÿæˆå¸¦å‚æ•°äºŒç»´ç çš„æ¥å£ã€‚ä½¿ç”¨è¯¥æ¥å£å¯ä»¥è·å¾—å¤šä¸ªå¸¦ä¸åŒåœºæ™¯å€¼çš„äºŒç»´ç ï¼Œç”¨æˆ·æ‰«æåï¼Œå…¬ä¼—å·å¯ä»¥æ¥æ”¶åˆ°äº‹ä»¶æ¨é€ã€‚</p></blockquote><p>äº‹ä»¶äºŒç»´ç å¯ä»¥äº§ç”Ÿäº‹ä»¶ï¼Œå¹¶ä¸”äºŒç»´ç æ˜¯å¯ä»¥æºå¸¦å‚æ•°çš„ï¼Œè¿™å°±å¯ä»¥ç”¨ä½œæ¨å¹¿ã€‚æ¯”å¦‚æˆ‘å¸ï¼Œé’ˆå¯¹æŸä¸€æœ¬ä¹¦çš„æŸä¸€ç« èŠ‚ç”Ÿæˆäº‹ä»¶äºŒç»´ç ï¼Œç”¨æˆ·æ‰«æäºŒç»´ç åï¼Œå¦‚æœæœªå…³æ³¨å…¬ä¼—å·ï¼Œä¼šè¿›å…¥å…³æ³¨å…¬ä¼—å·é¡µé¢ï¼Œæ–¹ä¾¿ç”¨æˆ·è¿›è¡Œå…³æ³¨ï¼Œå…³æ³¨åï¼Œåå°æ¥æ”¶åˆ°å¾®ä¿¡çš„äº‹ä»¶æ¨é€ï¼Œå¾—åˆ°äº†å­˜å‚¨çš„ä¹¦ä¸ç« èŠ‚çš„ä¿¡æ¯ï¼Œåˆ™å¯ä»¥ç›´æ¥å‘é€æ¶ˆæ¯ï¼Œå¼•å¯¼ç”¨æˆ·è¿›å…¥æ¨å¹¿çš„ç« èŠ‚é¡µé¢ï¼Œä»¥ä¸‹ä¸ºæˆ‘å¸å¾®ä¿¡æ¨å¹¿çš„æµç¨‹å›¾ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/2018010615152212998383.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h2 id="åˆ›å»ºäº‹ä»¶äºŒç»´ç "><a href="#åˆ›å»ºäº‹ä»¶äºŒç»´ç " class="headerlink" title="åˆ›å»ºäº‹ä»¶äºŒç»´ç "></a>åˆ›å»ºäº‹ä»¶äºŒç»´ç </h2><p>ä¸ºäº†ä¾¿äºæ¼”ç¤ºï¼Œæˆ‘çš„é¡¹ç›®æ˜¯åŸºäº SpringBoot æ­å»ºã€‚æœ¬é¡¹ç›®ä½¿ç”¨çš„æ˜¯å¾®ä¿¡æµ‹è¯•å·ï¼Œå¯ä»¥åœ¨æ­¤å¤„è¿›è¡Œç”³è¯· <strong><a href="https://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo?action=showinfo&amp;t=sandbox/index" target="_blank" rel="noopener">å¾®ä¿¡æµ‹è¯•å·</a></strong>ã€‚appID ä¸ appsecret åœ¨å¾®ä¿¡æµ‹è¯•å·ä¸­å¯ä»¥å¾—åˆ°ã€‚<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/2018010615152200274759.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure></p><p>ä¹‹å‰åœ¨å…¬å¸å†™è¿™å¥—æ¨å¹¿ç³»ç»Ÿçš„æ—¶å€™ï¼Œéƒ½æ˜¯è‡ªå·±çœ‹å¾®ä¿¡å…¬ä¼—å¹³å°æ–‡æ¡£ï¼Œè‡ªå·±å†™çš„åŸºç¡€ä»£ç ï¼Œæ¯”å¦‚å°è£…è¯·æ±‚å‚æ•°ï¼Œå‚æ•°æ‹¼æ¥ï¼Œæœ€è¿‘åœ¨ Github ä¸Šå‘ç°äº†ä¸€ä¸ªå°è£…å¾—ä¸é”™çš„ å¾®ä¿¡å¼€å‘ SDKï¼Œå¯¹å¾®ä¿¡çš„å¼€æ”¾å¹³å°ã€å…¬ä¼—å¹³å°ã€å°ç¨‹åºéƒ½æœ‰å¯¹åº”çš„å­é¡¹ç›®ã€‚ç§‰ç€ä¸é‡å¤é€ è½®å­çš„åŸåˆ™ï¼Œæˆ‘ä»¬å¼•å…¥è¿™å¥— SDKï¼Œä¹Ÿå°±æ— éœ€è‡ªå·±å†è¿›è¡Œå°è£…äº†ï¼Œè¿˜å¯ä»¥å­¦ä¹ å°è£…çš„æºä»£ç ã€‚</p><ol><li><p>é¦–å…ˆæ·»åŠ  Maven ä¾èµ–ï¼Œè¿™é‡Œå¼•å…¥æ“ä½œå¾®ä¿¡å…¬ä¼—å·çš„ SDK</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.binarywang<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>weixin-java-mp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>ç„¶åé…ç½®å¾®ä¿¡å…¬ä¼—å¹³å°å‚æ•° appID ä¸ appsecretï¼Œ<br>æ–°å»ºå¾®ä¿¡å¹³å°é…ç½®ä¿¡æ¯ Properties</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix = <span class="string">"wechat"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WechatProperties</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String appId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String seecret;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String token;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>application.yml ä¸­æ·»åŠ  appID ä¸ appsecret</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wechat:</span></span><br><span class="line"><span class="attr">  appId:</span> <span class="string">wx1234567890</span></span><br><span class="line"><span class="attr">  seecret:</span> <span class="string">c912345678900987654321</span></span><br><span class="line"><span class="attr">  token:</span> <span class="string">QAnEo9760zDywWMvTKCxx</span></span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»ºå¾®ä¿¡é…ç½®ç±»ï¼Œå£°æ˜ä¸¤ä¸ª Beanã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeChatConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> WechatProperties wechatProperties;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> WxMpService <span class="title">wxMpService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        WxMpService wxMpService = <span class="keyword">new</span> WxMpServiceImpl();</span><br><span class="line">        wxMpService.setWxMpConfigStorage(wxMpConfigStorage());</span><br><span class="line">        <span class="keyword">return</span> wxMpService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> WxMpConfigStorage <span class="title">wxMpConfigStorage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        WxMpInMemoryConfigStorage wxMpConfigStorage = <span class="keyword">new</span> WxMpInMemoryConfigStorage();</span><br><span class="line">        wxMpConfigStorage.setAppId(wechatProperties.getAppId());</span><br><span class="line">        wxMpConfigStorage.setSecret(wechatProperties.getSeecret());</span><br><span class="line">        wxMpConfigStorage.setToken(wechatProperties.getToken());</span><br><span class="line">        <span class="keyword">return</span> wxMpConfigStorage;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»º WechaptService ä»¥åŠå…¶å®ç°ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WechapServiceImpl</span> <span class="keyword">implements</span> <span class="title">WechatService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> WxMpService wxMpService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºæ°¸ä¹…äº‹ä»¶äºŒç»´ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> param é™„åŠ çš„å‚æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> needShortUrl æ˜¯å¦è½¬æ¢ä¸ºçŸ­é“¾æ¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¾®ä¿¡äºŒç»´ç åœ°å€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">createQrCode</span><span class="params">(String param, <span class="keyword">boolean</span> needShortUrl)</span> </span>&#123;</span><br><span class="line">        WxMpQrcodeService qrService = wxMpService.getQrcodeService();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            WxMpQrCodeTicket ticket = qrService.qrCodeCreateLastTicket(param);</span><br><span class="line">            String url = qrService.qrCodePictureUrl(ticket.getTicket(), needShortUrl);</span><br><span class="line">            <span class="keyword">return</span> url;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (WxErrorException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºä¸´æ—¶äº‹ä»¶äºŒç»´ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> param é™„åŠ çš„å‚æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> expireSeconds æœ‰æ•ˆæ—¶é—´ å•ä½ä¸ºç§’ï¼Œæœ€å¤§2592000ï¼ˆå³30å¤©ï¼‰</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> needShortUrl æ˜¯å¦è½¬æ¢ä¸ºçŸ­é“¾æ¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¾®ä¿¡äºŒç»´ç åœ°å€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">createTempQrCode</span><span class="params">(String param, Integer expireSeconds, <span class="keyword">boolean</span> needShortUrl)</span> </span>&#123;</span><br><span class="line">        WxMpQrcodeService qrService = wxMpService.getQrcodeService();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            WxMpQrCodeTicket ticket = qrService.qrCodeCreateTmpTicket(param, expireSeconds);</span><br><span class="line">            String url = qrService.qrCodePictureUrl(ticket.getTicket(), needShortUrl);</span><br><span class="line">            <span class="keyword">return</span> url;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (WxErrorException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>å¯ä»¥çœ‹åˆ°ï¼Œç®€å•çš„å‡ è¡Œè¯­å¥å°±å¯ä»¥ç”Ÿæˆäº‹ä»¶äºŒç»´ç äº†ã€‚è¿™é‡Œçš„å‚æ•° param å°±æ˜¯é™„åŠ åˆ°äºŒç»´ç ä¸­çš„å‚æ•°ï¼ˆå¯ä»¥æ”¾å…¥æ¨å¹¿ç›¸å…³å‚æ•°ï¼Œå¦‚æ¨å¹¿é“¾æ¥IDï¼‰ï¼Œç”¨æˆ·æ‰«æåï¼Œå¾®ä¿¡æœåŠ¡å™¨ä¼šæ¨é€ç›¸åº”çš„äº‹ä»¶ï¼Œå¯ä»¥åœ¨äº‹ä»¶å‚æ•°ä¸­å¯ä»¥è·å¾— paramã€‚</p><ol><li>åˆ›å»º Spring Junit æµ‹è¯•è¯¥æ–¹æ³•ï¼Œç”Ÿæˆäº‹ä»¶äºŒç»´ç </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringRunner.class)</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WechapServiceImplTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> WechatService wechatService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createQrCode</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String url = wechatService.createQrCode(<span class="string">"hello wechat"</span>, <span class="keyword">true</span>);</span><br><span class="line">        System.out.println(url);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>æ‰“å¼€ç”Ÿæˆçš„äºŒç»´ç é“¾æ¥ï¼ŒçŸ­é“¾æ¥ URL æ ¼å¼å¦‚ï¼š <strong><a href="https://w.url.cn/s/xxxxx" target="_blank" rel="noopener">https://w.url.cn/s/xxxxx</a></strong> ä½¿ç”¨å¾®ä¿¡è¿›è¡Œæ‰«æï¼Œä¼šè¿›å…¥æç¤ºå…³æ³¨çš„é¡µé¢ã€‚<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/2018010615152206445930.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure></li></ol><h2 id="æ¥æ”¶å¾®ä¿¡äº‹ä»¶æ¨é€"><a href="#æ¥æ”¶å¾®ä¿¡äº‹ä»¶æ¨é€" class="headerlink" title="æ¥æ”¶å¾®ä¿¡äº‹ä»¶æ¨é€"></a>æ¥æ”¶å¾®ä¿¡äº‹ä»¶æ¨é€</h2><p>å‚æ•°äºŒç»´ç å·²ç»ç”Ÿæˆäº†ï¼Œä½†æ˜¯ä½ å‘ç°æ‰«æå…³æ³¨ä¹‹åï¼Œç¥é©¬äº‹æƒ…ä¹Ÿæ²¡æœ‰å‘ç”Ÿï¼Œè¯´å¥½çš„å‘é€æ¶ˆæ¯å‘¢ï¼è¿™æ˜¯å› ä¸ºä½ æ²¡æœ‰æ¥æ”¶å¾®ä¿¡çš„æ‰«ç å…³æ³¨äº‹ä»¶æ¨é€å’Œå¯¹å…¶è¿›è¡Œå¤„ç†å‘¢ã€‚</p><ol><li><p>åˆ›å»º Controller ç”¨äºå¾®ä¿¡æ¥å£è¯·æ±‚æ ¡éªŒï¼Œç„¶åå¯åŠ¨é¡¹ç›®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/wechat/auth"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeChatController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> WxMpService wxService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> WxMpMessageRouter router;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(produces = <span class="string">"text/plain;charset=utf-8"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">authGet</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">            @RequestParam(name = <span class="string">"signature"</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                    required = <span class="keyword">false</span>)</span> String signature,</span></span><br><span class="line"><span class="function">            @<span class="title">RequestParam</span><span class="params">(name = <span class="string">"timestamp"</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                    required = <span class="keyword">false</span>)</span> String timestamp,</span></span><br><span class="line"><span class="function">            @<span class="title">RequestParam</span><span class="params">(name = <span class="string">"nonce"</span>, required = <span class="keyword">false</span>)</span> String nonce,</span></span><br><span class="line"><span class="function">            @<span class="title">RequestParam</span><span class="params">(name = <span class="string">"echostr"</span>, required = <span class="keyword">false</span>)</span> String echostr,</span></span><br><span class="line"><span class="function">            HttpServletResponse response) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (StringUtils.isAnyBlank(signature, timestamp, nonce, echostr)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"è¯·æ±‚å‚æ•°éæ³•ï¼Œè¯·æ ¸å®!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.wxService.checkSignature(timestamp, nonce, signature)) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                response.getWriter().print(echostr);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="number">1111</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span>(produces = <span class="string">"application/xml; charset=UTF-8"</span>)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">post</span><span class="params">(@RequestBody String requestBody,</span></span></span><br><span class="line"><span class="function"><span class="params">                       @RequestParam(<span class="string">"signature"</span>)</span> String signature,</span></span><br><span class="line"><span class="function">                       @<span class="title">RequestParam</span><span class="params">(<span class="string">"timestamp"</span>)</span> String timestamp,</span></span><br><span class="line"><span class="function">                       @<span class="title">RequestParam</span><span class="params">(<span class="string">"nonce"</span>)</span> String nonce,</span></span><br><span class="line"><span class="function">                       @<span class="title">RequestParam</span><span class="params">(name = <span class="string">"encrypt_type"</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                               required = <span class="keyword">false</span>)</span> String encType,</span></span><br><span class="line"><span class="function">                       @<span class="title">RequestParam</span><span class="params">(name = <span class="string">"msg_signature"</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                               required = <span class="keyword">false</span>)</span> String msgSignature) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">this</span>.wxService.checkSignature(timestamp, nonce, signature)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"éæ³•è¯·æ±‚ï¼Œå¯èƒ½å±äºä¼ªé€ çš„è¯·æ±‚ï¼"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        String out = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (encType == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// æ˜æ–‡ä¼ è¾“çš„æ¶ˆæ¯</span></span><br><span class="line">            WxMpXmlMessage inMessage = WxMpXmlMessage.fromXml(requestBody);</span><br><span class="line">            WxMpXmlOutMessage outMessage = <span class="keyword">this</span>.route(inMessage);</span><br><span class="line">            <span class="keyword">if</span> (outMessage == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            out = outMessage.toXml();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"aes"</span>.equals(encType)) &#123;</span><br><span class="line">            <span class="comment">// aesåŠ å¯†çš„æ¶ˆæ¯</span></span><br><span class="line">            <span class="comment">/*WxMpXmlMessage inMessage = WxMpXmlMessage.fromEncryptedXml(</span></span><br><span class="line"><span class="comment">                    requestBody, this.wxService.getWxMpConfigStorage(), timestamp,</span></span><br><span class="line"><span class="comment">                    nonce, msgSignature);</span></span><br><span class="line"><span class="comment">            WxMpXmlOutMessage outMessage = this.route(inMessage);</span></span><br><span class="line"><span class="comment">            if (outMessage == null) &#123;</span></span><br><span class="line"><span class="comment">                return "";</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            out = outMessage</span></span><br><span class="line"><span class="comment">                    .toEncryptedXml(this.wxService.getWxMpConfigStorage());*/</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> out;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> WxMpXmlOutMessage <span class="title">route</span><span class="params">(WxMpXmlMessage message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.router.route(message);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è®¾ç½®å¾®ä¿¡æ¶ˆæ¯æ¨é€æ¥å£ï¼Œç”¨äºæ¥æ”¶å¾®ä¿¡æ¨é€çš„è¯·æ±‚ï¼Œè¿™é‡Œéœ€è¦å¡«å†™å¤–ç½‘åŸŸåï¼Œå¦‚æœä½ æœ‰è‡ªå·±çš„æœåŠ¡å™¨å’ŒåŸŸåï¼Œå¯ä»¥ç›´æ¥å¡«å…¥ï¼›å¦‚æœä½ æ²¡æœ‰ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://ngrok.cc" target="_blank" rel="noopener">ngrok</a> è¿›è¡Œå†…ç½‘ç©¿é€ï¼Œå¾—åˆ°ä¸€ä¸ªå¤–ç½‘åŸŸåã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20180106151522725276515.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>æ¯”å¦‚æˆ‘çš„å¾®ä¿¡è¯·æ±‚æ ¡éªŒåœ°å€ä¸º <code>127.0.0.1:8080/wechat/auth</code>ï¼Œ é€šè¿‡å†…ç½‘æ˜ å°„è½¬å‘åå¾—åˆ°çš„å¤–ç½‘åœ°å€ä¸º <code>http://vcmq.free.ngrok.cc/wechat/auth</code>ï¼Œå¡«å†™è¿™ä¸ªåŸŸåï¼Œ Token ç”¨äºæ ¡éªŒæœåŠ¡å™¨ï¼Œä¹‹å‰çš„ yml æ–‡ä»¶ä¸­å·²æŒ‡å®šäº† token çš„å€¼ï¼Œå¡«å†™è¯¥å€¼å³å¯ï¼Œç‚¹å‡»ç¡®è®¤ã€‚</p></li><li><p>å¾®ä¿¡æ‰«æäº‹ä»¶äºŒç»´ç ï¼Œå¾®ä¿¡æœåŠ¡å™¨æ¨é€è¯·æ±‚åˆ° post æ–¹æ³•ï¼Œè°ƒç”¨ route æ–¹æ³•ï¼Œè¿›è¡Œå¤„ç†ã€‚<br><a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1421140454" target="_blank" rel="noopener">äº‹ä»¶äºŒç»´ç æ–‡æ¡£åœ°å€</a></p><blockquote><p>äº‹ä»¶KEYå€¼ï¼Œqrscene_ä¸ºå‰ç¼€ï¼Œåé¢ä¸ºäºŒç»´ç çš„å‚æ•°å€¼ã€‚</p></blockquote></li></ol><p>å¯ä»¥é’ˆå¯¹è¿™ç§æƒ…å†µçš„è¿›è¡Œå¤„ç†ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubscribeHandler</span> <span class="keyword">extends</span> <span class="title">AbstractHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> WxMpXmlOutMessage <span class="title">handle</span><span class="params">(WxMpXmlMessage wxMessage,</span></span></span><br><span class="line"><span class="function"><span class="params">                                  Map&lt;String, Object&gt; context, WxMpService weixinService,</span></span></span><br><span class="line"><span class="function"><span class="params">                                  WxSessionManager sessionManager)</span> <span class="keyword">throws</span> WxErrorException </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.logger.info(<span class="string">"æ–°å…³æ³¨ç”¨æˆ· OPENID: "</span> + wxMessage.getFromUser());</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*// è·å–å¾®ä¿¡ç”¨æˆ·åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line"><span class="comment">    WxMpUser userWxInfo = weixinService.getUserService()</span></span><br><span class="line"><span class="comment">        .userInfo(wxMessage.getFromUser(), null);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    if (userWxInfo != null) &#123;</span></span><br><span class="line"><span class="comment">      // TODO å¯ä»¥æ·»åŠ å…³æ³¨ç”¨æˆ·åˆ°æœ¬åœ°</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    WxMpXmlOutMessage responseResult = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      responseResult = handleSpecial(wxMessage);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">      <span class="keyword">this</span>.logger.error(e.getMessage(), e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (responseResult != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> responseResult;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> TextBuilder().build(<span class="string">"æ„Ÿè°¢å…³æ³¨"</span>, wxMessage, weixinService);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">      <span class="keyword">this</span>.logger.error(e.getMessage(), e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å¤„ç†ç‰¹æ®Šè¯·æ±‚ï¼Œæ¯”å¦‚å¦‚æœæ˜¯æ‰«ç è¿›æ¥çš„ï¼Œå¯ä»¥åšç›¸åº”å¤„ç†</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">private</span> WxMpXmlOutMessage <span class="title">handleSpecial</span><span class="params">(WxMpXmlMessage wxMessage)</span></span></span><br><span class="line"><span class="function">      <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">/* å¾®ä¿¡è¿”å›æ•°æ®ç¤ºä¾‹</span></span><br><span class="line"><span class="comment">      &#123;</span></span><br><span class="line"><span class="comment">              "createTime": 1515235853,</span></span><br><span class="line"><span class="comment">              "event": "subscribe",</span></span><br><span class="line"><span class="comment">              "eventKey": "qrscene_hello wechat",</span></span><br><span class="line"><span class="comment">              "fromUser": "onbpEv3umpi7ihx381D-vpw1SEwE",</span></span><br><span class="line"><span class="comment">              "msgType": "event",</span></span><br><span class="line"><span class="comment">              "ticket": "gQA",</span></span><br><span class="line"><span class="comment">              "toUser": "gh_96fd4ea38axx"</span></span><br><span class="line"><span class="comment">      &#125;*/</span></span><br><span class="line">      <span class="comment">// å¦‚æœæ˜¯æ‰«æ</span></span><br><span class="line">      <span class="keyword">if</span> (wxMessage.getEventKey().startsWith(<span class="string">"qrscene_"</span>)) &#123;</span><br><span class="line">          <span class="comment">// åœ¨æ­¤å¤„è¿›è¡Œç»‘å®šæ“ä½œ</span></span><br><span class="line">          System.out.println();</span><br><span class="line">      &#125;</span><br><span class="line">      System.out.println(JSONObject.toJSONString(wxMessage));</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="èµ„æºä¸‹è½½"><a href="#èµ„æºä¸‹è½½" class="headerlink" title="èµ„æºä¸‹è½½"></a>èµ„æºä¸‹è½½</h2><p><a href="http://ojt4b2cr5.bkt.clouddn.com/wechat-simple-example.zip" target="_blank" rel="noopener">ç¤ºä¾‹å·¥ç¨‹ä¸‹è½½</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://github.com/Wechat-Group/weixin-java-tools/blob/master/demo.md" target="_blank" rel="noopener">https://github.com/Wechat-Group/weixin-java-tools/blob/master/demo.md</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¹‹å‰å†™äº†ä¸€ç¯‡å…³äºæ¨å¹¿ç³»ç»Ÿè®¾è®¡çš„åšå®¢ï¼Œåœ¨é‚£ç¯‡åšå®¢ä¸­ä»‹ç»äº†ç»Ÿä¸€çš„æ¨å¹¿åœ°å€ç”Ÿæˆçš„æ–¹æ³•ï¼Œåªä¸¾ä¾‹è¯´æ˜äº†ä¸€ç§æ¨å¹¿çš„æ–¹å¼ï¼Œæœ¬ç¯‡åšå®¢è®²è§£å¦å¤–ä¸€ç§æ¨å¹¿æ–¹å¼ï¼ŒåŸºäº&lt;strong&gt;å¾®ä¿¡äº‹ä»¶äºŒç»´ç &lt;/strong&gt;çš„æ–¹å¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œäº‹ä»¶äºŒç»´ç &lt;strong&gt;åªæœ‰æœåŠ¡å·æœ‰æ­¤æ¥å£æƒé™ï¼Œè®¢é˜…å·æ˜¯æ²¡æœ‰è¯¥æ¥å£æƒé™çš„&lt;/strong&gt;ï¼Œå½“ç„¶å¦‚æœæ²¡æœ‰æœåŠ¡å·çš„è¯ï¼Œæƒ³å­¦ä¹ ä¸€ä¸‹æ¥å£çš„ä½¿ç”¨ï¼Œå¾®ä¿¡å®˜æ–¹æä¾›çš„&lt;strong&gt;æµ‹è¯•å·&lt;/strong&gt;å¯ä»¥ä½¿ç”¨è¯¥æ¥å£ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="java" scheme="http://nullpointer.pw/categories/java/"/>
    
    
      <category term="æ¨å¹¿ç³»ç»Ÿ" scheme="http://nullpointer.pw/tags/%E6%8E%A8%E5%B9%BF%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="æ¨å¹¿" scheme="http://nullpointer.pw/tags/%E6%8E%A8%E5%B9%BF/"/>
    
  </entry>
  
  <entry>
    <title>2017å¹´ç»ˆæ€»ç»“</title>
    <link href="http://nullpointer.pw/2017%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93.html"/>
    <id>http://nullpointer.pw/2017å¹´ç»ˆæ€»ç»“.html</id>
    <published>2017-12-30T10:02:57.000Z</published>
    <updated>2017-12-30T10:09:16.907Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸€å¹´æ—¶é—´å€ç„¶è€Œé€ï¼Œä»Šæ—¥å·²æ˜¯å¹´ç»ˆå²å°¾çŸ£ï¼  </p><p>æ€»æ˜¯æ„Ÿè§‰ä»Šå¹´è¿‡å¾—å¤ªå¿«äº†ï¼Œå¾ˆå¤šæ¬¡ä¸‹ç­çš„æ—¶å€™ï¼ŒåŒäº‹è¯´ï¼šâ€œæ˜å¤©å‘¨äº”äº†â€ï¼Œè€Œæˆ‘çš„ååº”å°±æ˜¯ï¼šâ€œè¯¶ï¼Ÿåˆè¦æ”¾å‡äº†å—ï¼Ÿæˆ‘æ€ä¹ˆæ„Ÿè§‰å‰å¤©æ‰ä¸Šç­çš„å•ŠğŸ˜‚â€ã€‚<br>ä»¥å‰è¿˜åœ¨ä¸Šå­¦çš„æ—¶å€™ï¼Œæ€»æ˜¯æ„Ÿå¹ï¼Œè¿™ä¸€å¤©å¤©ä¸ºä½•å¦‚æ­¤æ¼«é•¿å‘¢ï¼éšç€å¹´é¾„çš„å¢é•¿ï¼Œä»¿ä½›æ—¶é—´çš„æµé€Ÿä¹ŸåŒæ—¶åŠ å¿«äº†ä¸€èˆ¬ï¼Œæ¯å¤©æ€»æ˜¯è§‰å¾—æ˜¯åœ¨å’Œæ—¶é—´èµ›è·‘ï¼Œè®©æˆ‘æœ‰äº›ç„¦è™‘ã€‚</p><p>ä»Šå¹´è¿‡çš„è®©æˆ‘æ„Ÿè§‰å¾ˆå¿«ï¼Œä½†æ˜¯è§‰å¾—æ¯”ä»¥å‰å……å®ï¼Œå› ä¸ºåšåˆ°çš„äº‹æƒ…æ¯”ä»¥å‰å¤šå¾ˆå¤šã€‚</p><a id="more"></a><h2 id="2017-æˆ‘åšäº†å“ªäº›äº‹"><a href="#2017-æˆ‘åšäº†å“ªäº›äº‹" class="headerlink" title="2017 æˆ‘åšäº†å“ªäº›äº‹"></a>2017 æˆ‘åšäº†å“ªäº›äº‹</h2><ul><li><p><strong>è®°å½• 2017 æ•´å¹´æ”¶æ”¯</strong><br>ä» 2017 å¹´å¼€å§‹ï¼Œæ¯”è¾ƒè®¤çœŸçš„è®°å½•äº†è‡ªå·±çš„æ—¥å¸¸å¼€æ”¯æƒ…å†µï¼Œè®°è´¦ APP æ˜¾ç¤ºå·²ç»åšæŒ è®°è´¦ 575 å¤©äº†ã€‚æˆ‘ä¸ªäººè®°è´¦å°±æ˜¯ä¸ºäº†é˜²æ­¢è‡ªå·±è¿‡åº¦æ¶ˆè´¹ï¼Œæ¯•ç«Ÿç§»åŠ¨æ”¯ä»˜åœ¨ä¸­å›½è¿™ä¹ˆå‘è¾¾ï¼Œé’±å·²ç»å˜æˆäº†ä¸€ä¸²æ•°å­—ï¼Œä¸æ³¨æ„å°±å…¨èŠ±å…‰äº†ã€‚ä¸Šä¸ªæœˆä¹°äº†ä¸€å° MBPï¼Œç”¨äºæ—¥å¸¸å­¦ä¹ ï¼Œä¹‹å‰çš„æ—§ç”µè„‘å·²ç»å¸¦ä¸åŠ¨ IDE äº†ï¼Œç´¢æ€§æ¢äº†ï¼ŒçœŸçš„æ˜¯è¡€è´µï¼Œä¸è¿‡å†™ä»£ç çœŸçˆ½ï¼æœ‰çš„æ”¯å‡ºå°±æ˜¯æ— æ³•é¿å…ï¼Œèƒ½åšçš„å°±æ˜¯å‡å°‘ä¸å¿…è¦çš„æ”¯å‡ºï¼›è®°è´¦è¿™ä»¶äº‹æƒ…ä¸Šï¼Œåšçš„ä¸å¤ªå¥½çš„æ˜¯è™½ç„¶è®°å½•çš„æ¯”è¾ƒè¯¦å°½ï¼Œä½†æ˜¯ç¼ºå°‘æ€»ç»“ï¼›æ¥å¹´éœ€è¦åšé˜¶æ®µæ€§çš„æ€»ç»“ï¼Œæ¯”å¦‚æ¯ä¸ªæœˆæ€»ç»“ä¸€æ¬¡ï¼Œæ‰¾å‡ºä¸å¿…è¦æ”¯å‡ºï¼Œä¸‹æ¬¡å°½é‡é¿å…ï¼ŒåŠªåŠ›å®è¡Œâ€œå¼€æºèŠ‚æµâ€ã€‚</p></li><li><p><strong>å¼€å§‹åŸºé‡‘å®šæŠ•</strong><br>å¹´åˆçš„æ—¶å€™ï¼Œçœ‹äº†ä¸€äº›ç†è´¢çš„å…¥é—¨ä¹¦ç±ï¼ŒåŸºæœ¬çš„ç†è´¢æŠ€èƒ½è¿˜æ˜¯éœ€è¦æŒæ¡çš„ï¼Œäºæ˜¯ä»å››æœˆä»½å¼€å§‹èµ°ä¸Šäº†å…»åŸºä¹‹è·¯ï¼Œç›®å‰ä¸ºæ­¢åªå®šæŠ•äº†ä¸€åªè‚¡åŸºï¼Œæ”¶ç›Šå°šå¯ï¼Œåšçš„ä¸å¤ªå¥½çš„åœ°æ–¹å°±æ˜¯æŠŠé¸¡è›‹éƒ½æ”¾åœ¨äº†åŒä¸€ä¸ªç¯®å­é‡Œï¼Œæ˜å¹´è¦ç€æ‰‹äºåˆ†æ•£æŠ•èµ„ã€‚</p></li><li><p><strong>è®°å½• 2017 æ•´å¹´æ—¶é—´</strong><br>å»å¹´çœ‹äº†ã€Šå¥‡ç‰¹çš„ä¸€ç”Ÿã€‹è¿™æœ¬ä¹¦ï¼Œæ„Ÿè§‰æ—¶é—´ä¸å¤Ÿç”¨çš„æˆ‘ï¼Œå°è¯•å­¦ä¹  <a href="https://zh.wikipedia.org/wiki/%E4%BA%9A%E5%8E%86%E5%B1%B1%E5%A4%A7%C2%B7%E4%BA%9A%E5%8E%86%E5%B1%B1%E5%BE%B7%E7%BD%97%E7%BB%B4%E5%A5%87%C2%B7%E6%9F%B3%E6%AF%94%E6%AD%87%E5%A4%AB" target="_blank" rel="noopener">æŸ³æ¯”æ­‡å¤«</a> çš„æ—¶é—´ç»Ÿè®¡æ³•ï¼Œè®°å½•è‡ªå·±æ¯å¤©çš„æ—¶é—´æ¸…å•ï¼Œç”¨çš„æ˜¯ IOS ä¸Šçš„ APPï¼šã€Œæ—¶é—´å—ã€</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20171230151461868391216.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure>    <p>é€šè¿‡è½¯ä»¶çš„ç»Ÿè®¡åŠŸèƒ½ï¼Œæ¯”è¾ƒç›´è§‚äº†åæ˜ äº†æˆ‘çš„æ—¶é—´éƒ½å»å“ªå„¿äº†ã€‚<br>è‡ªæˆ‘æ„Ÿè§‰æ¯”å¾€å¹´ç”¨åœ¨å­¦ä¹ ä¸Šçš„æ—¶é—´è¦å¤šå¾ˆå¤šï¼Œä½†æ˜¯é¢„æ–™ä¸åŠçš„æ˜¯æˆ‘åœ¨ç©ï¼ˆæ¸¸æˆã€åŠ¨æ¼«ã€å‡ºå¤–æ¸¸ç©ç­‰èŠ±è´¹çš„æ—¶é—´ï¼‰ä¸Šçš„æŠ•å…¥æ—¶é—´å’Œè¹‰è·çš„æ—¶é—´ï¼ˆå¦‚æ¼«æ— ç›®çš„åœ°ä¸Šç½‘æµè§ˆã€åšæ— ä»»ä½•æ„ä¹‰äº‹æƒ…çš„æ—¶é—´ï¼‰ä¹‹å’Œï¼Œç«Ÿç„¶ç‹‚ç”©å­¦ä¹ æ—¶é—´å‡ æ¡è¡—ğŸ˜°ï¼Œè¯´æ˜è‡ªå·±å¯¹äºæ—¶é—´çš„åˆ©ç”¨è¿˜æ˜¯å¤ªä½å¤ªä½ã€‚<br>æœ€è®©æˆ‘éœ‡æƒŠçš„æ˜¯ç”¨äºäº¤é€š(åè½¦ï¼Œæ­¥è¡Œï¼Œç­‰è½¦ç­‰)çš„æ—¶é—´ï¼Œå±…ç„¶è¾¾åˆ°äº†è¿‘ <code>850</code> å°æ—¶ï¼ä¸€å¹´åäºŒä¸ªæœˆ,å…¶ä¸­çš„ä¸€ä¸ªæœˆå…¨æ˜¯åœ¨è½¦ä¸Šåº¦è¿‡ï¼<strong>æ…æ€ææï¼</strong><br>æŸ³æ¯”æ­‡å¤«åœ¨æ¯å¤©æ¯ä¸ªå‘¨æœ«æ¯ä¸ªæœˆæ¯ä¸ªå­£åº¦æ¯å¹´ä»–éƒ½ä¼šæ±‡æ€»ç»Ÿè®¡è‡ªå·±çš„æ—¶é—´æ”¯å‡ºï¼Œæ ¸ç®—æœ‰æ•ˆæ—¶é—´å¹¶åŠ ä»¥æ€»ç»“ï¼Œè¿™ä¸€ç‚¹æˆ‘ç¡®å®æ˜¯æ²¡åšåˆ°ä»–è¿™ä¹ˆæè‡´ï¼Œä¹Ÿæ˜¯è‡ªå·±éœ€è¦è¿›è¡Œæ”¹è¿›çš„åœ°æ–¹ï¼Œæ¯”å¦‚ä»¥åæ¯ä¸ªæœˆæ€»ç»“ä¸€æ¬¡æ—¶é—´çš„æ¶ˆè´¹ï¼Œçœ‹çœ‹è‡ªå·±æœ‰æ²¡æœ‰åˆ©ç”¨å¥½è¿™ä¸ªæœˆã€‚</p></li><li><p><strong>å¼€å§‹æ—©èµ·</strong><br>åœ¨è®°å½•äº†åŠå¹´çš„æ—¶é—´æ¶ˆè´¹åï¼Œçœ‹äº†ç»Ÿè®¡åï¼Œæ·±è§‰æ—¶é—´çœŸçš„ä¸å¤Ÿç”¨ï¼Œäºæ˜¯ä»å…­æœˆä»½å¼€å§‹æ—©èµ·ï¼Œå·¥ä½œæ—¥åŸºæœ¬æ¯å¤© 5 ç‚¹èµ·åºŠã€‚<br>ä¸è¶³çš„åœ°æ–¹å°±æ˜¯æ—©èµ·åï¼Œåˆ°7ç‚¹æ´—æ¼±åƒé¥­å»ä¸Šç­ä¹‹å‰çš„è¿™æ®µæ—¶é—´ï¼Œæ—¶é—´çš„åˆ©ç”¨ä¸æ˜¯å¾ˆæœ‰æ•ˆç‡ï¼Œè¿˜æœ‰å°±æ˜¯å‘¨æœ«æœ‰æ—¶å€™å˜å¾—å¾ˆæ‡’ï¼Œç»å¸¸å¿«æ‹–åˆ° 8 ç‚¹å¤šæ‰èµ·åºŠğŸ˜“ï¼Œæ˜å¹´åŠªåŠ›ç»™è‡ªå·±æ‰¾äº‹æƒ…ï¼Œæé«˜æ—¶é—´çš„åˆ©ç”¨æ•ˆç‡ï¼Œå‘¨æœ«ç£ä¿ƒè‡ªå·±æ—©èµ·ã€‚</p></li><li><p><strong>å¼€å§‹è®¤çœŸå¯¹å¾…åšå®¢</strong><br>å…¶å®ä» 2016 å¹´ï¼Œä¾¿å¼€å§‹ç”¨ Hexo æ­å»ºäº†åšå®¢ï¼Œå¹¶å¼€å§‹å†™åšå®¢ï¼Œä½†æ˜¯å½“æ—¶åªæ˜¯å¥½å¥‡å¿ƒçš„é©±ä½¿ï¼Œéšä¾¿å†™å†™è§‰å¾—æœ‰è¶£ï¼Œæ‰€ä»¥å†™çš„å¾ˆæ°´ï¼Œä½†æ˜¯ä» 2017 å¹´å¼€å§‹ï¼Œå°±çº¦æŸè‡ªå·±è¦è®¤çœŸç‚¹å†™ï¼Œå¯¹è‡ªå·±å†™åšå®¢ä»˜å‡ºçš„æ—¶é—´è¿›è¡Œè´Ÿè´£ã€‚<br>æˆ‘è®¤ä¸ºå¯¹äºåšæŠ€æœ¯çš„äººè€Œè¨€ï¼Œå†™ä¸å†™åšå®¢æ˜¯ä¸¤ç§äººï¼Œå†™çš„åšå®¢å¥½ä¸å¥½ä¹Ÿæ˜¯ä¸¤ç§äººã€‚<br>ä¸è¶³ä¹‹å¤„å°±æ˜¯æ€»çš„åšå®¢æ–‡ç« ä¸å¤Ÿå¤šï¼Œå¤§å¤šä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ·±åº¦ï¼›æ˜å¹´å¤šå¤šå†™åšå®¢ï¼Œæå‡æŠ€æœ¯èƒ½åŠ›ï¼ŒæœŸæœ›å¯ä»¥å†™ä¸€äº›æ¯”è¾ƒæœ‰æ·±åº¦çš„åšå®¢ã€‚</p></li><li><p><strong>è‡ªå­¦æ–°çš„æŠ€æœ¯</strong><br>æŠ€æœ¯çš„æ›´è¿­é€Ÿåº¦å¾ˆå¿«ï¼Œä¸ºäº†ä¸è¢«æ·˜æ±°ï¼Œåªæœ‰é€šè¿‡ä¸æ–­å­¦ä¹ ï¼Œæ¥æé«˜æŠ€æœ¯èƒ½åŠ›ã€‚<br>ç›®å‰æ‰€åœ¨çš„å…¬å¸æ˜¯ä¸€å®¶ä»¥ä¸šåŠ¡é©±åŠ¨çš„å…¬å¸ï¼Œæ‰€ä»¥å¹³æ—¶å†™çš„ä¸šåŠ¡ä»£ç æ¯”è¾ƒå¤šä¸€äº›ï¼Œå¯¹äºæ–°çš„æŠ€æœ¯æ¥è§¦çš„æ¯”è¾ƒå°‘ï¼Œä½†æ˜¯é¢†å¯¼æ¯”è¾ƒé¼“åŠ±æˆ‘ä»¬å­¦ä¹ æ–°çš„æŠ€æœ¯ç”¨äºå·¥ä½œä¸­ã€‚<br>å…¬å¸çš„æŠ€æœ¯ä¸€æˆä¸å˜å¾€å¾€ä¸æ˜¯å…¬å¸çš„é—®é¢˜ï¼Œè€Œæ˜¯æˆ‘ä»¬åšæŠ€æœ¯çš„é—®é¢˜ï¼Œå°±ç®—å…¬å¸æƒ³ç”¨æ–°çš„æŠ€æœ¯ï¼Œä½†æ˜¯æ²¡æœ‰äººä¼šï¼Œè¿™ç§æŠ€æœ¯ä¹Ÿå°±ä¸ä¼šè¢«å¼•å…¥ï¼Œå› ä¸ºä½¿ç”¨æˆæœ¬å¤ªé«˜ï¼›ä½†æ˜¯è‹¥è¿™é¡¹æŠ€æœ¯ï¼Œæˆ‘ä»¬éƒ½ä¼šï¼Œè€Œä¸”åˆå¾ˆæœ‰åˆ©äºå…¬å¸ï¼Œç›¸ä¿¡ä¸€å®šä¼šå¾—åˆ°å…¬å¸æ¨è¡Œã€‚ä¸ºäº†ä¿æŒè¿›æ­¥ï¼Œè‡ªå­¦æ–°å…´çš„æŠ€æœ¯ï¼Œå¯¹äºè‡ªå­¦æ–°æŠ€æœ¯ï¼Œå‚ç›´æ•™è‚²ç½‘ç«™(ç¼–ç¨‹) <a href="http://www.imooc.com/" target="_blank" rel="noopener">æ…•è¯¾ç½‘</a> å¾ˆä¸é”™ï¼å­¦ä¹ äº†æ–°çš„æŠ€æœ¯ï¼Œåœ¨æ°å½“çš„æ—¶æœºåˆé€‚çš„é¡¹ç›®è¿›è¡Œå¼•å…¥ï¼Œä¹Ÿæ˜¯å¯¹è‡ªå·±å­¦ä¹ æˆæœçš„ä¸€ç§å®è·µï¼</p></li><li><p><strong>ä¹° Kindle çœ‹ä¹¦</strong><br>å¹´åˆä¹°äº† Kindle ç”¨äºçœ‹ä¹¦ï¼Œå¼ºåˆ¶è‡ªå·±çœ‹ä¹¦ï¼›çœ‹ä¹¦çš„è¿‡ç¨‹ä¸­ï¼Œè¶Šå‘è§‰å¾—è‡ªå·±çš„é˜…è¯»èƒ½åŠ›å®åœ¨æ˜¯å¤ªå·®äº†ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½è¯»ä¸æ‡‚ï¼Œè¿™ä¹Ÿåšå®šäº†æˆ‘è¦åšæŒçœ‹ä¹¦çš„æƒ³æ³•ã€‚<br>ä»Šå¹´çœ‹äº† 25 æœ¬å·¦å³çš„ä¹¦ï¼Œä½†æ˜¯ç²¾è¯»çš„å¤ªå°‘ï¼Œå¾ˆå¤šéƒ½æ˜¯å›«å›µåæ£ï¼Œçº ç»“äºè¯»ä¹¦çš„æ•°é‡ï¼Œè€Œä¸æ˜¯è´¨é‡ï¼Œæ¥å¹´å°½é‡æé«˜é˜…è¯»çš„è´¨é‡ã€‚</p></li></ul><h2 id="2017-åšçš„ä¸å¥½çš„åœ°æ–¹"><a href="#2017-åšçš„ä¸å¥½çš„åœ°æ–¹" class="headerlink" title="2017 åšçš„ä¸å¥½çš„åœ°æ–¹"></a>2017 åšçš„ä¸å¥½çš„åœ°æ–¹</h2><ul><li><p>é™¤äº†ä¸Šé¢æå‡ºçš„é—®é¢˜ï¼Œèº«ä¸Šè¿˜æœ‰ä¸€å †ç­‰ç€æˆ‘å»å…‹æœçš„ç¼ºç‚¹ã€‚</p></li><li><p>ä¸‹åŠå¹´çš„æ—¶å€™ï¼Œæäº†ä¸ªæœåŠ¡å™¨ï¼Œç»™ç”µè„‘è£…ä¸Šäº† SS çš„å®¢æˆ·ç«¯ï¼Œå¾—ä»¥éšæ—¶å¯ä»¥è®¿é—®è¢«å¢™çš„ Google ã€‚äºæ˜¯åœ¨ä¾¿åˆ©æŸ¥æ‰¾é—®é¢˜çš„ç¯å¢ƒä¸‹ï¼Œå‡ºç°äº†è¦åšä»€ä¹ˆå·¥ä½œçš„æ—¶å€™ï¼Œä¸å»æ€è€ƒï¼Œè€Œæ˜¯å…ˆå»è¿›è¡Œ Google æœç´¢ä¸€ç•ªçš„æƒ…å†µï¼Œå¤ªè¿‡ä¾èµ– Google ï¼Œéšæ—¶ç•ªç¾½å¢™å¯¹äºæˆ‘ä¹Ÿä¸æ˜¯ä¸€ä»¶å¥½äº‹ã€‚æ¥å¹´å¸Œæœ›å¯ä»¥å…»æˆä¸‡äº‹å…ˆç‹¬ç«‹æ€è€ƒçš„ä¹ æƒ¯ï¼Œä¸è¦æˆä¸ºä¸€ååªä¼š Google ä»£ç çš„ç å†œã€‚</p></li><li><p>å¿˜äº†ä»å‡ æœˆä»½å¼€å§‹ï¼Œç‹è€…è£è€€ç«äº†ï¼Œæˆ‘ä¹Ÿä¸å‡ºæ„å¤–åœ°é™·äº†è¿›å»ï¼Œå¤§æ¦‚ç©äº†ä¸¤ä¸‰ä¸ªæœˆï¼Œä¹‹åæ„è¯†åˆ°è‡ªå·±çš„åšæ³•ä¸å¯¹ï¼Œæ–¹æ‰å¸è½½äº†æ¸¸æˆã€‚å¤šäºäº†å®šåŠ›çš„å¢é•¿ï¼Œå¦åˆ™è¿˜å¯èƒ½æ²‰è¿·å…¶ä¸­ä¸å¯è‡ªæ‹”ï¼Œä»¥åå°±å°½é‡ä¸ç©æ¸¸æˆäº†å§ï¼Œæ¯•ç«Ÿè¿˜è¦é‚£ä¹ˆå¤šçš„çŸ¥è¯†ç­‰å¾…ç€æˆ‘å»å­¦å‘¢ï¼</p></li><li><p>æ¯å¹´éƒ½ä¼šçœ‹åˆ°ç¨‹åºå‘˜çŒæ­»çš„æ–°é—»ï¼Œè¿™ä¸ªè¡Œä¸šæœ‰çš„å…¬å¸é«˜å¼ºåº¦æ— ä¼‘æ­¢çš„åŠ ç­ï¼ŒåŠ ä¸Šç²¾ç¥å‹åŠ›ï¼Œä»¥åŠä¸ç»å¸¸é”»ç‚¼èº«ä½“çš„ä¹ æƒ¯ï¼Œå¯¼è‡´æ‚²å‰§çš„å‘ç”Ÿã€‚åœ¨å”å˜˜çš„åŒæ—¶ï¼Œå´æ²¡æœ‰æƒ³åˆ°è‡ªå·±ä¹Ÿæ²¡æœ‰é”»ç‚¼èº«ä½“çš„ä¹ æƒ¯ï¼Œå¹¸è¿çš„æ˜¯å…¬å¸ä¸åŠ ç­ã€‚ä¹Ÿæ›¾ç»åšæŒè·‘æ­¥é”»ç‚¼äº†ä¸€æ®µæ—¶é—´ï¼Œä½†æ˜¯æ²¡æœ‰åšæŒä¸‹æ¥ï¼Œè¿˜æ˜¯è¦åˆ¶å®šä¸€ä¸ªé”»ç‚¼çš„è®¡åˆ’ã€‚</p></li></ul><h2 id="2018-æˆ‘æƒ³è¦åšçš„äº‹"><a href="#2018-æˆ‘æƒ³è¦åšçš„äº‹" class="headerlink" title="2018 æˆ‘æƒ³è¦åšçš„äº‹"></a>2018 æˆ‘æƒ³è¦åšçš„äº‹</h2><ul><li>é”»ç‚¼èº«ä½“ï¼Œèº«ä½“å¥½æ˜¯ä¸€åˆ‡æ´»åŠ¨çš„å‰æ</li><li>å¤šå†™åšå®¢ï¼Œå¤šç²¾è¯»ä¹¦ï¼Œå¤šå†™è¯»ä¹¦ç¬”è®°</li><li>ç‹¬ç«‹æ€è€ƒï¼Œå¤šæ€»ç»“ï¼Œäº‰å–åšä¸€ä¸ªç²¾è¿›çš„äºº</li><li>é‡æ–°å­¦ä¹ è‹±è¯­ï¼Œè‹±è¯­èƒ½åŠ›å¤ªå·®äº†ï¼Œå¤šå­¦ç‚¹è‹±è¯­</li><li><del>æ‹¾èµ·æ—¥è¯­çš„å­¦ä¹ </del></li></ul><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>èµ„æºè¶Šå¤šè¶Šæµªè´¹ï¼Œèµ„æºè¶Šå°‘è¶Šçè´µï¼Œæ—¶é—´äº¦æ˜¯ï¼Œå‘¨æœ«æ—¶é—´å¾ˆå¤šä½†æ˜¯åˆ©ç”¨æ•ˆç‡å´ä½çš„å¯æ€•ï¼Œæ¯å¤©æ—©èµ·ä¸€ä¸ªå¤šå°æ—¶ï¼Œèƒ½å®Œæˆå‘¨æœ«å¥½å‡ ä¸ªå°æ—¶èƒ½å®Œæˆçš„äº‹æƒ…ã€‚æ¯æ¯æµªè´¹äº†å…‰é˜´ï¼Œåœ¨ä½™ä¸‹ä¸å¤šçš„æ—¶é—´é‡Œæƒ³è¦å¼€å§‹è®¤çœŸæ—¶ï¼Œå´æ€»æ˜¯åœ¨æ—¶é—´ä¸å¤Ÿç”¨çš„æŠ±æ€¨å£°é‡Œï¼Œè‰è‰ç»“æŸäº†æœ¬æ¬¡å‘¨æœ«ï¼Œæ‰€ä»¥ï¼Œæ—¶é—´éƒ½å»å“ªå„¿å‘¢ï¼Ÿ</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸€å¹´æ—¶é—´å€ç„¶è€Œé€ï¼Œä»Šæ—¥å·²æ˜¯å¹´ç»ˆå²å°¾çŸ£ï¼  &lt;/p&gt;
&lt;p&gt;æ€»æ˜¯æ„Ÿè§‰ä»Šå¹´è¿‡å¾—å¤ªå¿«äº†ï¼Œå¾ˆå¤šæ¬¡ä¸‹ç­çš„æ—¶å€™ï¼ŒåŒäº‹è¯´ï¼šâ€œæ˜å¤©å‘¨äº”äº†â€ï¼Œè€Œæˆ‘çš„ååº”å°±æ˜¯ï¼šâ€œè¯¶ï¼Ÿåˆè¦æ”¾å‡äº†å—ï¼Ÿæˆ‘æ€ä¹ˆæ„Ÿè§‰å‰å¤©æ‰ä¸Šç­çš„å•ŠğŸ˜‚â€ã€‚&lt;br&gt;ä»¥å‰è¿˜åœ¨ä¸Šå­¦çš„æ—¶å€™ï¼Œæ€»æ˜¯æ„Ÿå¹ï¼Œè¿™ä¸€å¤©å¤©ä¸ºä½•å¦‚æ­¤æ¼«é•¿å‘¢ï¼éšç€å¹´é¾„çš„å¢é•¿ï¼Œä»¿ä½›æ—¶é—´çš„æµé€Ÿä¹ŸåŒæ—¶åŠ å¿«äº†ä¸€èˆ¬ï¼Œæ¯å¤©æ€»æ˜¯è§‰å¾—æ˜¯åœ¨å’Œæ—¶é—´èµ›è·‘ï¼Œè®©æˆ‘æœ‰äº›ç„¦è™‘ã€‚&lt;/p&gt;
&lt;p&gt;ä»Šå¹´è¿‡çš„è®©æˆ‘æ„Ÿè§‰å¾ˆå¿«ï¼Œä½†æ˜¯è§‰å¾—æ¯”ä»¥å‰å……å®ï¼Œå› ä¸ºåšåˆ°çš„äº‹æƒ…æ¯”ä»¥å‰å¤šå¾ˆå¤šã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="å¹´ç»ˆæ€»ç»“" scheme="http://nullpointer.pw/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>macç¼–è¯‘å®‰è£…Nginx</title>
    <link href="http://nullpointer.pw/mac%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85nginx.html"/>
    <id>http://nullpointer.pw/macç¼–è¯‘å®‰è£…nginx.html</id>
    <published>2017-12-06T22:50:18.000Z</published>
    <updated>2017-12-06T22:51:15.308Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è™½ç„¶åç®€å•çš„æ–¹å¼å®‰è£…Nginxï¼Œä½†æ˜¯ä¹ æƒ¯äº†åœ¨linux ä¸Šçš„æ“ä½œï¼Œä¸ºäº†ä¿æŒä¸€è‡´ï¼Œå› æ­¤ä¹Ÿä½¿ç”¨ç¼–è¯‘å®‰è£…çš„æ–¹æ³•è¿›è¡Œå®‰è£…Nginxã€‚</p><a id="more"></a><h2 id="èµ„æºä¸‹è½½"><a href="#èµ„æºä¸‹è½½" class="headerlink" title="èµ„æºä¸‹è½½"></a>èµ„æºä¸‹è½½</h2><ul><li>nginx: <a href="http://nginx.org/download/nginx-1.12.2.tar.gz" target="_blank" rel="noopener">http://nginx.org/download/nginx-1.12.2.tar.gz</a></li><li>zlib: <a href="http://zlib.net/zlib-1.2.11.tar.gz" target="_blank" rel="noopener">http://zlib.net/zlib-1.2.11.tar.gz</a></li><li>pcre: ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.38.tar.gz</li><li>openssl: <a href="https://www.openssl.org/source/openssl-1.1.0g.tar.gz" target="_blank" rel="noopener">https://www.openssl.org/source/openssl-1.1.0g.tar.gz</a></li></ul><p>è¿™äº›éƒ½æ˜¯ Nginx ç¼–è¯‘éœ€è¦çš„ä¾èµ–ï¼Œä¸‹è½½ååˆ†åˆ«è§£å‹ï¼Œ æ³¨æ„è§£å‹çš„æ–‡ä»¶è¦åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹é¢</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf nginx-1.12.2.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf zlib-1.2.11.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf pcre-8.38.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf openssl-1.1.0g.tar.gz</span><br></pre></td></tr></table></figure><p>è¿›å…¥nginxç›®å½•åæ‰§è¡Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/nginx --with-zlib=../zlib-1.2.11 --with-pcre=../pcre-8.38 --with-openssl=../openssl-1.1.0g</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure></p><p>ä»¥ä¸Šæ‰§è¡Œå®Œæ¯•åï¼Œ nginx å°±è¢«å®‰è£…åˆ° <code>/usr/local/nginx</code> ç›®å½•ä¸‹</p><h2 id="Nginxçš„å¯åœ"><a href="#Nginxçš„å¯åœ" class="headerlink" title="Nginxçš„å¯åœ"></a>Nginxçš„å¯åœ</h2><p>åœ¨ mac ä¸Šéšä¾¿ä¿®æ”¹ç‚¹ä¸œè¥¿ï¼Œå°±æç¤ºæ²¡æœ‰æƒé™ä¹Ÿæ˜¯é†‰äº†ï¼Œåªå¥½æ¯ä¸ªå‘½ä»¤å‰é¢éƒ½åŠ ä¸Š <strong>sudo</strong> äº†</p><p>å¯åŠ¨<br><code>sudo /usr/local/nginx/sbin/nginx</code></p><p>å…³é—­<br><code>sudo /usr/local/nginx/sbin/nginx -s stop</code></p><p>é‡å¯<br><code>sudo /usr/local/nginx/sbin/nginx -s reload</code></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="http://blog.csdn.net/tulies/article/details/77611409" target="_blank" rel="noopener">http://blog.csdn.net/tulies/article/details/77611409</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;è™½ç„¶åç®€å•çš„æ–¹å¼å®‰è£…Nginxï¼Œä½†æ˜¯ä¹ æƒ¯äº†åœ¨linux ä¸Šçš„æ“ä½œï¼Œä¸ºäº†ä¿æŒä¸€è‡´ï¼Œå› æ­¤ä¹Ÿä½¿ç”¨ç¼–è¯‘å®‰è£…çš„æ–¹æ³•è¿›è¡Œå®‰è£…Nginxã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Nginx" scheme="http://nullpointer.pw/categories/Nginx/"/>
    
    
      <category term="nginxå®‰è£…" scheme="http://nullpointer.pw/tags/nginx%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨nginxè§£å†³è·¨åŸŸé—®é¢˜</title>
    <link href="http://nullpointer.pw/%E5%88%A9%E7%94%A8nginx%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98.html"/>
    <id>http://nullpointer.pw/åˆ©ç”¨nginxè§£å†³è·¨åŸŸé—®é¢˜.html</id>
    <published>2017-12-06T22:31:02.000Z</published>
    <updated>2017-12-06T22:35:37.045Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘é‡åˆ°äº†è·¨åŸŸé—®é¢˜ï¼Œç»“åˆä¹‹å‰ã€å¾®ä¿¡æ”¯ä»˜å¼€å‘æœ¬åœ°æ¥æ”¶å¼‚æ­¥é€šçŸ¥å›è°ƒã€‘çš„ç»éªŒï¼Œåˆ©ç”¨ Nginx å®ç°äº†è·¨åŸŸã€‚</p><p>å…¬å¸ä¹‹å‰ä¸ºäº†è§£å†³è·¨åŸŸé—®é¢˜ï¼Œç”¨çš„æ˜¯ iFrameï¼Œåæ­£å¯¹äºåªåšåç«¯çš„æˆ‘è€Œè¨€ï¼Œè§‰å¾—å¾ˆå¤æ‚ï¼Œä½†æ˜¯ç°åœ¨åˆ©ç”¨ nginx å¦‚æ­¤ç®€å•å°±å®ç°äº†è·¨åŸŸï¼Œæ„Ÿè§‰è¿˜æŒºæœ‰æˆå°±æ„Ÿï¼Œå“ˆå“ˆï¼</p><a id="more"></a><h2 id="ä¸ºä»€ä¹ˆä¼šå‡ºç°è·¨åŸŸé—®é¢˜ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¼šå‡ºç°è·¨åŸŸé—®é¢˜ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šå‡ºç°è·¨åŸŸé—®é¢˜ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¼šå‡ºç°è·¨åŸŸé—®é¢˜ï¼Ÿ</h2><p>å‰äººå·²ç»æ€»ç»“å¾—å¾ˆå¥½äº†ï¼Œå°±å€Ÿé‰´ä¸€ä¸‹å§ï¼</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20171206151256895451444.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><blockquote><p>å›¾ç‰‡æ¥æºåœ°å€ï¼š <a href="http://www.cnblogs.com/gabrielchen/p/5066120.html" target="_blank" rel="noopener">http://www.cnblogs.com/gabrielchen/p/5066120.html</a></p></blockquote><p>æˆ‘ä»¬åœ¨å¼€å‘é¡¹ç›®ä¸­é‡åˆ°çš„è·¨åŸŸé—®é¢˜å…·ä½“æ˜¯è¿™æ ·çš„ï¼Œå…¬å¸çš„åŸŸåè‹¥æ˜¯ <strong>www.domain.com</strong>ï¼Œé‚£ä¹ˆå¦‚æœæ˜¯å‘é€çš„ Ajax è¯·æ±‚å°±ä¸é€šè¿‡è¿™ä¸ªåŸŸåèµ°äº†ï¼Œè€Œæ˜¯é€šè¿‡ <strong>a.domain.com</strong>ï¼Œäºæ˜¯ä¾¿å‡ºç°äº†è·¨åŸŸé—®é¢˜ã€‚</p><p>æ¯”å¦‚åœ¨ <strong>www.domain.com</strong> é¦–é¡µä¸­éœ€è¦é€šè¿‡ Ajax è·å–ç”¨æˆ·ç™»å½•ä¿¡æ¯ã€‚</p><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><h3 id="ä¸‹è½½æ¼”ç¤ºé¡¹ç›®"><a href="#ä¸‹è½½æ¼”ç¤ºé¡¹ç›®" class="headerlink" title="ä¸‹è½½æ¼”ç¤ºé¡¹ç›®"></a>ä¸‹è½½æ¼”ç¤ºé¡¹ç›®</h3><p>ä¸ºäº†æ¼”ç¤ºè¿™ä¸ªè·¨åŸŸé—®é¢˜ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ª SpringBoot é¡¹ç›®ï¼Œä¾¿äºæ¼”ç¤ºï¼Œå¦‚æœä¸ä¼š SpringBoot ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå› ä¸ºé‡ç‚¹åœ¨äº Nginx é…ç½®ä¸Šé¢ã€‚</p><p><strong><a href="https://pan.baidu.com/s/1pLifFBl" target="_blank" rel="noopener">ã€ç‚¹æˆ‘ä¸‹è½½ã€‘</a>  æå–å¯†ç : 8e68</strong></p><h3 id="å¯åŠ¨æ¼”ç¤ºé¡¹ç›®"><a href="#å¯åŠ¨æ¼”ç¤ºé¡¹ç›®" class="headerlink" title="å¯åŠ¨æ¼”ç¤ºé¡¹ç›®"></a>å¯åŠ¨æ¼”ç¤ºé¡¹ç›®</h3><p>å› ä¸ºæ˜¯SpringBoot é¡¹ç›®ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ <strong>java -jar</strong> çš„æ–¹å¼ç›´æ¥å¯åŠ¨ï¼Œä¸ºäº†æ¼”ç¤ºè·¨åŸŸï¼Œå› æ­¤éœ€è¦å¯åŠ¨ä¸¤ä¸ªé¡¹ç›®ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä¸¤ä¸ªç«¯å£æ¥åˆ†åˆ«å¯åŠ¨é¡¹ç›®ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># A é¡¹ç›®ï¼Œç«¯å£è®¾ç½®ä¸º8080</span></span></span><br><span class="line">java -jar -Dserver.port=8080 demo.jar</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># B é¡¹ç›®ï¼Œç«¯å£è®¾ç½®ä¸º8090</span></span></span><br><span class="line">java -jar -Dserver.port=8090 demo.jar</span><br></pre></td></tr></table></figure><h3 id="é…ç½®æœ¬åœ°-Host"><a href="#é…ç½®æœ¬åœ°-Host" class="headerlink" title="é…ç½®æœ¬åœ° Host"></a>é…ç½®æœ¬åœ° Host</h3><p>ä¸ºäº†æ¼”ç¤ºè¿˜éœ€è¦ä¸¤ä¸ªåŸŸåï¼Œä¸ç”¨çœŸæ­£çš„åŸŸåï¼Œä¿®æ”¹æœ¬åœ°çš„ Host å³å¯ï¼Œå°†ä¸¤ä¸ªåŸŸåçš„ Host éƒ½æ‰§è¡Œæœ¬åœ°ã€‚å¯ä»¥ä½¿ç”¨ <a href="https://oldj.github.io/SwitchHosts/" target="_blank" rel="noopener">SwitchHosts</a> æ¥æ–¹ä¾¿åˆ‡æ¢ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 www.domain.com</span><br><span class="line">127.0.0.1 a.domain.com</span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20171206151256982730568.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="é…ç½®Nginx"><a href="#é…ç½®Nginx" class="headerlink" title="é…ç½®Nginx"></a>é…ç½®Nginx</h3><p>ç¼–è¯‘å®‰è£… Nginxåï¼Œ ä¿®æ”¹ nginx.conf é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">user  nobody;</span></span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">error_log  logs/error.log;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">error_log  logs/error.log  notice;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">error_log  logs/error.log  info;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">pid        logs/nginx.pid;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    #log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span><br><span class="line">    #                  '$status $body_bytes_sent "$http_referer" '</span><br><span class="line">    #                  '"$http_user_agent" "$http_x_forwarded_for"';</span><br><span class="line">    #access_log  logs/access.log  main;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line">    #gzip  on;</span><br><span class="line"></span><br><span class="line">    upstream webServer &#123;</span><br><span class="line">      server 127.0.0.1:8080;</span><br><span class="line">    &#125;</span><br><span class="line">    upstream ajaxServer &#123;</span><br><span class="line">      server 127.0.0.1:8090;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  a.domain.com;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">          proxy_pass http://ajaxServer;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  www.domain.com;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">          proxy_pass http://webServer;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ¥è¯¦ç»†è§£é‡Šä¸€ä¸‹è¿™é‡Œçš„é…ç½®ï¼Œ<strong>a.domain.com</strong> ä»£ç†åˆ° ajaxServerï¼Œå³ç«¯å£è®¾ç½®ä¸º 8090 çš„ B é¡¹ç›®ï¼›</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  a.domain.com;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">          proxy_pass http://ajaxServer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†çœ‹çœ‹ <strong>www.domain.com</strong> çš„é…ç½®ï¼Œåå‘ä»£ç†åˆ° webServer , å³ç«¯å£è®¾ç½®ä¸º 8080 çš„ A é¡¹ç›®ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  www.domain.com;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">      proxy_pass http://webServer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>è®¿é—®é¡¹ç›®åœ°å€ <strong><a href="http://www.domain.com/page" target="_blank" rel="noopener">http://www.domain.com/page</a></strong>ï¼Œ è¿›å…¥ä»¥ä¸‹é¡µé¢ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20171206151257156452621.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>å½“è¾“å…¥æ¡†ä¸è¾“å…¥æˆ–è€…è¾“å…¥çš„æ˜¯å½“å‰åŸŸå <strong><a href="http://www.domain.com" target="_blank" rel="noopener">http://www.domain.com</a></strong> æ—¶ï¼Œå¯ä»¥æ­£å¸¸æäº¤ï¼Œä¸ä¼šé‡åˆ°è·¨åŸŸé—®é¢˜ã€‚</p><p>å½“è¾“å…¥ <strong><a href="http://a.domain.com" target="_blank" rel="noopener">http://a.domain.com</a></strong> æ—¶ï¼Œç‚¹å‡»æŒ‰é’®è¿›è¡Œæäº¤ï¼Œä¼šå‡ºç°è·¨åŸŸé—®é¢˜ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20171207151259706233672.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h2 id="ä¿®æ”¹-Nginx-é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹-Nginx-é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ Nginx é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹ Nginx é…ç½®æ–‡ä»¶</h2><p>ä¿®æ”¹ <strong>www.domain.com</strong> çš„é…ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  www.domain.com;</span><br><span class="line"></span><br><span class="line">    location /proxy/ &#123;</span><br><span class="line">        proxy_set_header Host a.domain.com;</span><br><span class="line">        proxy_pass http://ajaxServer/;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">      proxy_pass http://webServer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­è¿™é‡Œè¿™å¤„é…ç½®æ˜¯è¿™ç¯‡æ–‡ç« çš„å…³é”®ç‚¹ã€‚æ„æ€æ˜¯ <strong><a href="http://www.domain.com/proxy/" target="_blank" rel="noopener">http://www.domain.com/proxy/</a></strong> å¼€å¤´çš„è¯·æ±‚å°†ä¼šè¢«åå‘ä»£ç†åˆ° <strong>B é¡¹ç›®</strong> å³ <strong><a href="http://a.domain.com" target="_blank" rel="noopener">http://a.domain.com</a></strong> åŸŸåï¼Œ<strong>proxy_set_header Host</strong> è¿™ä¸€è¡Œæ˜¯å¿…é¡»çš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤è¡Œçš„åŸŸåéœ€è¦ä¿æŒä¸€è‡´ï¼Œ<strong>ä¸”ç¬¬äºŒè¡Œåé¢å¿…é¡»è¦æœ‰ä¸€ä¸ª /</strong>ï¼Œè‡³äºåŸå› ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="http://nullpointer.pw/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98%E5%BC%80%E5%8F%91%E6%9C%AC%E5%9C%B0%E6%8E%A5%E6%94%B6%E5%BC%82%E6%AD%A5%E9%80%9A%E7%9F%A5%E5%9B%9E%E8%B0%83%E3%80%90%E5%AE%9E%E6%88%98%E3%80%91.html#å¿…çŸ¥çš„-Nginx-è¯­æ³•">proxy_passåçš„urlåŠ ä¸åŠ /çš„åŒºåˆ«</a><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location /proxy/ &#123;</span><br><span class="line">    proxy_set_header Host a.domain.com;</span><br><span class="line">    proxy_pass http://ajaxServer/;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹ä¹‹åä¿å­˜é…ç½®æ–‡ä»¶ï¼Œé‡å¯ Nginx<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./nginx -s reload</span><br></pre></td></tr></table></figure></p><h2 id="å†æ¬¡æµ‹è¯•"><a href="#å†æ¬¡æµ‹è¯•" class="headerlink" title="å†æ¬¡æµ‹è¯•"></a>å†æ¬¡æµ‹è¯•</h2><p>ä¿®æ”¹æäº¤ URL ä¸º <strong><a href="http://www.domain.com/proxy" target="_blank" rel="noopener">http://www.domain.com/proxy</a></strong></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20171207151259808430209.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>ç‚¹å‡»æŒ‰é’®è¿›è¡Œæäº¤ï¼Œå‘ç°æ­¤æ—¶æ²¡æœ‰å‡ºç°è·¨åŸŸé—®é¢˜ã€‚è™½ç„¶æäº¤çš„URL åŸŸåæ˜¯ <strong><a href="http://www.domain.com" target="_blank" rel="noopener">http://www.domain.com</a></strong>ï¼Œè€Œè¯·æ±‚ç»è¿‡ Nginx çš„åå‘ä»£ç†ä¹‹åï¼Œå®é™…ä¸Šæäº¤åˆ°äº† B é¡¹ç›®ï¼Œå³ <strong><a href="http://a.domain.com" target="_blank" rel="noopener">http://a.domain.com</a></strong>ï¼Œ ä¹Ÿå¯ä»¥çœ‹åˆ° B é¡¹ç›®æ‰“å°äº†è¾“å‡ºè¯­å¥ userId: 12ï¼Œç”±æ­¤ä¾¿è§£å†³äº†è·¨åŸŸé—®é¢˜ã€‚</p><h2 id="èµ„æºä¸‹è½½"><a href="#èµ„æºä¸‹è½½" class="headerlink" title="èµ„æºä¸‹è½½"></a>èµ„æºä¸‹è½½</h2><p>æ–‡ç« æ¶‰åŠçš„jaræ–‡ä»¶æˆ‘æ‰“æˆä¸€ä¸ªå‹ç¼©åŒ…ï¼Œå¯ä»¥è‡ªå·±ä¸‹è½½å°è¯•ä¸€ä¸‹ã€‚</p><p><strong><a href="https://pan.baidu.com/s/1pLifFBl" target="_blank" rel="noopener">ã€ç‚¹æˆ‘ä¸‹è½½ã€‘</a>  æå–å¯†ç : 8e68</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘é‡åˆ°äº†è·¨åŸŸé—®é¢˜ï¼Œç»“åˆä¹‹å‰ã€å¾®ä¿¡æ”¯ä»˜å¼€å‘æœ¬åœ°æ¥æ”¶å¼‚æ­¥é€šçŸ¥å›è°ƒã€‘çš„ç»éªŒï¼Œåˆ©ç”¨ Nginx å®ç°äº†è·¨åŸŸã€‚&lt;/p&gt;
&lt;p&gt;å…¬å¸ä¹‹å‰ä¸ºäº†è§£å†³è·¨åŸŸé—®é¢˜ï¼Œç”¨çš„æ˜¯ iFrameï¼Œåæ­£å¯¹äºåªåšåç«¯çš„æˆ‘è€Œè¨€ï¼Œè§‰å¾—å¾ˆå¤æ‚ï¼Œä½†æ˜¯ç°åœ¨åˆ©ç”¨ nginx å¦‚æ­¤ç®€å•å°±å®ç°äº†è·¨åŸŸï¼Œæ„Ÿè§‰è¿˜æŒºæœ‰æˆå°±æ„Ÿï¼Œå“ˆå“ˆï¼&lt;/p&gt;
    
    </summary>
    
      <category term="Nginx" scheme="http://nullpointer.pw/categories/Nginx/"/>
    
    
      <category term="nginx" scheme="http://nullpointer.pw/tags/nginx/"/>
    
      <category term="è·¨åŸŸé—®é¢˜" scheme="http://nullpointer.pw/tags/%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/"/>
    
      <category term="åå‘ä»£ç†" scheme="http://nullpointer.pw/tags/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>javaæ¨å¹¿ç³»ç»Ÿè®¾è®¡</title>
    <link href="http://nullpointer.pw/java%E6%8E%A8%E5%B9%BF%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1.html"/>
    <id>http://nullpointer.pw/javaæ¨å¹¿ç³»ç»Ÿè®¾è®¡.html</id>
    <published>2017-12-03T08:06:26.000Z</published>
    <updated>2017-12-03T11:08:05.064Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å…¬å¸æ–°ç«™ç”±äºè¿è¥éœ€æ±‚ï¼Œéœ€è¦å¼€å‘ä¸€å¥—æ¨å¹¿ç³»ç»Ÿï¼Œç”¨äºç½‘ç«™ç”¨æˆ·å¼•æµï¼Œè¡ç”Ÿå‡ºçš„æ¨å¹¿å¥—è·¯ç›®å‰ä¾¿å·²ç»æœ‰å››ç§ï¼Œä¸ºäº†é™ä½è¿è¥ä¸Šæ‰‹æ¨å¹¿ç³»ç»Ÿçš„éš¾åº¦ï¼Œå› æ­¤æ¨å¹¿ç³»ç»ŸåŠ¡å¿…è¦ä¾¿äºä½¿ç”¨ï¼Œæ‰€ä»¥æ¯ç§æ¨å¹¿æ–¹å¼çš„é…ç½®éœ€è¦ä¿æŒè¶³å¤Ÿæ˜äº†ç®€å•ã€‚</p><a id="more"></a><h2 id="èŠèŠæ¨å¹¿"><a href="#èŠèŠæ¨å¹¿" class="headerlink" title="èŠèŠæ¨å¹¿"></a>èŠèŠæ¨å¹¿</h2><p>å¸¸è§çš„æ¨å¹¿å¥—è·¯å°±æ˜¯é’ˆå¯¹ä¸€ä¸ªæ¨å¹¿å‘˜ç”Ÿæˆæ¨å¹¿é“¾æ¥ï¼Œæ¨å¹¿å‘˜ç„¶åå…¶ä»–ç”¨æˆ·é€šè¿‡æ¨å¹¿é“¾æ¥ç‚¹å‡»è¿›æ¥æ³¨å†Œï¼Œä½†æ˜¯ä¸å¯èƒ½æ¨å¹¿çš„é¡µé¢æ˜¯æ³¨å†Œé¡µé¢ï¼Œæ‰€ä»¥éœ€è¦å…ˆè®°å½•ä¸‹ç”¨æˆ·çš„æ¥æºã€‚æ³¨å†ŒæˆåŠŸçš„åŒæ—¶ï¼Œç»‘å®šç”¨æˆ·ä¸æ¨å¹¿å‘˜çš„å…³ç³»ï¼Œä¾¿äºæ—¥åé€šè¿‡ç”¨æˆ·çš„å……å€¼æ¶ˆè´¹ç»Ÿè®¡æ¨å¹¿å‘˜çš„æ¨å¹¿è´¹ç”¨ï¼Œä»¥ä¸‹ä¸ºæ¨å¹¿çš„ç®€å•æµç¨‹å›¾ã€‚</p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/20171203151228872026958.png" alt=""></p><h2 id="æ¨å¹¿ç³»ç»Ÿå®ç°"><a href="#æ¨å¹¿ç³»ç»Ÿå®ç°" class="headerlink" title="æ¨å¹¿ç³»ç»Ÿå®ç°"></a>æ¨å¹¿ç³»ç»Ÿå®ç°</h2><h3 id="æ¨å¹¿é“¾æ¥çš„ç”Ÿæˆ"><a href="#æ¨å¹¿é“¾æ¥çš„ç”Ÿæˆ" class="headerlink" title="æ¨å¹¿é“¾æ¥çš„ç”Ÿæˆ"></a>æ¨å¹¿é“¾æ¥çš„ç”Ÿæˆ</h3><p>æ•´ä¸ªæ¨å¹¿æµç¨‹æœ€ä¸»è¦çš„åœ°æ–¹å°±æ˜¯æ¨å¹¿é“¾æ¥çš„ç”Ÿæˆä¸ä½¿ç”¨ï¼Œä¸ºäº†æ–¹ä¾¿æ¨å¹¿é“¾æ¥çš„ç®¡ç†ï¼Œéœ€è¦å°†ç”Ÿæˆçš„æ¨å¹¿é“¾æ¥è¿›è¡Œä¿å­˜ã€‚é¦–å…ˆè¿›è¡Œæ¨å¹¿é“¾æ¥è¡¨çš„è®¾è®¡ã€‚æœ€åæä¾›ç»™æ¨å¹¿å‘˜çš„æ¨å¹¿é“¾æ¥æ ¼å¼å¦‚ï¼š<code>http://m.domain.com/cp?code=xx</code>ï¼Œå…¶ä¸­ code çš„å€¼ä¸ºæ¨å¹¿é“¾æ¥çš„ IDã€‚</p><table><thead><tr><th>å­—æ®µåç§°</th><th style="text-align:center">å­—æ®µç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td style="text-align:center">int</td><td>æ¨å¹¿é“¾æ¥è‡ªå¢ä¸»é”®</td></tr><tr><td>title</td><td style="text-align:center">varcahr</td><td>æ¨å¹¿æ ‡é¢˜</td></tr><tr><td>partner_id</td><td style="text-align:center">int</td><td>æ¨å¹¿å‘˜ID</td></tr><tr><td>params</td><td style="text-align:center">text</td><td>æ¨å¹¿å‚æ•°</td></tr><tr><td>type</td><td style="text-align:center">tinyint</td><td>æ¨å¹¿ç±»å‹</td></tr><tr><td>url_type</td><td style="text-align:center">tinyint</td><td>URLç±»å‹</td></tr><tr><td>create_time</td><td style="text-align:center">timestamp</td><td>åˆ›å»ºæ—¶é—´</td></tr><tr><td>update_time</td><td style="text-align:center">timestamp</td><td>æ›´æ–°æ—¶é—´</td></tr><tr><td>status</td><td style="text-align:center">tinyint</td><td>å¯ç”¨çŠ¶æ€</td></tr></tbody></table><p>å­—æ®µè§£è¯»ï¼š  </p><ol><li><p>æˆ‘è¿™é‡Œçš„ id ç›´æ¥è®¾ç½®ä¸ºäº†è‡ªå¢ä¸»é”®çš„å€¼ï¼Œå½“ç„¶ä¸ºäº†å®‰å…¨ç‚¹ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸ºå…¶ä»–çš„å€¼ï¼Œæ¯”å¦‚ UUIDï¼›  </p></li><li><p>title å¯¹äºåŒä¸€ä¸ªæ¨å¹¿å‘˜ï¼Œå¯èƒ½ä¼šç”Ÿæˆå¤šæ¡æ¨å¹¿é“¾æ¥ï¼Œç”¨äºåŒºåˆ«ã€‚</p></li><li><p>partner_id è¿™ä¸ªå°±ä¸å¿…å¤šè¯´ï¼Œè¡¨æ˜æ¨å¹¿é“¾æ¥å±äºå“ªä¸€ä¸ªæ¨å¹¿å‘˜</p></li><li><p>params æ³¨æ„è¿™ä¸ªå‚æ•°ç±»å‹ä¸º <strong>text</strong>ï¼Œ å› ä¸ºä¸ºäº†æ–¹ä¾¿æ‰©å±•ä¸šåŠ¡å‚æ•°ï¼Œå› æ­¤æ­¤å­—æ®µå­˜å‚¨çš„æ˜¯ä¸€æ®µ JSONï¼Œè‹¥ä½¿ç”¨ varchar é•¿åº¦ä¼šä¸å¤Ÿç”¨ã€‚ä¸šåŠ¡å‚æ•°åœ¨æˆ‘å¸ï¼Œå¯ä»¥æ˜¯ï¼šèµ é€ VIP å¤©æ•°ï¼Œèµ é€é˜…è¯»åˆ¸æ•°é‡ï¼Œæ¨å¹¿è´¹ç”¨ç­‰ã€‚è¿™ä¸ªå­—æ®µå¯ä»¥è‡ªç”±å‘æŒ¥ï¼Œåœ¨ç»‘å®šç”¨æˆ·çš„æ—¶å€™è·å–è¯¥å­—æ®µï¼Œè§£ææˆ JSON å¯¹è±¡ï¼Œè¯»å–å¯¹åº”çš„ä¸šåŠ¡å‚æ•°ï¼Œè¿›è¡Œç›¸å¯¹åº”çš„è®¾ç½®ã€‚</p></li><li><p>å› ä¸ºè¿è¥åŒå­¦çš„è„‘æ´ä¸€èˆ¬éƒ½å¾ˆå¤§ï¼Œå› æ­¤æ¨å¹¿æ–¹å¼ä¼šæœ‰å¾ˆå¤šç§ï¼Œä¹Ÿæ˜¯ä¸ºäº†æ—¥ååˆ†ææ¨å¹¿æ•ˆæœï¼Œå› æ­¤åŠ ä¸Š type å­—æ®µç”¨äºåŒºåˆ†æ¨å¹¿ç±»å‹ï¼Œæ¨å¹¿ç±»å‹æœ‰æ¯”å¦‚ï¼š CPSæ¨å¹¿ã€å¾®ä¿¡å…¬ä¼—æ¨å¹¿ç­‰ï¼›</p></li><li><p>url_type ç”¨äºåŒºåˆ†éœ€è¦æ¨å¹¿çš„é¡µé¢æ˜¯ç›¸å¯¹è·¯å¾„è¿˜æ˜¯ç»å¯¹è·¯å¾„ã€‚</p></li><li><p>status ç”¨äºæ ‡è®°æ­¤æ¨å¹¿é“¾æ¥æ˜¯å¦æœ‰æ•ˆï¼Œæ¯”å¦‚ç»ˆæ­¢æ¨å¹¿åˆä½œï¼Œå°±å¯ä»¥è®¾ç½®ä¸ºå…³é—­ï¼Œä¸å†å°†ç”¨æˆ·ç»‘å®šåˆ°æ­¤é“¾æ¥ã€‚</p></li></ol><p>åå°æ¨å¹¿é“¾æ¥ç”Ÿæˆé¡µé¢å‚è€ƒï¼š  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/20171203151228736175519.png" alt=""></p><h3 id="æ¨å¹¿é“¾æ¥çš„è·³è½¬"><a href="#æ¨å¹¿é“¾æ¥çš„è·³è½¬" class="headerlink" title="æ¨å¹¿é“¾æ¥çš„è·³è½¬"></a>æ¨å¹¿é“¾æ¥çš„è·³è½¬</h3><p>é¦–å…ˆå†çœ‹çœ‹æ¨å¹¿çš„æµç¨‹</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/20171203151228877937882.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>é¦–å…ˆç”¨æˆ·é€šè¿‡ç‚¹å‡»æ¨å¹¿é“¾æ¥ï¼Œè¿›å…¥äº†æ¨å¹¿çš„é¡µé¢ï¼Œæˆ‘å¸å°±æ˜¯å°è¯´çš„æŸä¸€å…è´¹ç« èŠ‚çš„é˜…è¯»é¡µé¢ï¼Œä¹‹ååˆ°æ”¶è´¹ç« èŠ‚çš„æ—¶å€™ï¼Œå°±ä¼šæç¤ºç”¨æˆ·è¿›è¡Œç™»å½•ã€‚<br>æ³¨å†Œçš„ç”¨æˆ·ï¼Œå¦‚ä½•çŸ¥é“æ˜¯ä»å“ªä¸€ä¸ªé“¾æ¥è¿‡æ¥çš„å‘¢ï¼Ÿè¿™å°±éœ€è¦åœ¨ç”¨æˆ·æ³¨å†Œä¹‹å‰å°±å°†æ¨å¹¿é“¾æ¥çš„æ ‡è®°è¿›è¡Œå­˜å‚¨ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯å†™å…¥ Cookieã€‚ä¹‹å‰å…¬å¸é¡¹ç›®å†™ Cookie æ˜¯åœ¨å‰ç«¯è¿›è¡Œï¼Œä½†æ˜¯è¿è¡Œä¹‹åï¼Œå‘ç°ä¸å¤ªå¯é ï¼Œå› æ­¤æˆ‘ä»¬å°†å†™ Cookie çš„æ“ä½œæ”¾åœ¨åç«¯è¿›è¡Œã€‚</p><p>æ¨å¹¿é“¾æ¥åœ°å€æ˜¯ <code>http://m.domain.com/cp?code=xx</code>ï¼Œè®¿é—®å¦‚ä¸‹æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”¨äºæ¨å¹¿é“¾æ¥çš„ç»Ÿä¸€è·³è½¬</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping</span> (value = <span class="string">"/cp"</span>, method = RequestMethod.GET)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">companionRedirect</span><span class="params">(String code,</span></span></span><br><span class="line"><span class="function"><span class="params">        HttpServletRequest request, Model m, HttpServletResponse response)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">int</span> id = Integer.parseInt(code);</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢å‡ºæ¨å¹¿é“¾æ¥è®°å½•</span></span><br><span class="line">        CompanionLink link = companionService.getCompanionLink(id);</span><br><span class="line">        <span class="keyword">if</span> (link != <span class="keyword">null</span> &amp;&amp; link.getStatus() != Constants.STATUS_DELETE) &#123;</span><br><span class="line">            JSONObject obj = JSONObject.parseObject(link.getParams());</span><br><span class="line">            <span class="comment">// è·å–æ¨å¹¿é¡µé¢çš„åœ°å€</span></span><br><span class="line">            String url = obj.getString(<span class="string">"url"</span>);</span><br><span class="line">            <span class="comment">// å°† code å€¼å³æ¨å¹¿é“¾æ¥çš„ id å†™å…¥Cookie ä¸­ï¼Œ EXPä¸ºæœ‰æ•ˆæœŸ 3 å¤©</span></span><br><span class="line">            CookieUtil.setCookie(request, response, Constants.COMPANION_COOKIE_NAME, code, EXP);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è·³è½¬åˆ°æ¨å¹¿é¡µé¢</span></span><br><span class="line">            <span class="keyword">if</span> (link.getUrlType() == Constants.ABS) &#123;</span><br><span class="line">                <span class="comment">// ç»å¯¹è·¯å¾„ç›´æ¥è·³è½¬</span></span><br><span class="line">                <span class="keyword">return</span> <span class="string">"redirect:"</span> + url;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ç›¸å¯¹è·¯å¾„æ‹¼æ¥åŸŸååè·³è½¬</span></span><br><span class="line">                <span class="keyword">return</span> <span class="string">"redirect:"</span> + Constants.MOBILE_SERVER_DOMAIN + url;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡ºç°å¼‚å¸¸ï¼Œè·³è½¬åˆ°é¦–é¡µ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"redirect:"</span> + Constants.MOBILE_SERVER_DOMAIN;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œå‘ç°ä¹‹å‰è®¾è®¡æ¨å¹¿é“¾æ¥çš„æ—¶å€™æœ‰æ‰€ç–æ¼ï¼Œæœ‰çš„æ¨å¹¿æ–¹å¼æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œè€Œæœ‰çš„æ˜¯ç»å¯¹è·¯å¾„ã€‚<br>è€Œæˆ‘åœ¨ä»£ç ä¸­æ˜¯é€šè¿‡ String çš„ Containsæ–¹æ³•æ˜¯å¦åŒ…å«åŸŸåæ¥åˆ¤æ–­æ˜¯ç›¸å¯¹çš„è¿˜æ˜¯ç»å¯¹çš„è·¯å¾„ï¼Œå…¶å®æ²¡æœ‰å¿…è¦ï¼Œå®Œå…¨å¯ä»¥æ·»åŠ ä¸€ä¸ªæ¨å¹¿é“¾æ¥çš„ url çš„è·¯å¾„ç±»å‹ã€‚åˆ¤æ–­ç±»å‹å³å¯ï¼Œå¦‚æœæ˜¯ç»å¯¹è·¯å¾„ç›´æ¥è·³è½¬ï¼Œå¦åˆ™æ‹¼æ¥åŸŸååè·³è½¬ã€‚</p><h3 id="æ¨å¹¿å…³ç³»çš„ç»‘å®š"><a href="#æ¨å¹¿å…³ç³»çš„ç»‘å®š" class="headerlink" title="æ¨å¹¿å…³ç³»çš„ç»‘å®š"></a>æ¨å¹¿å…³ç³»çš„ç»‘å®š</h3><p>ç”¨æˆ·æµè§ˆå™¨çš„ Cookie ä¸­å·²ç»ä¿å­˜å¥½äº†æ¨å¹¿é“¾æ¥çš„ code å€¼ï¼Œç»‘å®šå…³ç³»å°±å¥½åŠäº†ï¼Œå¯ä»¥åœ¨ç”¨æˆ·æ³¨å†Œçš„æ—¶å€™ï¼Œè¯»å–æµè§ˆå™¨çš„ Cookieï¼Œè·å–è¿™ä¸ª Cookieï¼Œå¾—åˆ°æ¨å¹¿é“¾æ¥çš„ id, å°†ç”¨æˆ·çš„ id ä¸æ¨å¹¿çš„ partner_id è¿›è¡Œç»‘å®šï¼Œä¿å­˜åˆ°ç»‘å®šå…³ç³»çš„è¡¨ä¸­å³å¯ï¼Œæ¯”å¦‚æˆ‘å¸çš„èµ é€æ“ä½œä¹Ÿä¸€åœ¨ç»‘å®šåæ‰§è¡Œã€‚</p><p>è‡³äºç»‘å®šå…³ç³»çš„è¡¨è®¾è®¡ï¼Œä¸»è¦å°† partner_id ä¸ user_id ä½œä¸ºè”åˆä¸»é”®ä¿å­˜ï¼Œå…¶ä»–å­—æ®µå¦‚ç»‘å®šæ—¶é—´å°±ä¸ç”¨å¤šè¯´äº†å§ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>å¦‚æœä½ çœ‹å®Œè§‰å¾—æœ‰ä»€ä¹ˆç–‘é—®ï¼Œå¯ä»¥ç•™è¨€è¯„è®ºï¼Œæœ‰éœ€è¦æ”¹è¿›çš„åœ°æ–¹ä¹Ÿè¯·æå‡ºï¼Œå…±åŒè¿›æ­¥ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å…¬å¸æ–°ç«™ç”±äºè¿è¥éœ€æ±‚ï¼Œéœ€è¦å¼€å‘ä¸€å¥—æ¨å¹¿ç³»ç»Ÿï¼Œç”¨äºç½‘ç«™ç”¨æˆ·å¼•æµï¼Œè¡ç”Ÿå‡ºçš„æ¨å¹¿å¥—è·¯ç›®å‰ä¾¿å·²ç»æœ‰å››ç§ï¼Œä¸ºäº†é™ä½è¿è¥ä¸Šæ‰‹æ¨å¹¿ç³»ç»Ÿçš„éš¾åº¦ï¼Œå› æ­¤æ¨å¹¿ç³»ç»ŸåŠ¡å¿…è¦ä¾¿äºä½¿ç”¨ï¼Œæ‰€ä»¥æ¯ç§æ¨å¹¿æ–¹å¼çš„é…ç½®éœ€è¦ä¿æŒè¶³å¤Ÿæ˜äº†ç®€å•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="http://nullpointer.pw/categories/Java/"/>
    
    
      <category term="æ¨å¹¿ç³»ç»Ÿ" scheme="http://nullpointer.pw/tags/%E6%8E%A8%E5%B9%BF%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="æ¨å¹¿" scheme="http://nullpointer.pw/tags/%E6%8E%A8%E5%B9%BF/"/>
    
      <category term="é“¾æ¥æ¨å¹¿" scheme="http://nullpointer.pw/tags/%E9%93%BE%E6%8E%A5%E6%8E%A8%E5%B9%BF/"/>
    
  </entry>
  
  <entry>
    <title>Maven ç§æœä¸Šä¼ jaråŒ…</title>
    <link href="http://nullpointer.pw/Maven%20%E7%A7%81%E6%9C%8D%E4%B8%8A%E4%BC%A0jar%E5%8C%85.html"/>
    <id>http://nullpointer.pw/Maven ç§æœä¸Šä¼ jaråŒ….html</id>
    <published>2017-11-30T13:09:28.000Z</published>
    <updated>2017-12-03T11:01:39.054Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å‰æ®µæ—¶é—´ï¼Œå…¬å¸å¼€äº†æ–°ç«™ï¼Œä¸»è¦ç”±æˆ‘æ¥è´Ÿè´£æ–°ç«™çš„æ­å»ºå·¥ä½œï¼ŒåŸºç¡€çš„ç³»ç»Ÿæ¯”å¦‚ç™»å½•ç³»ç»Ÿï¼Œæ”¯ä»˜ç³»ç»Ÿçš„æ­å»ºã€‚  </p><p>ä»Šå¤©åœ¨11æœˆæœ«å°¾è¡¥ä¸Šè¿™ä¸€ç¯‡æ–‡ç« ï¼Œä¸ç„¶æ”¾å‡ºå»çš„è¯åšä¸åˆ°å°±ä¸å¥½äº†ï¼ˆä¸€ä¸ªæœˆè‡³å°‘ä¸¤ç¯‡åšå®¢ï¼‰ğŸ˜‚</p><a id="more"></a><p>åœ¨æ¥å…¥æ”¯ä»˜å®æ”¯ä»˜çš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚  </p><p>æˆ‘ä»¬å…¬å¸çš„ä¹‹å‰é¡¹ç›®æ¥å…¥çš„æ˜¯æ”¯ä»˜å® mapi æ”¯ä»˜ï¼Œè¿™æ˜¯æ¯”è¾ƒæ—©çš„æ”¯ä»˜æ¥å£ï¼Œå‰ä¸€é˜µå­ï¼Œè¯¥æ¥å£çš„æˆæƒä¹Ÿåˆ°æœŸäº†ï¼Œæˆ‘ä¹Ÿè´Ÿè´£åç»­æ¥å£çš„å‡çº§ã€‚</p><p>æ¥å£å‡çº§åï¼Œæ”¯ä»˜å®å¯¹å…¶ SDK ä¹Ÿè¿›è¡Œäº†å‡çº§ï¼ŒæŒ‰ç…§ç½‘ç«™æ–‡æ¡£ç¼–å†™ä»£ç å‘ç°æœ‰äº›æ–¹æ³•ä¸å­˜åœ¨ï¼Œæ‰çŸ¥é“æ˜¯ç”±äº é¡¹ç›®ä¸­ SDK çš„ç‰ˆæœ¬è¿‡ä½å¯¼è‡´çš„ã€‚æ—¢ç„¶çŸ¥é“äº†é—®é¢˜ï¼Œå°±è¦è§£å†³é—®é¢˜ï¼Œäºæ˜¯åœ¨å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆçš„ SDKã€‚</p><p>æˆ‘ä»¬å…¬å¸çš„é¡¹ç›®å…¨éƒ¨åŸºäº Maven è¿›è¡Œæ„å»ºï¼Œä½†æ˜¯å®˜ç½‘çš„ SDK åªæ˜¯ JAR åŒ…ï¼Œåœ¨ä¸­å¤®ä»“åº“æ˜¯æ²¡æœ‰çš„ï¼Œå› æ­¤ä½¿ç”¨çš„è¯éœ€è¦ä¸Šä¼ åˆ°å…¬å¸çš„ Maven ç§æœä¸Šã€‚</p><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ul><li>éœ€è¦ä¸Šä¼ çš„ Jar åŒ…ï¼Œæˆ‘è¿™é‡Œæ˜¯æ”¯ä»˜å®çš„ SDK çš„ Jar åŒ…</li><li>ç§æœç¯å¢ƒï¼š <a href="http://www.jfrogchina.com/open-source/" target="_blank" rel="noopener">Artifactory</a></li></ul><p>æˆ‘ä»¬å…¬å¸çš„ maven ç§æœå°±æ˜¯è¿™è´§å•¦  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/20171130151204452196528.png" alt=""></p><h2 id="ä¸Šä¼ -Jar-åŒ…åˆ°-Maven"><a href="#ä¸Šä¼ -Jar-åŒ…åˆ°-Maven" class="headerlink" title="ä¸Šä¼  Jar åŒ…åˆ° Maven"></a>ä¸Šä¼  Jar åŒ…åˆ° Maven</h2><h3 id="é€‰æ‹©ä¸Šä¼ -Jar-åŒ…"><a href="#é€‰æ‹©ä¸Šä¼ -Jar-åŒ…" class="headerlink" title="é€‰æ‹©ä¸Šä¼  Jar åŒ…"></a>é€‰æ‹©ä¸Šä¼  Jar åŒ…</h3><p>ç™»å½• Artifactory åï¼Œé€‰æ‹© Deployï¼Œé€‰æ‹©è¦ä¸Šä¼ çš„ Jar åŒ…ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©ä¸Šä¼ æ”¯ä»˜å®çš„ SDK çš„ Jar åŒ…ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171102/113134666.png?imageslim" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="è®¾ç½®ä¸Šä¼ -Jar-åŒ…ä¿¡æ¯"><a href="#è®¾ç½®ä¸Šä¼ -Jar-åŒ…ä¿¡æ¯" class="headerlink" title="è®¾ç½®ä¸Šä¼  Jar åŒ…ä¿¡æ¯"></a>è®¾ç½®ä¸Šä¼  Jar åŒ…ä¿¡æ¯</h3><p>åœ¨è¿™é‡Œé€‰æ‹©è¦ä¸Šä¼ çš„ä»“åº“ï¼Œä»¥åŠè®¾ç½® â€œGAVâ€ å‚æ•°  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171102/113157073.png?imageslim" alt=""></p><p>ç”±äºæ”¯ä»˜å®çš„ Jar åŒ…åç§°å¤ªé•¿äº†ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œç²¾ç®€äº†ä¸å¿…è¦çš„ä¿¡æ¯ã€‚</p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171102/113402039.png?imageslim" alt=""></p><p>è®¾ç½®å®Œä¹‹åï¼Œç‚¹å‡»å®Œæˆå³å¯ã€‚</p><h3 id="æŸ¥æ‰¾ä¸Šä¼ -Jar-çš„-Maven-åæ ‡"><a href="#æŸ¥æ‰¾ä¸Šä¼ -Jar-çš„-Maven-åæ ‡" class="headerlink" title="æŸ¥æ‰¾ä¸Šä¼  Jar çš„ Maven åæ ‡"></a>æŸ¥æ‰¾ä¸Šä¼  Jar çš„ Maven åæ ‡</h3><p>æ‰¾åˆ°åˆšæ‰ä¿å­˜çš„åº“ï¼Œæ‰¾åˆ°ä¸Šä¼ çš„ Jar åŒ…  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171102/113450326.png?imageslim" alt=""></p><p>ç‚¹å‡» å¯¹åº”çš„ pom æ–‡ä»¶ï¼ŒæŸ¥çœ‹ Maven åæ ‡   </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171102/113512171.png?imageslim" alt=""></p><p>å°†æ­¤åæ ‡å†™å…¥ pom.xml ä¸­å³å¯ï¼Œéœ€è¦å…ˆå°†ç§æœçš„åœ°å€å†™åˆ° pom.xml æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>repos<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.1.222:8088/artifactory/repos<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ä¸Šä¼ æºç -Jar-åŒ…åˆ°ç§æœä»“åº“"><a href="#ä¸Šä¼ æºç -Jar-åŒ…åˆ°ç§æœä»“åº“" class="headerlink" title="ä¸Šä¼ æºç  Jar åŒ…åˆ°ç§æœä»“åº“"></a>ä¸Šä¼ æºç  Jar åŒ…åˆ°ç§æœä»“åº“</h2><p>æƒ³è¦åœ¨å¼€å‘æ—¶çœ‹å¯ä»¥æŸ¥çœ‹æºç çš„æ—¶å€™ï¼Œéœ€è¦å°†å¯¹åº”çš„æºç  Jar åŒ…ä¸€èµ·ä¸Šä¼ åˆ°ç§æœä¸­å»ï¼Œä¸å‰é¢æ­¥éª¤ç›¸åŒï¼Œæ­¤æ—¶é€‰æ‹©å¯¹åº”çš„æºç çš„ Jar åŒ…ã€‚</p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171102/114351967.png?imageslim" alt=""></p><p>éœ€è¦æ³¨æ„è¿™é‡Œçš„ ç›®æ ‡ä»“åº“ä¸ GAV å‚æ•°ä¿æŒä¸ä¸Šé¢ä¸Šä¼ å¯¹åº”çš„ Jar åŒ…ä¿æŒä¸€è‡´ã€‚å”¯ä¸€ä¸åŒçš„åœ°æ–¹æ˜¯ <strong>Classifier</strong> ä¸º <strong>sources</strong>ã€‚</p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171102/133357044.png?imageslim" alt=""></p><p>ä¸Šä¼ æˆåŠŸåå¦‚å›¾ï¼Œæºç åŒ…ä¸å·¥ç¨‹åŒ…åœ¨åŒä¸€çº§ç›®å½•ä¸­ã€‚æ­¤æ—¶åœ¨é¡¹ç›®ä¸­å¯ä»¥åˆ·æ–° pom.xml æ–‡ä»¶åï¼Œå¯¹åº”çš„æºç å°±ä¼šä¸€åŒä¸‹è½½ä¸‹è½½ä¸‹æ¥äº†ï¼Œå¯ä»¥æ„‰å¿«çš„çœ‹æºç äº†ã€‚</p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/20171130151204689848191.png" alt=""></p><p>End.</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å‰æ®µæ—¶é—´ï¼Œå…¬å¸å¼€äº†æ–°ç«™ï¼Œä¸»è¦ç”±æˆ‘æ¥è´Ÿè´£æ–°ç«™çš„æ­å»ºå·¥ä½œï¼ŒåŸºç¡€çš„ç³»ç»Ÿæ¯”å¦‚ç™»å½•ç³»ç»Ÿï¼Œæ”¯ä»˜ç³»ç»Ÿçš„æ­å»ºã€‚  &lt;/p&gt;
&lt;p&gt;ä»Šå¤©åœ¨11æœˆæœ«å°¾è¡¥ä¸Šè¿™ä¸€ç¯‡æ–‡ç« ï¼Œä¸ç„¶æ”¾å‡ºå»çš„è¯åšä¸åˆ°å°±ä¸å¥½äº†ï¼ˆä¸€ä¸ªæœˆè‡³å°‘ä¸¤ç¯‡åšå®¢ï¼‰ğŸ˜‚&lt;/p&gt;
    
    </summary>
    
      <category term="Maven" scheme="http://nullpointer.pw/categories/Maven/"/>
    
    
      <category term="Mavenç§æœ" scheme="http://nullpointer.pw/tags/Maven%E7%A7%81%E6%9C%8D/"/>
    
      <category term="jaråŒ…ä¸Šä¼ " scheme="http://nullpointer.pw/tags/jar%E5%8C%85%E4%B8%8A%E4%BC%A0/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡æ”¯ä»˜å¼€å‘æœ¬åœ°æ¥æ”¶å¼‚æ­¥é€šçŸ¥å›è°ƒã€å®æˆ˜ã€‘</title>
    <link href="http://nullpointer.pw/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98%E5%BC%80%E5%8F%91%E6%9C%AC%E5%9C%B0%E6%8E%A5%E6%94%B6%E5%BC%82%E6%AD%A5%E9%80%9A%E7%9F%A5%E5%9B%9E%E8%B0%83%E3%80%90%E5%AE%9E%E6%88%98%E3%80%91.html"/>
    <id>http://nullpointer.pw/å¾®ä¿¡æ”¯ä»˜å¼€å‘æœ¬åœ°æ¥æ”¶å¼‚æ­¥é€šçŸ¥å›è°ƒã€å®æˆ˜ã€‘.html</id>
    <published>2017-11-08T14:18:34.000Z</published>
    <updated>2017-12-03T11:00:02.093Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åœ¨è°ƒè¯•å¾®ä¿¡ç›¸å…³çš„æ¥å£ï¼Œä½†æ˜¯ç”±äºå¾®ä¿¡å®˜æ–¹å‡ºäºå®‰å…¨çš„è€ƒè™‘ï¼Œå¯¹äºè°ƒç”¨æ¥å£çš„åŸŸåæœ‰é™åˆ¶ã€‚å¾®ä¿¡æˆæƒä¸å¾®ä¿¡æ”¯ä»˜ç»Ÿä¸€ä¸‹å•æ¥å£åœ¨æœ¬åœ°å¯ä»¥é€šè¿‡æ›´æ”¹ host çš„æ–¹å¼æ¥è°ƒè¯•ï¼Œå¾®ä¿¡æœåŠ¡å™¨ä¹Ÿèƒ½è·³è½¬å›æ¥ï¼Œä½†æ˜¯å¾®ä¿¡æ”¯ä»˜å¼‚æ­¥é€šçŸ¥è¿™é‡Œï¼›å¾®ä¿¡å®˜æ–¹å¼ºåˆ¶è®©è®¾ç½®æ”¯ä»˜æˆæƒç›®å½•ï¼Œä¸”æ˜¯é€šè¿‡ ICP å¤‡æ¡ˆçš„åŸŸåï¼Œå› æ­¤ä¸é‡‡å–ç‰¹æ®Šæ‰‹æ®µï¼Œ<strong>æœ¬åœ°æ˜¯æ— æ³•æ¥æ”¶åˆ°å¾®ä¿¡çš„å¼‚æ­¥é€šçŸ¥å›è°ƒè¯·æ±‚çš„ï¼Œåªèƒ½éƒ¨ç½²åˆ°çº¿ä¸Šç¯å¢ƒæµ‹è¯•</strong>ã€‚  </p><a id="more"></a><h2 id="å‰ç½®æ¡ä»¶"><a href="#å‰ç½®æ¡ä»¶" class="headerlink" title="å‰ç½®æ¡ä»¶"></a>å‰ç½®æ¡ä»¶</h2><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒæŠ˜è…¾äº†å¥½å‡ å¤©ï¼Œæ‰æå‡ºæ¥äº†ï¼Œç©¶å…¶æ ¹æœ¬åŸå› ï¼Œè¿˜æ˜¯å¯¹äº <strong>Nginx</strong> ä¸å¤ªç†Ÿæ‚‰ã€‚æ‰€ä»¥åœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚</p><h3 id="å†…ç½‘è½¬å‘"><a href="#å†…ç½‘è½¬å‘" class="headerlink" title="å†…ç½‘è½¬å‘"></a>å†…ç½‘è½¬å‘</h3><p>å¦‚æœæƒ³æœ¬åœ°è¿›è¡Œè°ƒè¯•ï¼Œå¹¶ä¸”æƒ³è®©å¾®ä¿¡æœåŠ¡å™¨è¯·æ±‚å›è°ƒå›æ¥ï¼Œåˆ™æœ¬åœ°å¿…é¡»è¦æœ‰ä¸€ä¸ªå¤–ç½‘åŸŸåï¼Œè¿™é‡Œæˆ‘ä»¬æ˜¯ç”¨ <a href="https://www.ngrok.cc" target="_blank" rel="noopener">Ngrokå†…ç½‘è½¬å‘</a> æ¥å®ç°ï¼›Ngrok çš„é…ç½®å°±æ˜¯å°†æœ¬åœ°é¡¹ç›®çš„ç«¯å£æ˜ å°„åˆ°åˆ†é…çš„å¤–ç½‘åŸŸåï¼Œå…·ä½“é…ç½®å‚è€ƒå®˜ç½‘æ•™ç¨‹æ–‡æ¡£ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ã€‚</p><p>æˆ‘çš„é…ç½®æ˜¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://vcmq.free.ngrok.cc -&gt; 127.0.0.1:8080</span><br></pre></td></tr></table></figure></p><h3 id="é…ç½®æµ‹è¯•æ”¯ä»˜ç›®å½•"><a href="#é…ç½®æµ‹è¯•æ”¯ä»˜ç›®å½•" class="headerlink" title="é…ç½®æµ‹è¯•æ”¯ä»˜ç›®å½•"></a>é…ç½®æµ‹è¯•æ”¯ä»˜ç›®å½•</h3><p>å‰é¢æåˆ°äº†ï¼Œå¾®ä¿¡æ”¯ä»˜å¼‚æ­¥é€šçŸ¥ä¼šå¯¹æ”¯ä»˜åŸŸå<strong>ç›®å½•</strong>æœ‰è¦æ±‚ï¼Œå› æ­¤ï¼Œæ”¯ä»˜æ—¶çš„åŸŸåå¿…é¡»è¦åœ¨è®¾ç½®çš„æ”¯ä»˜åŸŸåç›®å½•ä¸‹ã€‚</p><p>é¦–å…ˆéœ€è¦åœ¨ <a href="https://pay.weixin.qq.com" target="_blank" rel="noopener">å¾®ä¿¡å•†æˆ·å¹³å°</a> ä¸­é…ç½® å•†æˆ·ç§˜é’¥ï¼Œæ”¯ä»˜æˆæƒç›®å½•ã€‚  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171108/215523458.png" alt=""></p><p>è¿™é‡Œæ”¯ä»˜æˆæƒç›®å½•é…ç½®çš„æ˜¯ä»¥åçº¿ä¸Šçš„æ”¯ä»˜æˆæƒç›®å½•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://pay.domain.com/wechat/public/</span><br></pre></td></tr></table></figure></p><p>ç„¶åå†åŠ ä¸€æ¡æœ¬åœ°æµ‹è¯•æ”¯ä»˜çš„ä¸´æ—¶æˆæƒç›®å½•ï¼Œè¿™ä¸ªç›®å½•æœ€å¥½åœ¨æœ¬åœ°æµ‹è¯•å®Œæˆåï¼Œè¿›è¡Œåˆ é™¤ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://pay.domain.com/wechat/testpay/</span><br></pre></td></tr></table></figure></p><h2 id="å¿…çŸ¥çš„-Nginx-è¯­æ³•"><a href="#å¿…çŸ¥çš„-Nginx-è¯­æ³•" class="headerlink" title="å¿…çŸ¥çš„ Nginx è¯­æ³•"></a>å¿…çŸ¥çš„ Nginx è¯­æ³•</h2><h3 id="proxy-pass-åçš„-url-åŠ ä¸åŠ -çš„åŒºåˆ«"><a href="#proxy-pass-åçš„-url-åŠ ä¸åŠ -çš„åŒºåˆ«" class="headerlink" title="proxy_pass åçš„ url åŠ ä¸åŠ  / çš„åŒºåˆ«"></a>proxy_pass åçš„ url åŠ ä¸åŠ  / çš„åŒºåˆ«</h3><p>è¿™é‡Œåˆ—ä¸¾ nginx çš„ proxy_pass è¯­æ³•ï¼Œæ˜¯ä¸ºäº†ä¸‹ä¸€æ­¥é’ˆå¯¹ nginx çš„é…ç½®è¿›è¡Œä¿®æ”¹ã€‚  </p><p>è¿™é‡Œè®¿é—® <code>http://127.0.0.1/proxy/test.html</code> æµ‹è¯• <strong>proxy_pass</strong> åé¢çš„ url åŠ ä¸ä¸åŠ  / çš„åŒºåˆ«</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name 127.0.0.1;</span><br><span class="line"></span><br><span class="line">    location  /proxy/ &#123;</span><br><span class="line">          proxy_pass http://192.168.0.100/;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Š location ä¼šä»£ç†åˆ° <strong><a href="http://192.168.0.100/test.html" target="_blank" rel="noopener">http://192.168.0.100/test.html</a></strong> å³ç›¸å½“äºæ˜¯ç»å¯¹æ ¹è·¯å¾„ï¼Œåˆ™ Nginx ä¸ä¼šæŠŠ location ä¸­çš„è·¯å¾„éƒ¨åˆ†ä»£ç†èµ°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name 127.0.0.1;</span><br><span class="line"></span><br><span class="line">    location  /proxy/ &#123;</span><br><span class="line">          proxy_pass http://192.168.0.100;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Š location ä¼šä»£ç†åˆ° <strong><a href="http://192.168.0.100/proxy/test.html" target="_blank" rel="noopener">http://192.168.0.100/proxy/test.html</a></strong> å³ç›¸å½“äºç›¸å¯¹è·¯å¾„ã€‚</p><hr><h2 id="ä»£ç†æ”¯ä»˜åŸŸååˆ°ç¬¬ä¸‰æ–¹åŸŸå"><a href="#ä»£ç†æ”¯ä»˜åŸŸååˆ°ç¬¬ä¸‰æ–¹åŸŸå" class="headerlink" title="ä»£ç†æ”¯ä»˜åŸŸååˆ°ç¬¬ä¸‰æ–¹åŸŸå"></a>ä»£ç†æ”¯ä»˜åŸŸååˆ°ç¬¬ä¸‰æ–¹åŸŸå</h2><p>çŸ¥é“ä¸Šä¸€æ­¥ proxy_pass å / çš„ä½œç”¨åï¼Œå°±å¼€å§‹æ¥é…ç½®æ”¯ä»˜åŸŸåæŒ‡å‘çš„æœåŠ¡å™¨ä¸Šçš„ nginx çš„é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name pay.domain.com;</span><br><span class="line"></span><br><span class="line">    location /testpay/ &#123;</span><br><span class="line">        proxy_set_header Host vcmq.free.ngrok.cc;</span><br><span class="line">        proxy_pass http://vcmq.free.ngrok.cc/wide/;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://payServer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®ä¸­çš„ <em>wide</em> æ˜¯æˆ‘é¡¹ç›®çš„åç§°ï¼›<br>æ³¨æ„ï¼šè¿™é‡Œçš„ <strong>proxy_set_header Host</strong> å¿…é¡»é…ç½®ï¼Œå¦åˆ™è¿›å…¥ location å—åï¼Œä¼šæç¤º <code>tunnel pay.domain.com not found</code>ã€‚</p><p>å½“è®¿é—® <strong>pay.domain.com/testpay/create</strong> å¾®ä¿¡ç»Ÿä¸€ä¸‹å•æ¥å£æ—¶ï¼Œ ä¼šä»£ç†åˆ° <strong><a href="http://vcmq.free.ngrok.cc/wide/create" target="_blank" rel="noopener">http://vcmq.free.ngrok.cc/wide/create</a></strong>ï¼›</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç»Ÿä¸€ä¸‹å•æ¥å£ï¼Œè®¾ç½® <strong>notify_url</strong> çš„å€¼è¦ä¸ºé…ç½®çš„æ”¯ä»˜æˆæƒç›®å½•ï¼Œæ¯”å¦‚æˆ‘çš„ <strong><a href="http://pay.domain.com/testpay/notify" target="_blank" rel="noopener">http://pay.domain.com/testpay/notify</a></strong>  </p><p>ç»Ÿä¸€ä¸‹å•å¹¶å®Œæˆæ”¯ä»˜å®Œæˆåï¼Œå¾®ä¿¡æœåŠ¡å™¨ä¼šè¯·æ±‚ç»Ÿä¸€ä¸‹å•æ¥å£ä¸­çš„ <strong>notify_url</strong>ï¼Œç»è¿‡æœåŠ¡å™¨ nginx è¿›è¡Œä»£ç†åï¼Œä¼šä»£ç†åˆ° æœ¬åœ°çš„å†…ç½‘è½¬å‘åŸŸåå¼‚æ­¥é€šçŸ¥å›è°ƒæ¥å£ <strong><a href="http://vcmq.free.ngrok.cc/wide/notify" target="_blank" rel="noopener">http://vcmq.free.ngrok.cc/wide/notify</a></strong>ï¼Œ ä»è€Œè¾¾åˆ°äº†æœ¬åœ°æ¥æ”¶å¾®ä¿¡æ”¯ä»˜å¼‚æ­¥é€šçŸ¥å›è°ƒè¯·æ±‚çš„ç›®çš„ã€‚   </p><p>å¦‚æœåœ°å€ä¸åœ¨æ”¯ä»˜æˆæƒç›®å½•ä¸‹ï¼Œä¼šæç¤ºå½“å‰ Url æœªæ³¨å†Œã€‚å› ä¸ºæ˜¯ä»£ç†è¿‡å»ï¼Œå› æ­¤åœ°å€æ çš„åœ°å€ä¸ä¼šæ”¹å˜ï¼Œè¿™ä¹Ÿæ˜¯ä¸èƒ½ç®€å•ä½¿ç”¨ nginx çš„ rewrite çš„åŸå› ã€‚</p><p>å¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥è”ç³»æˆ‘ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><p><a href="http://www.cnop.net/html/web/nginx/2017/0330/4953.html" target="_blank" rel="noopener">nginx proxy_passåçš„urlåŠ ä¸åŠ /çš„åŒºåˆ«</a></p></li><li><p><a href="http://blog.csdn.net/faye0412/article/details/75200607" target="_blank" rel="noopener">è·³è½¬ç¬¬ä¸‰æ–¹åŸŸå</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘åœ¨è°ƒè¯•å¾®ä¿¡ç›¸å…³çš„æ¥å£ï¼Œä½†æ˜¯ç”±äºå¾®ä¿¡å®˜æ–¹å‡ºäºå®‰å…¨çš„è€ƒè™‘ï¼Œå¯¹äºè°ƒç”¨æ¥å£çš„åŸŸåæœ‰é™åˆ¶ã€‚å¾®ä¿¡æˆæƒä¸å¾®ä¿¡æ”¯ä»˜ç»Ÿä¸€ä¸‹å•æ¥å£åœ¨æœ¬åœ°å¯ä»¥é€šè¿‡æ›´æ”¹ host çš„æ–¹å¼æ¥è°ƒè¯•ï¼Œå¾®ä¿¡æœåŠ¡å™¨ä¹Ÿèƒ½è·³è½¬å›æ¥ï¼Œä½†æ˜¯å¾®ä¿¡æ”¯ä»˜å¼‚æ­¥é€šçŸ¥è¿™é‡Œï¼›å¾®ä¿¡å®˜æ–¹å¼ºåˆ¶è®©è®¾ç½®æ”¯ä»˜æˆæƒç›®å½•ï¼Œä¸”æ˜¯é€šè¿‡ ICP å¤‡æ¡ˆçš„åŸŸåï¼Œå› æ­¤ä¸é‡‡å–ç‰¹æ®Šæ‰‹æ®µï¼Œ&lt;strong&gt;æœ¬åœ°æ˜¯æ— æ³•æ¥æ”¶åˆ°å¾®ä¿¡çš„å¼‚æ­¥é€šçŸ¥å›è°ƒè¯·æ±‚çš„ï¼Œåªèƒ½éƒ¨ç½²åˆ°çº¿ä¸Šç¯å¢ƒæµ‹è¯•&lt;/strong&gt;ã€‚  &lt;/p&gt;
    
    </summary>
    
      <category term="å¾®ä¿¡æ”¯ä»˜" scheme="http://nullpointer.pw/categories/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/"/>
    
    
      <category term="å®æˆ˜" scheme="http://nullpointer.pw/tags/%E5%AE%9E%E6%88%98/"/>
    
      <category term="nginxè½¬å‘" scheme="http://nullpointer.pw/tags/nginx%E8%BD%AC%E5%8F%91/"/>
    
      <category term="proxy_pass" scheme="http://nullpointer.pw/tags/proxy-pass/"/>
    
      <category term="æœ¬åœ°æ¥æ”¶å¼‚æ­¥é€šçŸ¥" scheme="http://nullpointer.pw/tags/%E6%9C%AC%E5%9C%B0%E6%8E%A5%E6%94%B6%E5%BC%82%E6%AD%A5%E9%80%9A%E7%9F%A5/"/>
    
  </entry>
  
  <entry>
    <title>Nginxå›¾ç‰‡é˜²ç›—é“¾ã€å®æˆ˜ã€‘</title>
    <link href="http://nullpointer.pw/Nginx%E5%9B%BE%E7%89%87%E9%98%B2%E7%9B%97%E9%93%BE%E3%80%90%E5%AE%9E%E6%88%98%E3%80%91.html"/>
    <id>http://nullpointer.pw/Nginxå›¾ç‰‡é˜²ç›—é“¾ã€å®æˆ˜ã€‘.html</id>
    <published>2017-10-29T06:28:46.000Z</published>
    <updated>2017-12-03T11:03:22.644Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åšä¸»ç›®å‰åœ¨ä¸€å®¶åŸåˆ›å°è¯´ç½‘ç«™å…¬å¸å·¥ä½œï¼Œç”±äºç«™å†…çš„ä½œå“å…¨éƒ¨æ˜¯åŸåˆ›ï¼Œäºæ˜¯ä¹ä¸å¯é¿å…åœ°ä¼šè¢«ä¸€äº›ç›—ç‰ˆç½‘ç«™çˆ¬å–ç›—ç‰ˆï¼Œå¯¹äºé˜²ç›—ç‰ˆä¸€ç›´æ²¡æœ‰å¾ˆå¥½çš„å¯¹ç­–ï¼Œè®©å…¬å¸å¾ˆæ˜¯è‹¦æ¼ã€‚<br>æœ€è¿‘å»ä¸€äº›ç›—ç‰ˆç½‘ç«™ä¸Šæœç´¢æˆ‘ä»¬ç½‘ç«™ä½œå“æ—¶ï¼Œå‘ç°ä»–ä»¬æ‰€ç”¨çš„å°é¢å›¾ç‰‡çš„æ¥æºæ˜¯æˆ‘ä»¬ç½‘ç«™çš„åœ°å€ï¼Œå³æ‰€è°“çš„ç›—é“¾ï¼Œè¿™å¯¹äºæˆ‘ä»¬ç½‘ç«™æœåŠ¡å™¨çš„å¸¦å®½æ˜¯ä¸€ç§æŸå¤±ï¼Œå› æ­¤éœ€è¦é‡‡å–å¯¹åº”çš„æ‰‹æ®µåº”å¯¹ã€‚</p><a id="more"></a><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><p>è¿™é‡Œæˆ‘ä½¿ç”¨ä¸¤å°è™šæ‹Ÿæœº  è™šæ‹Ÿæœºçš„å¿«é€Ÿå®‰è£…å¯ä»¥å‚è€ƒæˆ‘å¦å¤–ä¸€ç¯‡åšæ–‡ <a href="http://nullpointer.pw/2017/08/19/CentOS%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85/">CentOSå¿«é€Ÿå®‰è£…</a></p><ul><li>æœåŠ¡å™¨ Aï¼š192.168.200.130</li><li>æœåŠ¡å™¨ Bï¼š192.168.200.131</li></ul><h2 id="Nginx-å®‰è£…"><a href="#Nginx-å®‰è£…" class="headerlink" title="Nginx å®‰è£…"></a>Nginx å®‰è£…</h2><p>å‚è€ƒåšæ–‡ <a href="http://nullpointer.pw/2017/08/20/Nginx%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE/">Nginxç¼“å­˜é…ç½®</a> çš„ Nginx ç¯å¢ƒæ­å»ºéƒ¨åˆ†ã€‚</p><h2 id="Nginx-é˜²ç›—é“¾è®¾ç½®"><a href="#Nginx-é˜²ç›—é“¾è®¾ç½®" class="headerlink" title="Nginx é˜²ç›—é“¾è®¾ç½®"></a>Nginx é˜²ç›—é“¾è®¾ç½®</h2><h3 id="ä¸€ã€é…ç½®-Nginx-çš„é˜²ç›—é“¾"><a href="#ä¸€ã€é…ç½®-Nginx-çš„é˜²ç›—é“¾" class="headerlink" title="ä¸€ã€é…ç½® Nginx çš„é˜²ç›—é“¾"></a>ä¸€ã€é…ç½® Nginx çš„é˜²ç›—é“¾</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># ä¿®æ”¹ nginx.conf é…ç½®æ–‡ä»¶</span><br><span class="line">vim /usr/local/nginx/conf/nginx.conf</span><br><span class="line"></span><br><span class="line"># æ·»åŠ  server èŠ‚ç‚¹</span><br><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  www.vcmq.com;</span><br><span class="line">    #access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">    location ~* \.(jpg|png|gif)$ &#123;</span><br><span class="line">        root /home/resources;</span><br><span class="line">        valid_referers none server_names *.test1.com ~\.test2\.;</span><br><span class="line">        if ($invalid_referer)&#123;</span><br><span class="line">            rewrite ^/ http://ojt4b2cr5.bkt.clouddn.com/blog/20171028/214345352.png;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">root   html;</span><br><span class="line">index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘æ–°å¢çš„ server çš„åœ°å€æ˜¯ <em>www.vcmq.com</em>ã€‚  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location ~* \.(jpg|png|gif)$</span><br></pre></td></tr></table></figure><p>æ­¤è¡Œé…ç½®çš„ä½œç”¨æ˜¯<strong>åŒ¹é…ä»¥ jpg/png/gif  ç»“å°¾çš„æ–‡ä»¶è¯·æ±‚</strong>ï¼Œ å¦‚æœåŒ¹é…å°±æ‰§è¡Œ æ‹¬å·å†…çš„ä»£ç ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">valid_referers none server_names *.test1.com ~\.test2\.;</span><br><span class="line">if ($invalid_referer)&#123;</span><br><span class="line">    rewrite ^/ http://ojt4b2cr5.bkt.clouddn.com/blog/20171028/214345352.png;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>é¦–å…ˆçœ‹ç¬¬ä¸€è¡Œï¼Œè¿™è¡Œçš„ä½œç”¨æ˜¯é…ç½®å¯ä»¥è¯†åˆ« referï¼Œå³å¯ä»¥æ­£å¸¸è·å–èµ„æºæ–‡ä»¶çš„è¯·æ±‚ï¼Œ<strong>åœ¨è¿™é‡Œé…ç½®åŠ å…¥ç™½åå•çš„è¯·æ±‚ refer åŸŸå</strong>ã€‚<br>å‚æ•°è¯´æ˜ï¼š    </p><ul><li><strong>none</strong> ä»£è¡¨è¯·æ±‚çš„ refer ä¸ºç©ºï¼Œä¹Ÿå°±æ˜¯ç›´æ¥è®¿é—®ï¼Œæ¯”å¦‚åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—®å›¾ç‰‡ <code>www.vcmq.com/test1.png</code>ï¼Œç›´æ¥è®¿é—®æ—¶ï¼Œrefer ä¼šä¸ºç©ºã€‚</li><li><strong>blocked</strong> refer æ¥æºä¸ä¸ºç©ºï¼Œä½†æ˜¯é‡Œé¢çš„å€¼è¢«ä»£ç†æˆ–è€…é˜²ç«å¢™åˆ é™¤äº†</li><li><strong>server_names</strong> refer æ¥æºåŒ…å«å½“å‰çš„ <code>server_names</code> å³ <code>location</code> çš„çˆ¶èŠ‚ç‚¹ <code>server</code> èŠ‚ç‚¹çš„ <code>server_name</code> çš„å€¼ã€‚</li><li><strong>å­—ç¬¦ä¸²</strong> å®šä¹‰æœåŠ¡å™¨åç§°ï¼Œæ¯”å¦‚ <code>*.test1.com</code>ï¼Œé…ç½®åï¼Œæ¥æºæ˜¯ä» <code>test1.com</code> å°±ä¼šè¢«è®¤ä¸ºæ˜¯åˆæ³•çš„è¯·æ±‚ã€‚</li><li><strong>æ­£åˆ™è¡¨è¾¾å¼</strong> åŒ¹é…åˆæ³•è¯·æ±‚æ¥æºï¼Œ å¦‚ <code>~\.test2\.</code></li></ul><p>å½“è¯·æ±‚çš„ <code>refer</code> æ˜¯åˆæ³•çš„ï¼Œå³å¯ä»¥è¢«åé¢ä»»ä¸€å‚æ•°æ‰€åŒ¹é…ï¼Œ <code>$invalid_referer</code> çš„å€¼ä¸º0ï¼Œ è‹¥ä¸åŒ¹é…åˆ™å€¼ä¸º 1ï¼Œ è¿›å…¥ <code>if</code> çš„ä»£ç ä¸­ã€‚æˆ‘è¿™é‡Œçš„è®¾ç½®æ˜¯ï¼Œå¦‚æœæ˜¯ä¸åˆæ³•çš„è¯·æ±‚ï¼Œå°±ç»Ÿä¸€è¿”å›ä¸€å¼ å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è¿”å› <code>403</code>ã€‚</p><h3 id="äºŒã€é…ç½®-html-æ–‡ä»¶"><a href="#äºŒã€é…ç½®-html-æ–‡ä»¶" class="headerlink" title="äºŒã€é…ç½® html æ–‡ä»¶"></a>äºŒã€é…ç½® html æ–‡ä»¶</h3><p>1.åœ¨ <code>/home</code> ç›®å½•ä¸‹åˆ›å»ºç›®å½• <code>resources</code> ,åœ¨ <code>/home/resources</code> ç›®å½•ä¸‹æ”¾å…¥ä¸€å¼ å›¾ç‰‡ <strong>test.png</strong>ã€‚  </p><p>2.ä¿®æ”¹ <code>nginx</code> å®‰è£…ç›®å½•ä¸‹ <code>html</code> ä¸­çš„ <code>index.html</code> æ–‡ä»¶ã€‚æ·»åŠ ä¸€ä¸ª <strong>img</strong> æ ‡ç­¾ï¼Œsrc è®¿é—®ä¸Šä¸€æ­¥ä¸­çš„å›¾ç‰‡æ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;http://www.vcmq.com/test.png&quot; /&gt;</span><br></pre></td></tr></table></figure></p><p>3.å¯åŠ¨ nginx<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/nginx/sbin/nginx</span><br></pre></td></tr></table></figure></p><p>4.ä»¥ä¸Šæ‰€æœ‰é…ç½®æ˜¯å¯¹äºæœåŠ¡å™¨ A çš„é…ç½®ï¼Œä»¥ä¸‹è®²è§£æœåŠ¡å™¨ B çš„é…ç½®  </p><ol><li>æœåŠ¡å™¨ B å’Œ æœåŠ¡å™¨ Aä¸€æ ·å®‰è£…å¥½ nginx</li><li><p>ä¿®æ”¹ nginx.conf é…ç½®æ–‡ä»¶, æ·»åŠ ä¸¤ä¸ª server</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  www.test1.com;</span><br><span class="line">    #charset koi8-r;</span><br><span class="line">    #access_log  logs/host.access.log  main;</span><br><span class="line">    location / &#123;</span><br><span class="line">        root   html;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    server_name www.test2.com;</span><br><span class="line">    location / &#123;</span><br><span class="line">        root html;</span><br><span class="line">        index index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹æœåŠ¡å™¨ B  Nginx å®‰è£…ç›®å½•ä¸‹ html ç›®å½•ä¸­çš„ index.html æ–‡ä»¶,åŒæ ·æ·»åŠ  img æ ‡ç­¾ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;http://www.vcmq.com/test.png&quot; /&gt;</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨ æœåŠ¡å™¨ B çš„ Nginx</p></li></ol><h2 id="é…ç½®æ³¨æ„äº‹é¡¹"><a href="#é…ç½®æ³¨æ„äº‹é¡¹" class="headerlink" title="é…ç½®æ³¨æ„äº‹é¡¹"></a>é…ç½®æ³¨æ„äº‹é¡¹</h2><ol><li>é…ç½®èµ„æºçš„ <strong>location</strong> éœ€è¦åœ¨ <strong>location /</strong> ä¹‹å‰ã€‚</li><li>å¦‚æœåœ¨ <strong>location</strong> æˆ–è€…å…¶çˆ¶èŠ‚ç‚¹ <strong>server</strong> ä¸­æ²¡æœ‰é…ç½® <strong>root</strong> çš„å€¼ï¼Œ å½“è¯·æ±‚æ—¶åˆæ³•çš„æ—¶å€™ï¼Œä¼š 404 æ‰¾ä¸åˆ°èµ„æºæ–‡ä»¶ï¼Œå› æ­¤éœ€è¦åœ¨ <strong>location</strong> æˆ–è€… <strong>server</strong> èŠ‚ç‚¹è®¾ç½® <strong>root</strong> çš„å€¼</li><li>æ³¨æ„è°ƒè¯•çš„æ—¶å€™ï¼ŒåŠ¡å¿…ä½¿ç”¨ <strong>Ctrl + F5</strong> è¿›è¡Œåˆ·æ–°ç½‘é¡µï¼Œå› ä¸º nginx ä¼šç¼“å­˜å›¾ç‰‡ï¼</li></ol><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>æˆ‘ä¸Šé¢é…ç½®çš„ <strong>server_name</strong> é…ç½®çš„åŸŸåæ˜¯ <strong>www.vcmq.com</strong> ï¼Œå› æ­¤æµ‹è¯•æ—¶ï¼Œéœ€è¦å°†æˆ‘ç”µè„‘çš„ host æŒ‡å‘è™šæ‹Ÿæœºçš„ ip, å¯ä»¥ä½¿ç”¨ <strong>SwitchHosts</strong> æ¥ä¾¿æ·åˆ‡æ¢ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æŒ‡å‘æœåŠ¡å™¨A</span><br><span class="line">192.168.200.130 www.vcmq.com</span><br><span class="line"></span><br><span class="line"># æŒ‡å‘æœåŠ¡å™¨B</span><br><span class="line">192.168.200.131 www.test1.com www.test2.com</span><br></pre></td></tr></table></figure><ol><li>æµè§ˆå™¨è®¿é—® www.vcmq.comï¼Œå›¾ç‰‡æ­£å¸¸åŠ è½½  </li></ol><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171029/130449251.png" alt="">  </p><ol><li>æµè§ˆå™¨è®¿é—® <code>www.test1.com</code> ä¸ <code>www.test2.com</code> è¿˜æœ‰ç›´æ¥è®¿é—®å›¾ç‰‡ <code>http://www.vcmq.com/test.png</code> éƒ½æ­£å¸¸åŠ è½½   </li></ol><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171029/140651035.png" alt="">  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171029/140624686.png" alt="">  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171029/140828400.png" alt="">  </p><ol><li>ä¿®æ”¹ æœåŠ¡å™¨ A çš„ nginx.conf é…ç½®æ–‡ä»¶</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">valid_referers none server_names *.test1.com ~\.test2\.;</span><br></pre></td></tr></table></figure><p>å°†æ­¤è¡Œä¿®æ”¹ä¸º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">valid_referers none server_names;</span><br></pre></td></tr></table></figure><p>å³åªå…è®¸å½“å‰ server_name ä¸ æ—  refer çš„è¯·æ±‚ï¼Œå…¶ä»–è¯·æ±‚éƒ½è¿”å› rewrite çš„å›¾ç‰‡, ç„¶åé‡å¯ nginx</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/nginx/sbin/nginx -s reload</span><br></pre></td></tr></table></figure><p>å†æ¬¡åˆ†åˆ«è®¿é—® ,<strong>æ³¨æ„éœ€è¦ä½¿ç”¨ ctrl+F5 åˆ·æ–°ä¸€ä¸‹ç¼“å­˜</strong></p><p><code>www.vcmq.com</code>ã€<code>www.test1.com</code>ã€<code>www.test2.com</code>ã€<code>http://www.vcmq.com/test.png</code>ã€‚</p><p>å‘ç°åªæœ‰ <code>www.vcmq.com</code> ä¸ <code>http://www.vcmq.com/test.png</code> æ­£å¸¸æ˜¾ç¤ºï¼Œå…¶ä»–è¯·æ±‚çš†è¿”å› rewrite çš„å›¾ç‰‡  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171029/141839955.png" alt=""></p><p>åŒç†å†æ¬¡ä¿®æ”¹ nginx.conf æ–‡ä»¶, å…è®¸æ¥è‡ª test1 çš„è®¿é—®è¯·æ±‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">valid_referers none server_names *.test1.com;</span><br></pre></td></tr></table></figure><p>ç»“æœå‘ç°<br><code>www.test1.com</code>å¯ä»¥è·å–æ­£å¸¸å›¾ç‰‡ï¼Œè€Œ<code>www.test2.com</code>è¿˜æ˜¯ rewrite ä¹‹åçš„å›¾ç‰‡</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171029/142030191.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>è‡³æ­¤ï¼Œå·²ç»å®ç°äº†åŸºäº Nginx çš„ç®€å•å›¾ç‰‡é˜²ç›—é“¾ã€‚  </p><p>å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥è®¾ç½®å…è®¸æ¥è‡ªå…¬å¸ä¸‹çš„åŸŸåä¸ç©º refer çš„è¯·æ±‚é€šè¿‡ã€‚  </p><p>è¿™é‡Œå…è®¸ ç©º refer çš„è¯·æ±‚é€šè¿‡çš„åŸå› æ˜¯ï¼Œæœ‰äº›åˆæ³•çš„è¯·æ±‚å¯èƒ½ä¼šæ²¡æœ‰å¸¦ä¸Š referã€‚</p><h2 id="èµ„æºä¸‹è½½"><a href="#èµ„æºä¸‹è½½" class="headerlink" title="èµ„æºä¸‹è½½"></a>èµ„æºä¸‹è½½</h2><ul><li><a href="http://ojt4b2cr5.bkt.clouddn.com/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.zip" target="_blank" rel="noopener">æ–‡ç« æ¶‰åŠé…ç½®æ–‡ä»¶ä¸‹è½½</a></li></ul><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ul><li><a href="https://www.bbsmax.com/A/xl56LLwxzr/" target="_blank" rel="noopener">https://www.bbsmax.com/A/xl56LLwxzr/</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;åšä¸»ç›®å‰åœ¨ä¸€å®¶åŸåˆ›å°è¯´ç½‘ç«™å…¬å¸å·¥ä½œï¼Œç”±äºç«™å†…çš„ä½œå“å…¨éƒ¨æ˜¯åŸåˆ›ï¼Œäºæ˜¯ä¹ä¸å¯é¿å…åœ°ä¼šè¢«ä¸€äº›ç›—ç‰ˆç½‘ç«™çˆ¬å–ç›—ç‰ˆï¼Œå¯¹äºé˜²ç›—ç‰ˆä¸€ç›´æ²¡æœ‰å¾ˆå¥½çš„å¯¹ç­–ï¼Œè®©å…¬å¸å¾ˆæ˜¯è‹¦æ¼ã€‚&lt;br&gt;æœ€è¿‘å»ä¸€äº›ç›—ç‰ˆç½‘ç«™ä¸Šæœç´¢æˆ‘ä»¬ç½‘ç«™ä½œå“æ—¶ï¼Œå‘ç°ä»–ä»¬æ‰€ç”¨çš„å°é¢å›¾ç‰‡çš„æ¥æºæ˜¯æˆ‘ä»¬ç½‘ç«™çš„åœ°å€ï¼Œå³æ‰€è°“çš„ç›—é“¾ï¼Œè¿™å¯¹äºæˆ‘ä»¬ç½‘ç«™æœåŠ¡å™¨çš„å¸¦å®½æ˜¯ä¸€ç§æŸå¤±ï¼Œå› æ­¤éœ€è¦é‡‡å–å¯¹åº”çš„æ‰‹æ®µåº”å¯¹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Nginx" scheme="http://nullpointer.pw/categories/Nginx/"/>
    
    
      <category term="å®æˆ˜" scheme="http://nullpointer.pw/tags/%E5%AE%9E%E6%88%98/"/>
    
      <category term="å›¾ç‰‡é˜²ç›—é“¾" scheme="http://nullpointer.pw/tags/%E5%9B%BE%E7%89%87%E9%98%B2%E7%9B%97%E9%93%BE/"/>
    
      <category term="é˜²ç›—é“¾" scheme="http://nullpointer.pw/tags/%E9%98%B2%E7%9B%97%E9%93%BE/"/>
    
  </entry>
  
  <entry>
    <title>Nginxé…ç½®èµ„æºä¸‹è½½ç›®å½•</title>
    <link href="http://nullpointer.pw/Nginx%E9%85%8D%E7%BD%AE%E8%B5%84%E6%BA%90%E4%B8%8B%E8%BD%BD%E7%9B%AE%E5%BD%95.html"/>
    <id>http://nullpointer.pw/Nginxé…ç½®èµ„æºä¸‹è½½ç›®å½•.html</id>
    <published>2017-10-26T22:25:24.000Z</published>
    <updated>2017-12-03T11:02:48.972Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰åœ¨ç½‘ä¸Šæ‰¾ CentOs çš„é•œåƒçš„æ—¶å€™ï¼Œå‘ç°äº†é˜¿é‡Œäº‘çš„è¿™ä¸ªé•œåƒæºï¼Œé€Ÿåº¦è›®å¿«çš„ã€‚ä»Šå¤©ä¹Ÿæ¥æ­å»ºä¸€ä¸ªç±»ä¼¼çš„ç«™ï¼Œä½¿ç”¨ nginx ä½œä¸ºèµ„æºä¸‹è½½æœåŠ¡å™¨ã€‚<br><a id="more"></a><br>å›¾ç‰‡è¯¦æƒ…ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171027/055339109.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h2 id="å®‰è£…-Nginx"><a href="#å®‰è£…-Nginx" class="headerlink" title="å®‰è£… Nginx"></a>å®‰è£… Nginx</h2><p><a href="http://nullpointer.pw/2017/08/20/Nginx%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE/">å‚è€ƒè¿™ç¯‡æ•™ç¨‹çš„ Nginx ç¯å¢ƒæ­å»ºéƒ¨åˆ†</a></p><h2 id="è®¾ç½®èµ„æºå­˜å‚¨è·¯å¾„"><a href="#è®¾ç½®èµ„æºå­˜å‚¨è·¯å¾„" class="headerlink" title="è®¾ç½®èµ„æºå­˜å‚¨è·¯å¾„"></a>è®¾ç½®èµ„æºå­˜å‚¨è·¯å¾„</h2><p>1ã€ èµ„æºå‡†å¤‡  </p><p>åœ¨ <strong>home</strong> çš„ç”¨æˆ·ç›®å½•ä¸‹ï¼Œå»ºç«‹æ–‡ä»¶å¤¹ï¼Œå¦‚ <strong>softs</strong> ,åœ¨ <strong>softs</strong> ç›®å½•ä¸­æ”¾å…¥æ–‡ä»¶å†…å®¹ã€‚</p><h2 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><p>2ã€ ä¿®æ”¹ Nginx é…ç½®æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim conf/nginx.conf</span><br></pre></td></tr></table></figure><p>æ·»åŠ  server</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  down.vcmq.com;</span><br><span class="line">        #sendfile        on;</span><br><span class="line">        location / &#123;</span><br><span class="line">            alias  /home/softs/;</span><br><span class="line">            sendfile on;</span><br><span class="line">            autoindex on;</span><br><span class="line">            autoindex_exact_size off;</span><br><span class="line">            autoindex_localtime on;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>alias è®¾ç½®ä¸ºç¬¬ä¸€æ­¥ä¸­çš„èµ„æºç›®å½•ï¼Œæˆ‘è¿™é‡Œæ˜¯ <strong>/home/softs/</strong></p><p>3ã€ è®¿é—®æµ‹è¯•<br>å°†æœ¬æœº hosts æŒ‡å‘æœåŠ¡å™¨ï¼Œ<br>è®¿é—®åœ°å€ down.vcmq.com  æ˜¾ç¤ºç›®å½•åˆ—è¡¨  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171027/061943005.png" alt="">  </p><p><strong>æ³¨æ„ä¸èƒ½æ˜¯/root ç›®å½•ä¸‹çš„æ–‡ä»¶è·¯å¾„ ï¼Œä¼šæ˜¾ç¤º403æ— æƒé™</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰åœ¨ç½‘ä¸Šæ‰¾ CentOs çš„é•œåƒçš„æ—¶å€™ï¼Œå‘ç°äº†é˜¿é‡Œäº‘çš„è¿™ä¸ªé•œåƒæºï¼Œé€Ÿåº¦è›®å¿«çš„ã€‚ä»Šå¤©ä¹Ÿæ¥æ­å»ºä¸€ä¸ªç±»ä¼¼çš„ç«™ï¼Œä½¿ç”¨ nginx ä½œä¸ºèµ„æºä¸‹è½½æœåŠ¡å™¨ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Nginx" scheme="http://nullpointer.pw/categories/Nginx/"/>
    
    
      <category term="nginx" scheme="http://nullpointer.pw/tags/nginx/"/>
    
      <category term="èµ„æºä¸‹è½½" scheme="http://nullpointer.pw/tags/%E8%B5%84%E6%BA%90%E4%B8%8B%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•åšç¬”è®°ï¼Ÿ</title>
    <link href="http://nullpointer.pw/%E5%A6%82%E4%BD%95%E8%AE%B0%E7%AC%94%E8%AE%B0%EF%BC%9F.html"/>
    <id>http://nullpointer.pw/å¦‚ä½•è®°ç¬”è®°ï¼Ÿ.html</id>
    <published>2017-10-26T14:10:02.000Z</published>
    <updated>2017-12-03T10:59:43.890Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨å…¬å¸å¼€ä¼šï¼Œæˆ‘åˆ†äº«äº†ä¸€äº›ä¸ªäººæ—¥å¸¸å…³äºå¦‚ä½•è®°ç¬”è®°çš„å¿ƒå¾—ï¼Œç»“åˆåœ¨ç½‘ä¸Šçœ‹çš„ç›¸å…³æ–‡ç« ï¼Œæ•´ç†ä¸€ä¸‹ï¼Œç„¶ååšäº†ä¸€äº›è¡¥å……ï¼Œå†™å‡ºè¿™ç¯‡åšæ–‡ï¼Œæ–‡ç« æ¶‰åŠå·¥å…·çš„é€‰æ‹©å’Œè®°ç¬”è®°çš„æ­¥éª¤ä»¥åŠè®°ç¬”è®°çš„æŠ€å·§ä¸æ³¨æ„äº‹é¡¹ï¼Œæ¬¢è¿ç•™è¨€æ¢è®¨ã€‚  </p><a id="more"></a>  <h2 id="å·¥å…·çš„é€‰æ‹©"><a href="#å·¥å…·çš„é€‰æ‹©" class="headerlink" title="å·¥å…·çš„é€‰æ‹©"></a>å·¥å…·çš„é€‰æ‹©</h2><p>å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œé¦–å…ˆè¯´è¯´å·¥å…·çš„é€‰æ‹©ï¼Œ<br>å¥½çš„å·¥å…·ä¼šè®©ä½ è®°ç¬”è®°å¾—å¿ƒåº”æ‰‹ï¼Œæ‹¥æœ‰è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œä¸å¥½çš„å·¥å…·åˆ™åšä¸åˆ°è¿™ç‚¹ï¼Œè¾¾ä¸åˆ°è®°ç¬”è®°çš„ç›®çš„ã€‚</p><p>å¸¸è§çš„ä¸»æµäº‘ç¬”è®°æœ‰ï¼š  </p><ol><li>æœ‰é“äº‘ç¬”è®°</li><li>OneNote  </li><li>ä¸ºçŸ¥ç¬”è®°  </li><li>å°è±¡ç¬”è®°  </li></ol><p>å…ˆè¯´è¯´æˆ‘æœ€ç†Ÿæ‚‰çš„ä¸ºçŸ¥ç¬”è®°ï¼Œåœ¨ä¸€å¹´ä»¥å‰ï¼Œä¸€ç›´ç”¨çš„æ˜¯ä¸ºçŸ¥ç¬”è®°ï¼Œè®°äº†ä¸Šåƒçš„ç¬”è®°ï¼Œç”¨çš„å¾ˆä¸é”™ï¼Œé€¢äººæ¨èé‚£ç§ï¼›ä½†æ˜¯æœ‰ä¸€å¤©ï¼Œä¸ºçŸ¥ç¬”è®°çªç„¶å°±å®£å¸ƒå¿…é¡»è¦ä»˜è´¹æ‰èƒ½ç»§ç»­ä½¿ç”¨ï¼Œå¦åˆ™çš„è¯ï¼Œç¬”è®°å°†ä¸èƒ½åŒæ­¥ï¼<br>å¯¹åº”ä¸€ä¸ªäº‘ç¬”è®°äº§å“æ¥è¯´ï¼Œæ²¡æœ‰äº†æœ€æœ€åŸºç¡€çš„åŒæ­¥åŠŸèƒ½ï¼Œå’Œåœ¨æœ¬åœ°æ–‡æ¡£é‡Œå†™æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæ²¡æœ‰åˆé€‚çš„å˜ç°æ–¹å¼ï¼Œå°±å®Œå…¨æŠ›å¼ƒäº†å…è´¹ç”¨æˆ·ï¼Œç»™æˆ‘æ„Ÿè§‰è¿™å®¶å…¬å¸ä¸å¤ªé è°±ï¼Œæ‰€ä»¥æˆ‘å°±è½¬æˆ˜ä½¿ç”¨æœ‰é“äº‘ç¬”è®°ã€‚<br>ä½†æ˜¯ä¹‹å‰çš„ç¬”è®°è¿˜åœ¨ä¸ºçŸ¥ç¬”è®°é‡Œï¼Œæ‡’å¾—å»è½¬ç§»äº†ã€‚æ‰€ä»¥é€‰æ‹©ç¬”è®°è½¯ä»¶çš„æ—¶å€™ä¹Ÿè¦è€ƒè™‘è½¬ç§»æˆæœ¬ï¼Œä¸‡ä¸€ä¸€ä¸å°å¿ƒäº§å“å°±é»„äº†å‘¢ï¼å› æ­¤å°½é‡é€‰æ‹©å¤§å…¬å¸çš„æˆç†Ÿç¬”è®°äº§å“ã€‚  </p><p>å†è¯´è¯´ç°åœ¨ç”¨çš„æœ‰é“äº‘ç¬”è®°ï¼Œç”¨ä¸€ä¸ªè¯æ¥å½¢å®¹å°±æ˜¯å¾ˆé¸¡è´¼ï¼Œä»¥å‰å¯ä»¥å¯¼å‡ºç¬”è®°ä¸ºå…¶ä»–ç¬”è®°è½¯ä»¶è¯†åˆ«çš„æ ¼å¼ï¼Œç°åœ¨åªèƒ½å¯¼å‡ºæœ‰é“èƒ½è¯†åˆ«çš„æ ¼å¼ã€‚å‡å¦‚æ˜¯é‡åº¦ç”¨æˆ·ï¼Œæƒ³è½¬ç§»ç¬”è®°ï¼Œå¾ˆå›°éš¾ã€‚<br>å¥½åœ¨æœ‰é“äº‘ç¬”è®°æ”¯æŒ MarkDown ç¬”è®°ï¼Œæ‰€ä»¥æˆ‘ç°åœ¨å°½é‡å†™çš„ç¬”è®°éƒ½ç”¨ MarkDown æ–¹å¼ï¼Œå› ä¸º MarkDown æ ¼å¼çš„ç›´æ¥åœ¨ç¬”è®°ä¸­å°±èƒ½ç›´æ¥å¤åˆ¶èµ°ï¼Œè½¬ç§»ç¬”è®°å¾ˆè½»æ¾ã€‚MarkDownï¼Œè¯­æ³•å¾ˆç®€å•ï¼Œå¯ä»¥å­¦ä¹ ä¸€ä¸‹ï¼Œè½»æ¾æ’ç‰ˆï¼Œè¯­æ³•å¯ä»¥å‚è€ƒæœ‰é“äº‘çš„æ–‡æ¡£ï¼Œ è®°ç¬”è®°ä¸éœ€è¦å»å­¦ä¹ å¤ªå¤æ‚çš„è¯­æ³•,  çœ‹ä¸‹é¢é“¾æ¥çš„ç¬¬äºŒç‚¹å°±å¯ä»¥ã€‚</p><ul><li><a href="http://note.youdao.com/iyoudao/?p=2411" target="_blank" rel="noopener">æœ‰é“äº‘ç¬”è®°Markdownç®€æ˜ç‰ˆ</a></li></ul><p>ç„¶åè¯´è¯´å°è±¡ç¬”è®°ï¼Œæ˜¯å›½å¤– EverNote çš„å¤§é™†ç‰ˆæœ¬ï¼Œå…¶å…è´¹ç‰ˆåªèƒ½æä¾›ä¸¤ä¸ªç»ˆç«¯åŒæ­¥ï¼Œå‡å¦‚ä½ å…¬å¸ç™»é™†ä¸€ä¸ªï¼Œå®¶é‡Œç™»é™†ä¸€ä¸ªï¼Œè¿˜æƒ³è¦åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šç™»å½•å°±éœ€è¦ä»˜è´¹ï¼Œè¿˜æœ‰æ¯æœˆä¸Šä¼ 60Mæµé‡çš„é™åˆ¶ï¼Œä»˜è´¹ç‰ˆä¸€å¹´ä¸€ç™¾å¤šï¼Œæƒ³è¦æœ€ç¨³å®šçš„å¯ä»¥è€ƒè™‘ä½¿ç”¨ã€‚</p><p>æœ€åè¯´è¯´ OneNote, å·¨ç¡¬å‡ºå“ï¼Œä½†æ˜¯å›½å†… GFW çš„å­˜åœ¨ï¼ŒåŒæ­¥å¾ˆæ…¢ï¼Œç„¶åä¹Ÿæ²¡å¤ªå¼„æ¸…æ¥šæ˜¯æ€ä¹ˆç”¨çš„ï¼Œå’Œä¸Šé¢ä»‹ç»çš„ç¬”è®°äº§å“ç»„ç»‡æ ¼å¼ä¸åŒï¼Œä¹Ÿæ²¡æ€ä¹ˆä¼šç”¨ï¼Œå°±ä¸ç½®ç‚¹è¯„äº†ã€‚</p><p><strong>æˆ‘æ¨èä½¿ç”¨æœ‰é“äº‘ç¬”è®°å’Œå°è±¡ç¬”è®°(æˆ–EverNote)</strong></p><h2 id="è®°ç¬”è®°çš„ä½œç”¨"><a href="#è®°ç¬”è®°çš„ä½œç”¨" class="headerlink" title="è®°ç¬”è®°çš„ä½œç”¨"></a>è®°ç¬”è®°çš„ä½œç”¨</h2><p>æœ€å¤§çš„ä½œç”¨å°±æ˜¯å¯¹æŠ—é—å¿˜ï¼Œç”¨å¥½äº†ç¬”è®°ï¼Œç¬”è®°å°±æ˜¯ä½ çš„ç¬¬äºŒå¤§è„‘ï¼Œäººçš„è®°å¿†åŠ›æœ‰é™ï¼Œæˆ‘ä»¬é€šè¿‡è®°ç¬”è®°æ¥æ‹“å±•ã€‚</p><p>è®°ç¬”è®°ä¸‰æ­¥èµ°ï¼š  </p><ol><li>æ”¶é›†</li><li>æ•´ç†</li><li>è¾“å‡º  </li></ol><p>ä»¥ä¸‹è¿›è¡Œè¯¦ç»†æ­¥éª¤å™è¿°ï¼š  </p><h2 id="è®°ç¬”è®°çš„æ­¥éª¤"><a href="#è®°ç¬”è®°çš„æ­¥éª¤" class="headerlink" title="è®°ç¬”è®°çš„æ­¥éª¤"></a>è®°ç¬”è®°çš„æ­¥éª¤</h2><h3 id="æ”¶é›†"><a href="#æ”¶é›†" class="headerlink" title="æ”¶é›†"></a>æ”¶é›†</h3><p>ç¬¬ä¸€æ­¥æ˜¯ç¡®å®šæ‰€è¦å†™çš„ç¬”è®°å†…å®¹ï¼Œå³æ”¶é›†ï¼Œæ”¶é›†è¿™é‡Œæˆ‘åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚</p><ol><li><p>æ”¶é›†ä»–äººçš„å†…å®¹<br>ä»–äººçš„å†…å®¹æŒ‡çš„æ˜¯ä»–äººæ‰€äº§ç”Ÿçš„å†…å®¹ï¼Œæ¯”å¦‚åˆ«äººå†™çš„ä¹¦ï¼Œåšå®¢æ–‡ç« ï¼Œå…¬ä¼—å·æ–‡ç« ç­‰ç­‰ï¼Œå½“ä½ é‡åˆ°äº†æ¯”å¦‚ä¸€ç¯‡ä½ è§‰å¾—å†™çš„å¾ˆæœ‰é“ç†æˆ–è€…å¯¹ä½ æœ‰ç”¨çš„æ–‡ç« ï¼Œè§‰å¾—æœ‰ä¿å­˜ä¸‹æ¥çš„ä»·å€¼ï¼Œä½ å¯ä»¥å°†å…¶çº³å…¥ä½ çš„ç¬”è®°å½“ä¸­å»ã€‚</p></li><li><p>æ”¶é›†è‡ªå·±çš„å†…å®¹<br>è‡ªå·±çš„å†…å®¹æŒ‡çš„æ˜¯è‡ªå·±æ‰€äº§ç”Ÿçš„å†…å®¹ï¼Œæ¯”å¦‚çªå‘çš„çµå…‰ä¸€ç°ï¼Œå¦‚æœä¸ç«‹å³è®°å½•ä¸‹æ¥ï¼Œå¯èƒ½å°±å¿˜æ‰äº†ï¼Œç„¶åå†æƒ³çš„æ—¶å€™æ— è®ºå¦‚ä½•ä¹Ÿè®°ä¸èµ·æ¥äº†ï¼Œå°±æ„Ÿè§‰è‡ªå·±é”™è¿‡äº†ä¸€ä¸ªäº¿ã€‚æ‰€ä»¥è¦è¶ç€ä½ çš„æƒ³æ³•è¿˜æ²¡æœ‰æ¶ˆå¤±ä¹‹å‰ï¼Œç«‹å³è®°å½•åˆ°ç¬”è®°å½“ä¸­å»ã€‚ç°åœ¨äººæ‰‹éƒ½æœ‰ä¸€å‰¯æ‰‹æœºï¼Œè€Œäº‘ç¬”è®°éƒ½æœ‰å…¶å¯¹åº”çš„ç§»åŠ¨ç«¯ï¼Œè®°å½•èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚</p></li><li><p>æ”¶é›†çš„è¯€çª<br>æœ‰æ—¶å€™åœ¨æŸä¸ªç½‘ç«™çœ‹åˆ°ä¸€ç¯‡æ–‡ç« æƒ³è¦ä¿å­˜ä¸‹æ¥æ—¶å€™ï¼Œä¸€èˆ¬äººçš„åšæ³•æ˜¯è®²æ–‡ç« é€‰æ‹©æ‹·è´åˆ°ç¬”è®°å½“ä¸­å»ï¼Œè¿™ä¹ˆåšæ˜¯å¯è¡Œï¼Œä½†æ˜¯ä¼šå®Œå…¨æ²¡æœ‰äº†æ’ç‰ˆï¼Œçœ‹èµ·æ¥ä¹±ç³Ÿç³Ÿçš„ä¸€ç‰‡ï¼Œæ‰€ä»¥éœ€è¦å€ŸåŠ©æµè§ˆå™¨æ’ä»¶æˆ–è€…åˆ†äº«åŠŸèƒ½æ¥å®ç°å¿«é€Ÿç¾è§‚åœ°ä¿å­˜ã€‚æœ‰é“äº‘ç¬”è®°çš„è°·æ­Œæµè§ˆå™¨æ’ä»¶å°±å¾ˆå¥½ç”¨ï¼Œåœ¨æ‰‹æœºä¸Šå¯ä»¥å…³æ³¨å…¬ä¼—å·ï¼Œåˆ†äº«åˆ°å…¬ä¼—å·ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ†äº«åˆ°å¯¹åº”çš„ç¬”è®° App ä¸­ï¼Œä»è€Œå®ç°å¿«é€Ÿæ”¶é›†ã€‚</p></li></ol><h3 id="æ•´ç†"><a href="#æ•´ç†" class="headerlink" title="æ•´ç†"></a>æ•´ç†</h3><p>æ”¶é›†å®Œçš„å†…å®¹ï¼Œåªæ˜¯å †å åˆ°äº†ä½ çš„ç¬”è®°å½“ä¸­ï¼Œå¦‚æœä¸åŠ ä»¥æ•´ç†æ€»ç»“ï¼Œå…¶å®å’Œæ•£å¸ƒåœ¨ç½‘ç»œä¸Šçš„æ–‡ç« æ¯«æ— åŒºåˆ«ï¼Œå¯¹ä½ <strong>æ²¡æœ‰ä»»ä½•çš„æ„ä¹‰ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•çš„ä»·å€¼</strong>ï¼›<br>ä¹Ÿè®¸ä½ æƒ³æ‰¾ç¬”è®°é‡Œé¢æŸä¸€ç¯‡æ–‡ç« ï¼Œä½†æ˜¯ä½ å´æ­»æ´»ä¹Ÿæ‰¾ä¸åˆ°ï¼Œè¿™ç§æƒ…å†µä¸‹è®°ä¸ä¸è®°éƒ½ä¸€æ ·ï¼›æ­£å¦‚å»ä¸€åº§å›¾ä¹¦é¦†çœ‹ä¹¦ï¼Œä½†æ˜¯å›¾ä¹¦é¦†å´æ²¡æœ‰å›¾ä¹¦æŸ¥é˜…ç³»ç»Ÿï¼Œåœ¨æµ©æ¸ºä¹¦æµ·ä¸­æƒ³æ‰¾åˆ°ä¸€æœ¬ä¹¦çš„å›°éš¾ç¨‹åº¦å¯æƒ³è€ŒçŸ¥ï¼å› æ­¤æ”¶é›†åçš„æ•´ç†ååˆ†é‡è¦ã€‚     </p><p>æ•´ç†åˆ†ä¸ºé‡æ–°æ’ç‰ˆä¸åˆ†ç±»ä»¥åŠåŠ æ ‡ç­¾ï¼ˆ<strong>åœ¨ä¸‹æ–‡è¯¦è°ˆåˆ†ç±»ä¸æ ‡ç­¾</strong>ï¼‰ï¼š</p><ul><li><p>é€šè¿‡æµè§ˆå™¨æ’ä»¶ç­‰å·¥å…·æŠ“å–ä¿å­˜çš„å†…å®¹å¯èƒ½ä¼šä¸åŸæ–‡ä¸­çš„å†…å®¹æ’ç‰ˆç›¸å·®ç”šè¿œï¼Œæ¯”å¦‚æœ‰é“äº‘ç¬”è®°å¯¹äºä»£ç å—çš„æŠ“å–æ’ç‰ˆæ”¯æŒå°±å¾ˆå·®ï¼ˆå…¶ä»–å¾ˆä¸é”™ï¼‰ï¼Œè¿™ç§æƒ…å†µï¼Œå°±éœ€è¦æˆ‘ä»¬è‡ªå·±å¯¹å†…å®¹é‡æ–°æ’ç‰ˆï¼Œä¾¿äºä»¥åè‡ªå·±æŸ¥çœ‹ã€‚ä¸ªäººä¸€èˆ¬æ˜¯æ–°å»ºç«‹ä¸€ä¸ª Markdown ç¬”è®°ï¼Œæ‹·è´åŸæ–‡è¿›è¡Œç¼–æ’ï¼Œå¹¶åœ¨æ–‡æœ«æ ‡æ³¨æ–‡ç« æ¥æºé“¾æ¥ã€‚</p></li><li><p>è‰¯å¥½çš„ç¬”è®°åˆ†ç±»æœ‰åˆ©äºå¿«é€Ÿå‡†ç¡®åœ°å®šä½ç¬”è®°ï¼Œæå‡æ•ˆç‡ã€‚</p></li><li><p>ä¸€ç¯‡ç¬”è®°åªèƒ½æ”¾åœ¨ä¸€ä¸ªåˆ†ç±»ä¸­ï¼ˆå¯¹åº”ç¬”è®°çš„æ–‡ä»¶å¤¹)ï¼Œä½†æ˜¯å´èƒ½å¤Ÿæ·»åŠ å¤šä¸ªæ ‡ç­¾ï¼Œæˆ‘è®¤ä¸ºæ ‡ç­¾æ˜¯å¯¹åˆ†ç±»çš„ä¸€ç§è¡¥å……ã€‚å½“åˆ†ç±»ä¸è¶³ä»¥å‡†ç¡®å®šä½ç¬”è®°ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡æ·»åŠ æ ‡ç­¾æ¥å¼¥è¡¥ã€‚</p></li></ul><h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><p>å•å•åªæ˜¯å°†å†…å®¹æ”¶é›†ï¼Œå½’ç±»åŠ æ ‡ç­¾ï¼Œå¹¶ä¸èƒ½å¤Ÿå¯¹è‡ªå·±äº§ç”Ÿå¾ˆå¤§çš„ç”¨å¤„ï¼Œæœ€å¤šçš„æ˜¯è‡ªå·±æƒ³èµ·æ¥å°±å»ç¬”è®°ä¸­å¯»æ‰¾ï¼Œæ­¤æ—¶ç¬”è®°çš„ä½œç”¨æœ€å¤šæ˜¯å……å½“å¤‡å¿˜å½•çš„ä½œç”¨ã€‚è€ŒçœŸæ­£æƒ³è¦åˆ©ç”¨å¥½ç¬”è®°ï¼Œå°±æ˜¯éœ€è¦æˆ‘ä»¬æ¥å¯¹ç¬”è®°è¿›è¡Œæ€»ç»“æ€è€ƒï¼Œæ¥è¾¾åˆ°åœ¨å¤´è„‘ä¸­æ·±åŒ–è¯¥ç¯‡ç¬”è®°çš„ä½œç”¨ã€‚  </p><p>ä¸¾ä¾‹è€Œè¨€ï¼Œç°åœ¨ä½ å†™äº†ä¸€ç¯‡ã€Šæ‹†æ‰æ€ç»´é‡Œçš„å¢™ã€‹çš„è¯»ä¹¦ç¬”è®°ï¼Œä½†ç¬”è®°çš„å†…å®¹åªæœ‰å¯¹äºä¹¦ä¸­åŸæ–‡çš„éƒ¨åˆ†æ‘˜æŠ„ï¼›å…¶å®è¿™æ ·çš„ç¬”è®°ä½œç”¨ä¸å¤§ï¼Œæ—¶é—´é•¿äº†ï¼Œä½ ç”šè‡³ä¸è®°å¾—ä½ æ›¾ç»è¯»è¿‡è¿™æœ¬ä¹¦å¹¶å†™è¿‡è¯»ä¹¦ç¬”è®°ã€‚ä½†æ˜¯ä½ å¯¹æ–‡ç« è¿›è¡Œäº†æ€è€ƒï¼Œæ¦‚æ‹¬ä¹¦çš„ä¸»è¦ä¸­å¿ƒæ€æƒ³ï¼Œå†™äº†è‡ªå·±çš„æ„Ÿå—ï¼Œåœ¨è±†ç“£ä¸Šç•™ä¸‹äº†ä¹¦è¯„ï¼Œå°±ç®—æ—¶é—´ä¹…äº†ï¼Œç¿»çœ‹ç¬”è®°ä¹Ÿèƒ½å¤Ÿå›æƒ³èµ·å½“æ—¶è‡ªå·±çš„æƒ³æ³•ï¼Œè¿™ä¹¦ä¹Ÿå°±æ²¡æœ‰ç™½è¯»ï¼Œç¬”è®°ä¹Ÿå°±æ²¡æœ‰ç™½å†™ã€‚</p><p>ä¸Šæ–‡æåˆ°äº†åœ¨è±†ç“£ä¸­å†™ä¹¦è¯„ï¼Œè¿™å’Œå†™ç¬”è®°è¿›è¡Œæ€»ç»“æ€è€ƒä¸€æ ·éƒ½æ˜¯å¯¹äºçŸ¥è¯†çš„ä¸€ç§è¾“å‡ºã€‚è¾“å‡ºçš„æ–¹å¼è¿˜æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚åœ¨ç®€ä¹¦ä¸Šã€ä¸ªäººåšå®¢ä¸Šã€CSDNã€åšå®¢å›­ç­‰åœ°æ–¹å‘è¡¨æ–‡ç« ã€‚</p><p>å½“ç„¶ï¼Œä¹Ÿå¹¶éæ‰€æœ‰çš„åˆ†ç±»ä¸‹é¢éƒ½éœ€è¦è¿›è¡Œè¿™ä¸‰æ­¥ã€‚</p><h2 id="ç»†è°ˆç¬”è®°åˆ†ç±»ä¸æ ‡ç­¾"><a href="#ç»†è°ˆç¬”è®°åˆ†ç±»ä¸æ ‡ç­¾" class="headerlink" title="ç»†è°ˆç¬”è®°åˆ†ç±»ä¸æ ‡ç­¾"></a>ç»†è°ˆç¬”è®°åˆ†ç±»ä¸æ ‡ç­¾</h2><h3 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h3><p>æŒ‰ç…§ä¸ªäººçš„ä¹ æƒ¯ä¸ç»éªŒï¼Œæˆ‘å°†ç¬”è®°åˆ†ä¸ºäº†äº”å¤§ç±»ï¼Œå¦‚å›¾ï¼š        </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171026/211942811.png" alt="">  </p><p>1ã€ <strong>æ”¶é›†</strong>ï¼ˆæŒ‡çš„æ˜¯ä¸Šå›¾ä¸­çš„<em>æˆ‘çš„èµ„æº</em>æ–‡ä»¶å¤¹ï¼Œå› ä¸ºæ˜¯æœ‰é“äº‘ç¬”è®°è‡ªåŠ¨åˆ›å»ºçš„æ–‡ä»¶å¤¹ï¼Œæ”¹åå­—ä¹‹åä»–è¿˜ä¼šåˆ›å»ºè¿™ä¸ªï¼Œæ‰€ä»¥å°±æ²¡æœ‰æ”¹åå­—ï¼‰<br>æ”¶é›†ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„åˆ†ç±»ï¼Œç”¨äºå­˜æ”¾æœªè¿›è¡Œæ•´ç†çš„æ”¶é›†ï¼Œæœ‰é“äº‘ç¬”è®°ç”Ÿæˆçš„<em>æˆ‘çš„èµ„æº</em>è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œä¼šæ ¹æ®ä½ ä½¿ç”¨çš„æ’ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆå¯¹åº”æ¥æºçš„å­æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚æ¥è‡ªç½‘é¡µå‰ªæŠ¥ã€å¾®ä¿¡æ”¶è—ç­‰ï¼Œæˆ‘æ–°å»ºäº†ä¸€ä¸ª <em>æ€ç»ªä¸‡åƒ</em>  æ–‡ä»¶å¤¹ï¼Œç”¨äºä¿å­˜çªå‘çš„æƒ³æ³•ã€‚</p><p>2ã€ <strong>å¤‡å¿˜</strong></p><p>é¡¾åæ€ä¹‰ï¼Œå¤‡å¿˜åˆ†ç±»ç”¨äºä¸€äº›éœ€è¦æŸ¥æ‰¾ä½¿ç”¨ï¼Œä½†åˆä¸éœ€è¦å®Œå…¨è®°å¿†çš„å†…å®¹ï¼Œæ¯”å¦‚å¾…åŠäº‹é¡¹ï¼Œå¾…è¯»ä¹¦å•ï¼Œè¿˜æœ‰ä¸€äº›çç¢çš„æ–‡æœ¬æ•°æ®å¤‡ä»½ç­‰ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171026/213837971.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure>  <p>3ã€ <strong>å·¥ä½œ</strong></p><p>å·¥ä½œåˆ†ç±»ä¸‹é¢ä¸»è¦æ˜¯è®°å½•ä¸€äº›ä¸šåŠ¡éœ€æ±‚ï¼Œå·¥ä½œéš¾ç‚¹ä»¥åŠå·¥ä½œæŠ€å·§ã€‚</p><p>4ã€ <strong>å­¦ä¹ </strong></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171026/214451709.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure>  <p>ä¸»è¦æ˜¯ä¸€äº›å…³äºç¼–ç¨‹ç›¸å…³çš„å­åˆ†ç±»æ–‡ä»¶å¤¹ï¼Œè¿™é‡Œå’Œå·¥ä½œåˆ†ç±»éƒ½å› äººè€Œå¼‚ã€‚</p><p>5ã€ <strong>ç”Ÿæ´»</strong>  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171026/214954446.png" alt="">    </p><p>ç”Ÿæ´»åˆ†ç±»ä¸»è¦æ”¾ä¸€äº›ç”Ÿæ´»ä¸­å­¦ä¹ çš„å†…å®¹ï¼Œæ¯”å¦‚è¯»ä¹¦ç¬”è®°ã€æŠ•èµ„æŒ‡å—ï¼Œä¿é™©ç›¸å…³çš„çŸ¥è¯†ã€‚å…¶å®è¿™ä¸ªåˆ†ç±»å’Œå­¦ä¹ åˆ†ç±»å¾ˆåƒï¼Œå› ä¸ºæˆ‘å…³äºä»£ç çš„ç¬”è®°æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥å°†å…¶ä»–å’Œä»£ç ä¸ç›¸å…³çš„ç¬”è®°æ”¾åœ¨ç”Ÿæ´»åˆ†ç±»å½“ä¸­ã€‚</p><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ†ç±»çš„å±‚çº§ä¸å®œåµŒå¥—å¤ªæ·±ï¼Œæœ€å¥½ä¿æŒåœ¨ä¸‰å±‚ä»¥å†…ï¼Œè¶…è¿‡åä¸åˆ©äºæŸ¥æ‰¾ã€‚(æ‰€ä»¥æˆ‘æŠŠä¸ä»£ç ä¸ç›¸å…³çš„æ”¾åˆ°ç”Ÿæ´»åˆ†ç±»ä¸‹)</strong></p><h3 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h3><p>å†è°ˆç¬”è®°çš„æ ‡ç­¾ï¼Œæ—¢ç„¶æ ‡ç­¾æ˜¯å¯¹åˆ†ç±»çš„ä¸€ç§è¡¥å……ï¼Œå› æ­¤æ˜¯éå¿…è¦çš„ï¼ŒåŒæ—¶æ ‡ç­¾ä¸èƒ½å’Œåˆ†ç±»é‡å¤ï¼Œå‚è€ƒæ·»åŠ è¿™äº›æ ‡ç­¾ã€‚</p><ol><li>æ–‡ç« æ¥æº ï¼ˆçŸ¥ä¹ã€ç®€ä¹¦ã€CSDNç­‰ï¼‰</li><li>å…³é”®è¯ ï¼ˆç¬”è®°çš„å…³é”®ç‚¹ï¼Œå¯ä»¥æå–å‡ ä¸ªè¯è¯­å‡ºæ¥ä½œä¸ºæ ‡ç­¾ï¼‰</li><li>ä¸è¦å¤ªå…·ä½“ ï¼ˆå¤ªå…·ä½“å°±ä¼šå¯¼è‡´æ ‡ç­¾è¿‡å¤šï¼Œåè€Œä¸åˆ©äºæ ‡ç­¾çš„ä½¿ç”¨ï¼‰</li></ol><h2 id="åè¨€"><a href="#åè¨€" class="headerlink" title="åè¨€"></a>åè¨€</h2><h3 id="æœ€åè¯´è¯´è®°ç¬”è®°çš„åŸåˆ™"><a href="#æœ€åè¯´è¯´è®°ç¬”è®°çš„åŸåˆ™" class="headerlink" title="æœ€åè¯´è¯´è®°ç¬”è®°çš„åŸåˆ™"></a>æœ€åè¯´è¯´è®°ç¬”è®°çš„åŸåˆ™</h3><ol><li>è®°ç¬”è®°æ˜¯ä¸ºäº†ç”¨ï¼Œä¸ç”¨çš„ç¬”è®°æ²¡æœ‰ä»»ä½•ä»·å€¼</li><li>ä¸èƒ½åªæ”¶é›†ä¸å­¦ä¹ </li><li>å®šæœŸå›é¡¾ï¼Œæ•´ç†ä¸å½’æ¡£ï¼ˆå®šæœŸå›é¡¾æœ‰åˆ©äºç¬”è®°å†…å®¹çš„è®°å¿†ï¼‰</li></ol><h3 id="è®°ç¬”è®°ä¼šé‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Ÿ"><a href="#è®°ç¬”è®°ä¼šé‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Ÿ" class="headerlink" title="è®°ç¬”è®°ä¼šé‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Ÿ"></a>è®°ç¬”è®°ä¼šé‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Ÿ</h3><ol><li>å¼ºè¿«ç—‡çŠ¯äº†ï¼Œä¸çŸ¥é“è¯¥æ”¾åœ¨å“ªä¸ªåˆ†ç±»ä¸‹é¢ï¼Œ åŸåˆ™æ˜¯ç”¨ï¼Œä½ è®¤ä¸ºæ”¾åœ¨å“ªä¸ªåˆ†ç±»ä¸‹é¢æœ€å¯èƒ½è¢«ç”¨åˆ°ï¼Œå°±æ”¾åœ¨é‚£ä¸ªåˆ†ç±»ä¸‹é¢ã€‚</li></ol><p><a href="http://nullpointer.pw">Nullpointerçš„åšå®¢</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.zhihu.com/search?type=content&amp;q=%E7%AC%94%E8%AE%B0" target="_blank" rel="noopener">https://www.zhihu.com/search?type=content&amp;q=%E7%AC%94%E8%AE%B0</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘åœ¨å…¬å¸å¼€ä¼šï¼Œæˆ‘åˆ†äº«äº†ä¸€äº›ä¸ªäººæ—¥å¸¸å…³äºå¦‚ä½•è®°ç¬”è®°çš„å¿ƒå¾—ï¼Œç»“åˆåœ¨ç½‘ä¸Šçœ‹çš„ç›¸å…³æ–‡ç« ï¼Œæ•´ç†ä¸€ä¸‹ï¼Œç„¶ååšäº†ä¸€äº›è¡¥å……ï¼Œå†™å‡ºè¿™ç¯‡åšæ–‡ï¼Œæ–‡ç« æ¶‰åŠå·¥å…·çš„é€‰æ‹©å’Œè®°ç¬”è®°çš„æ­¥éª¤ä»¥åŠè®°ç¬”è®°çš„æŠ€å·§ä¸æ³¨æ„äº‹é¡¹ï¼Œæ¬¢è¿ç•™è¨€æ¢è®¨ã€‚  &lt;/p&gt;
    
    </summary>
    
      <category term="åˆ†äº«" scheme="http://nullpointer.pw/categories/%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="ç¬”è®°" scheme="http://nullpointer.pw/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Mysqlè¡Œè½¬åˆ—è¾“å‡ºã€å®æˆ˜ã€‘</title>
    <link href="http://nullpointer.pw/Mysql%E8%A1%8C%E8%BD%AC%E5%88%97%E8%BE%93%E5%87%BA%E3%80%90%E5%AE%9E%E6%88%98%E3%80%91.html"/>
    <id>http://nullpointer.pw/Mysqlè¡Œè½¬åˆ—è¾“å‡ºã€å®æˆ˜ã€‘.html</id>
    <published>2017-10-09T14:44:58.000Z</published>
    <updated>2017-12-03T11:02:00.239Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œéœ€è¦å°†ä¸€è¡Œä¸€è¡Œçš„æ•°æ®è½¬æ¢æˆä¸€åˆ—æ•°æ®ã€‚æ¯”å¦‚æ¯ä¸ªäººçš„æ¯ä¸ªç§‘ç›®éƒ½æœ‰ä¸€ä¸ªåˆ†æ•°ï¼Œå¹¶åˆ†åˆ«å¯¹åº”ä¸€ä¸ªåˆ†æ•°ï¼Œä½†æ˜¯ä¸ºäº†æ›´åŠ ç›´è§‚åœ°çœ‹åˆ°ä¸€ä¸ªäººçš„æ‰€æœ‰ç§‘ç›®æˆç»©ï¼Œæ‰€ä»¥éœ€è¦å°†æ¯ä¸ªç§‘ç›®æˆç»©ç”±è¡Œè½¬æ¢æˆåˆ—ã€‚</p><a id="more"></a><p><strong>åŸå§‹æ•°æ®</strong></p><table><thead><tr><th style="text-align:center">id</th><th style="text-align:center">stuid</th><th style="text-align:center">name</th><th style="text-align:center">subject</th><th style="text-align:center">score</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">110</td><td style="text-align:center">xiaoA</td><td style="text-align:center">è¯­æ–‡</td><td style="text-align:center">99</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">110</td><td style="text-align:center">xiaoA</td><td style="text-align:center">æ•°å­¦</td><td style="text-align:center">88</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">112</td><td style="text-align:center">xiaoB</td><td style="text-align:center">è¯­æ–‡</td><td style="text-align:center">69</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">112</td><td style="text-align:center">xiaoB</td><td style="text-align:center">æ•°å­¦</td><td style="text-align:center">100</td></tr></tbody></table><p><strong>è¡Œæ•°æ®è½¬æ¢æˆåˆ—æ•°æ®ä¹‹å</strong></p><table><thead><tr><th style="text-align:center">stuid</th><th style="text-align:center">name</th><th style="text-align:center">è¯­æ–‡</th><th style="text-align:center">æ•°å­¦</th></tr></thead><tbody><tr><td style="text-align:center">110</td><td style="text-align:center">xiaoA</td><td style="text-align:center">99</td><td style="text-align:center">88</td></tr><tr><td style="text-align:center">112</td><td style="text-align:center">xiaoB</td><td style="text-align:center">69</td><td style="text-align:center">100</td></tr></tbody></table><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> stuid, <span class="string">`name`</span>,</span><br><span class="line">  <span class="keyword">MAX</span>(<span class="keyword">CASE</span> <span class="string">`subject`</span> <span class="keyword">WHEN</span> <span class="string">'C001'</span> <span class="keyword">THEN</span> score <span class="keyword">ELSE</span> <span class="number">0</span> <span class="keyword">END</span>) <span class="keyword">as</span> <span class="string">'è¯­æ–‡'</span>,</span><br><span class="line">  <span class="keyword">MAX</span>(<span class="keyword">CASE</span> <span class="string">`subject`</span> <span class="keyword">WHEN</span> <span class="string">'C002'</span> <span class="keyword">THEN</span> score <span class="keyword">ELSE</span> <span class="number">0</span> <span class="keyword">END</span>) <span class="keyword">as</span> <span class="string">'æ•°å­¦'</span></span><br><span class="line"><span class="keyword">FROM</span> <span class="string">`sys_user`</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> stuid;</span><br></pre></td></tr></table></figure><hr><p>ä»¥ä¸‹é€šè¿‡ä¸¤ä¸ªåœ¨å·¥ä½œä¸­é‡åˆ°çš„å®ä¾‹ï¼Œæ¥ä½¿ç”¨ Mysql çš„è¡Œè½¬åˆ—ã€‚</p><h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><h3 id="å®ä¾‹ä¸€"><a href="#å®ä¾‹ä¸€" class="headerlink" title="å®ä¾‹ä¸€"></a>å®ä¾‹ä¸€</h3><p>ç½‘ç«™è¿›è¡Œæ¨å¹¿ï¼Œæ¯ä¸ªæ¨å¹¿å‘˜éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€ ID å³ <strong>pid</strong>ï¼Œç°åœ¨è¦ç»Ÿè®¡æ¯ä¸ªæ¨å¹¿å‘˜çš„æ¨å¹¿æ•°æ®ï¼›éœ€è¦ç»Ÿè®¡æ¨å¹¿è¿‡æ¥çš„æ–°å¢ç”¨æˆ·ï¼Œä»¥åŠæ–°å¢ç”¨æˆ·çš„å……å€¼ä»¥åŠæ¶ˆè´¹æ•°æ®ã€‚è¿™é‡Œç®€åŒ–äº†æ•°æ®ï¼Œä¾¿äºç†è§£ã€‚  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171009/165507766.png?imageslim" alt="">  </p><p><strong>æ•°æ®è¯´æ˜ï¼š</strong>  </p><ul><li>create_timeï¼š æ•°æ®ç”Ÿæˆæ—¶é—´</li><li>pidï¼š æ¨å¹¿å‘˜å”¯ä¸€ID</li><li>typeï¼š æ•°æ®ç±»å‹<ul><li>1ï¼š æ–°å¢ç”¨æˆ·</li><li>2ï¼š æ–°å¢å……å€¼</li><li>3ï¼š æ–°å¢æ¶ˆè´¹</li></ul></li><li>valueï¼š å¯¹åº”çš„æ•°æ®å€¼</li></ul><p><strong>éœ€æ±‚ç»“æœæ ·å¼ï¼š</strong>    </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171009/165921767.png?imageslim" alt="">  </p><p><strong>SQL æŸ¥è¯¢ï¼š</strong>  </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">create_time,</span><br><span class="line"><span class="keyword">MAX</span>(<span class="keyword">CASE</span> <span class="keyword">type</span> <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="keyword">value</span> <span class="keyword">ELSE</span> <span class="number">0</span> <span class="keyword">END</span>) <span class="string">'æ–°å¢ç”¨æˆ·'</span>,</span><br><span class="line"><span class="keyword">MAX</span>(<span class="keyword">CASE</span> <span class="keyword">type</span> <span class="keyword">WHEN</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="keyword">value</span> <span class="keyword">ELSE</span> <span class="number">0</span> <span class="keyword">END</span>) <span class="string">'æ–°å¢å……å€¼'</span>,</span><br><span class="line"><span class="keyword">MAX</span>(<span class="keyword">CASE</span> <span class="keyword">type</span> <span class="keyword">WHEN</span> <span class="number">3</span> <span class="keyword">THEN</span> <span class="keyword">value</span> <span class="keyword">ELSE</span> <span class="number">0</span> <span class="keyword">END</span>) <span class="string">'æ–°å¢è®¢é˜…'</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">wings_companion_analytics <span class="keyword">GROUP</span> <span class="keyword">BY</span> create_time</span><br></pre></td></tr></table></figure><hr><h3 id="å®ä¾‹äºŒ"><a href="#å®ä¾‹äºŒ" class="headerlink" title="å®ä¾‹äºŒ"></a>å®ä¾‹äºŒ</h3><p>ç»Ÿè®¡ç½‘ç«™å•æœ¬ä¹¦çš„è´­ä¹°æ¬¡æ•°ä»¥åŠè´­ä¹°é‡‘é¢  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171009/172010156.png?imageslim" alt="">    </p><p><strong>æ•°æ®è¯´æ˜ï¼š</strong>  </p><ul><li>idï¼š ä¸»é”®</li><li>bookIdï¼š ä¹¦çš„ ID</li><li>task_idï¼š æ•°æ®ç±»å‹<ul><li>706ï¼š è´­ä¹°æ¬¡æ•°</li><li>707ï¼š è´­ä¹°é‡‘é¢</li></ul></li><li>timeï¼š æ•°æ®ç”Ÿæˆæ—¶é—´</li><li>valueï¼š å¯¹åº”çš„æ•°æ®å€¼</li></ul><p><strong>éœ€æ±‚ç»“æœæ ·å¼ï¼š</strong>      </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20171009/172401490.png?imageslim" alt="">  </p><p><strong>SQL æŸ¥è¯¢ï¼š</strong>  </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> bookId <span class="keyword">as</span> <span class="string">'ä½œå“ID'</span>,</span><br><span class="line">  <span class="keyword">DATE_FORMAT</span>(<span class="keyword">time</span>,<span class="string">'%Y-%m-%d'</span>) <span class="keyword">as</span> <span class="string">'æ—¥æœŸ'</span>,</span><br><span class="line">  <span class="keyword">MAX</span>(<span class="keyword">CASE</span> task_id <span class="keyword">WHEN</span> <span class="number">706</span> <span class="keyword">THEN</span> <span class="string">`value`</span> <span class="keyword">ELSE</span> <span class="number">0</span> <span class="keyword">END</span>) <span class="keyword">AS</span> <span class="string">'è´­ä¹°æ¬¡æ•°'</span>,</span><br><span class="line">  <span class="keyword">MAX</span>(<span class="keyword">CASE</span> task_id <span class="keyword">WHEN</span> <span class="number">707</span> <span class="keyword">THEN</span> <span class="string">`value`</span> <span class="keyword">ELSE</span> <span class="number">0</span> <span class="keyword">END</span>) <span class="keyword">AS</span> <span class="string">'è´­ä¹°é‡‘é¢'</span></span><br><span class="line"><span class="keyword">from</span> <span class="string">`t_task_result_day`</span></span><br><span class="line"><span class="keyword">WHERE</span> task_id <span class="keyword">IN</span> (<span class="number">706</span>, <span class="number">707</span>)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">time</span>, bookId</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> bookId, <span class="keyword">time</span>;</span><br></pre></td></tr></table></figure><h2 id="èµ„æºä¸‹è½½"><a href="#èµ„æºä¸‹è½½" class="headerlink" title="èµ„æºä¸‹è½½"></a>èµ„æºä¸‹è½½</h2><ul><li><a href="http://ojt4b2cr5.bkt.clouddn.com/data.sql" target="_blank" rel="noopener">ç‚¹æˆ‘ä¸‹è½½å®ä¾‹æ‰€ç”¨æ•°æ®</a></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="http://blog.csdn.net/wulantian/article/details/52687640" target="_blank" rel="noopener">http://blog.csdn.net/wulantian/article/details/52687640</a></li><li><a href="http://blog.csdn.net/u013938484/article/details/50552747" target="_blank" rel="noopener">http://blog.csdn.net/u013938484/article/details/50552747</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œéœ€è¦å°†ä¸€è¡Œä¸€è¡Œçš„æ•°æ®è½¬æ¢æˆä¸€åˆ—æ•°æ®ã€‚æ¯”å¦‚æ¯ä¸ªäººçš„æ¯ä¸ªç§‘ç›®éƒ½æœ‰ä¸€ä¸ªåˆ†æ•°ï¼Œå¹¶åˆ†åˆ«å¯¹åº”ä¸€ä¸ªåˆ†æ•°ï¼Œä½†æ˜¯ä¸ºäº†æ›´åŠ ç›´è§‚åœ°çœ‹åˆ°ä¸€ä¸ªäººçš„æ‰€æœ‰ç§‘ç›®æˆç»©ï¼Œæ‰€ä»¥éœ€è¦å°†æ¯ä¸ªç§‘ç›®æˆç»©ç”±è¡Œè½¬æ¢æˆåˆ—ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°æ®åº“" scheme="http://nullpointer.pw/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="mysql" scheme="http://nullpointer.pw/tags/mysql/"/>
    
      <category term="è¡Œè½¬åˆ—" scheme="http://nullpointer.pw/tags/%E8%A1%8C%E8%BD%AC%E5%88%97/"/>
    
      <category term="å®æˆ˜" scheme="http://nullpointer.pw/tags/%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>Nginxç¼“å­˜é…ç½®ä¹‹æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜</title>
    <link href="http://nullpointer.pw/Nginx%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE%E4%B9%8B%E6%89%8B%E5%8A%A8%E6%B8%85%E9%99%A4%E7%BC%93%E5%AD%98.html"/>
    <id>http://nullpointer.pw/Nginxç¼“å­˜é…ç½®ä¹‹æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜.html</id>
    <published>2017-09-10T22:15:36.000Z</published>
    <updated>2017-12-03T11:02:42.786Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>å‰æ–‡ä»‹ç»äº†åˆ©ç”¨ nginx çš„ nginx_ngx_cache_purge æ¨¡å—æ¥å®ç°ç¼“å­˜åŠŸèƒ½ï¼Œå¹¶è®¾ç½®äº†ç¼“å­˜æ—¶é—´ä¸ºä¸€å¤©ã€‚</p><p>ä½†æ˜¯å¦‚æœå‰ç«¯ä¿®æ”¹äº†é¡µé¢ï¼Œæ¯”å¦‚é¦–é¡µï¼Œç”±äº Nginx ç¼“å­˜çš„å­˜åœ¨ï¼Œç½‘ç«™é¦–é¡µå¹¶ä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œè€Œæ˜¯è¦ç­‰åˆ°ç¼“å­˜è¿‡æœŸã€‚è¿™æ ·æ˜æ˜¾ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œæ‰‹åŠ¨ä½¿ Nginx ç¼“å­˜å¤±æ•ˆã€‚ä»¥ä¸‹ä¸ºæ“ä½œè¯¦è§£ã€‚</p></blockquote><a id="more"></a><h2 id="åŸºç¡€ç¯å¢ƒ"><a href="#åŸºç¡€ç¯å¢ƒ" class="headerlink" title="åŸºç¡€ç¯å¢ƒ"></a>åŸºç¡€ç¯å¢ƒ</h2><ul><li>å·²ç»è®¾ç½®ç¼“å­˜çš„ Nginx æœåŠ¡å™¨ï¼Œ å‚ç…§æˆ‘ä¹‹å‰åšæ–‡ <a href="http://nullpointer.pw/2017/08/20/Nginx%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE/">Nginxç¼“å­˜é…ç½®</a></li></ul><h2 id="Nginx-é…ç½®æ–‡ä»¶æ‹†åˆ†"><a href="#Nginx-é…ç½®æ–‡ä»¶æ‹†åˆ†" class="headerlink" title="Nginx é…ç½®æ–‡ä»¶æ‹†åˆ†"></a>Nginx é…ç½®æ–‡ä»¶æ‹†åˆ†</h2><p>åœ¨ä¼ä¸š Nginx åº”ç”¨ä¸­ï¼ŒNginx é…ç½®æ–‡ä»¶åº”è¯¥æ ¹æ®åŸŸåä¸åŒæ¥è¿›è¡Œæ‹†åˆ†ï¼Œç„¶ååœ¨ <strong>nginx.conf</strong>ä¸­è¿›è¡Œ<strong>include</strong>å¼•å…¥ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ä¾¿äºç®¡ç†é…ç½®æ–‡ä»¶ï¼Œä¾¿äºä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œ è€Œ <strong>nginx.conf</strong> æ–‡ä»¶ä¸­åªä¿ç•™ <strong>upstream</strong> ä»¥åŠå…¶ä»–é€šç”¨é…ç½®ä¿¡æ¯ã€‚</p><p>åœ¨ Nginx çš„ <strong>conf</strong> ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ <strong>include</strong>ï¼Œ ç”¨äºä¿å­˜æ‹†åˆ†çš„é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir include</span><br></pre></td></tr></table></figure><p>æ‹†åˆ†çš„è§„åˆ™å¯ä»¥å¦‚ä¸‹ï¼š</p><ul><li>æ¡Œé¢ç‰ˆï¼ˆWEBï¼‰çš„ Nginx é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å‘½åä¸º <strong>nginx_web.conf</strong></li><li>æ‰‹æœºç‰ˆï¼ˆWAPï¼‰çš„ Nginx é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å‘½åä¸º <strong>nginx_wap.conf</strong></li><li>å®‰å“çš„ Nginx é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å‘½åä¸º <strong>nginx_apk.conf</strong></li><li>è‹¹æœçš„ Nginx é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å‘½åä¸º <strong>nginx_ios.conf</strong></li><li>æ¸…é™¤ç¼“å­˜çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å‘½åä¸º <strong>purge.conf</strong></li></ul><p>åœ¨ <strong>/usr/local/nginx/conf/nginx.conf</strong> ä¸­å¼•å…¥æ‹†åˆ†çš„é…ç½®æ–‡ä»¶ï¼Œ åœ¨é…ç½®æ–‡ä»¶ä¸­çš„ <strong>http</strong> èŠ‚ç‚¹ä¸‹è¿›è¡Œå¼•å…¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">http&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash">......</span></span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash"> æ³¨æ„ purge.conf å¿…é¡»è¦ç¬¬ä¸€ä¸ªå¼•ç”¨ï¼ï¼ï¼</span></span><br><span class="line">  include include/purge.conf;</span><br><span class="line"><span class="meta">  #</span><span class="bash"> å¼•å…¥å…¶ä»–é…ç½®æ–‡ä»¶</span></span><br><span class="line">  include include/nginx_web.conf;</span><br><span class="line"><span class="meta">  #</span><span class="bash">include include/nginx_wap.conf;</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">include include/nginx_apk.conf;</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">include include/nginx_ios.conf;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é…ç½®ç¼“å­˜æ¸…é™¤"><a href="#é…ç½®ç¼“å­˜æ¸…é™¤" class="headerlink" title="é…ç½®ç¼“å­˜æ¸…é™¤"></a>é…ç½®ç¼“å­˜æ¸…é™¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/nginx/conf/include</span><br><span class="line">vi purge.conf</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">purge.conf æ–‡ä»¶å†…å®¹ä¸ºï¼š</span></span><br><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name 192.168.200.129;# æ­¤å¤„æˆ‘é…ç½®çš„æ˜¯æœ¬æœºip</span><br><span class="line">    charset utf8;</span><br><span class="line"></span><br><span class="line">    location ~ /purge(/.*) &#123;</span><br><span class="line">        allow   all;# è®¿é—®æ­¤æ¥å£çš„ç™½åå•ï¼Œallä»£è¡¨æ‰€æœ‰äººéƒ½å¯ä»¥è®¿é—®è¯¥è·¯å¾„</span><br><span class="line">        # tmpcache ä¸ºå‰æ–‡ä¸­ proxy_cache_path é‡Œé…ç½®çš„ keys_zone çš„å€¼</span><br><span class="line">        # www.domain.com$1$is_args$args è¡¨ç¤ºç¼“å­˜keyçš„åç§°ï¼Œæ¸…é™¤æŸä¸€åŸŸåä¸‹çš„ç¼“å­˜,å¯ä»¥æŒ‡å®šå‚æ•°</span><br><span class="line">        # $1 ä»£è¡¨æ­£åˆ™åŒ¹é…ä¸­çš„ç¬¬ä¸€ç»„</span><br><span class="line">        proxy_cache_purge cachefile www.domain.com$1$is_args$args;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿å­˜ purge.conf æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•æ¸…é™¤ç¼“å­˜"><a href="#æµ‹è¯•æ¸…é™¤ç¼“å­˜" class="headerlink" title="æµ‹è¯•æ¸…é™¤ç¼“å­˜"></a>æµ‹è¯•æ¸…é™¤ç¼“å­˜</h2><p>å¦‚æœè¦è¿›è¡Œç¼“å­˜æ¸…é™¤ï¼Œé¦–å…ˆéœ€è¦æœ‰ç¼“å­˜æ–‡ä»¶ï¼Œæ­¤å¤„å‚ç…§å‰æ–‡ <a href="http://nullpointer.pw/2017/08/20/Nginx%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE/">Nginxç¼“å­˜é…ç½®</a> ä¸­ï¼Œè®¿é—® <strong>www.domain.com/testpage2</strong>  ï¼Œåˆ·æ–°é¡µé¢ï¼Œç›´åˆ°ç¼“å­˜å·²ç»ç”Ÿæˆï¼Œå³ <strong>X-Cache</strong> çš„çŠ¶æ€ä¸º <strong>HIT</strong>ã€‚</p><p>è¿›å…¥ <strong>cd /tmp/cache/</strong> ï¼ŒæŸ¥çœ‹å·²ç»ç”Ÿæˆäº†ç¼“å­˜æ–‡ä»¶</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170910/223443897.png" alt="mark" title="">                </div>                <div class="image-caption">mark</div>            </figure>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯• nginx é…ç½®æ˜¯å¦æ­£ç¡®</span></span><br><span class="line">/usr/local/nginx/sbin/nginx -t</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœæç¤º is okï¼Œè¯´æ˜é…ç½®æ²¡æœ‰é—®é¢˜ï¼Œå¦åˆ™éœ€è¦ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡å¯ Nginx</span></span><br><span class="line">/usr/local/nginx/sbin/nginx -s reload</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨è®¿é—®ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡ curl å‘½ä»¤æ¥è®¿é—®ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ¸…é™¤keyä¸º www.domain.com/ çš„ç¼“å­˜</span></span><br><span class="line">192.168.200.129/purge/    </span><br><span class="line"><span class="meta">#</span><span class="bash"> æ¸…é™¤ key ä¸º www.domain.com/testpage2 é¡µé¢ç¼“å­˜</span></span><br><span class="line">192.168.200.129/purge/testpage2</span><br></pre></td></tr></table></figure><p>å¦‚æœè¿”å›  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170911/055142311.png" alt="">  </p><p>åˆ™è¡¨ç¤ºæ¸…é™¤æˆåŠŸã€‚</p><h2 id="èµ„æºä¸‹è½½"><a href="#èµ„æºä¸‹è½½" class="headerlink" title="èµ„æºä¸‹è½½"></a>èµ„æºä¸‹è½½</h2><p><a href="http://ojt4b2cr5.bkt.clouddn.com/conf.zip" target="_blank" rel="noopener">ç¤ºä¾‹nginxé…ç½®æ–‡ä»¶</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;å‰æ–‡ä»‹ç»äº†åˆ©ç”¨ nginx çš„ nginx_ngx_cache_purge æ¨¡å—æ¥å®ç°ç¼“å­˜åŠŸèƒ½ï¼Œå¹¶è®¾ç½®äº†ç¼“å­˜æ—¶é—´ä¸ºä¸€å¤©ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¦‚æœå‰ç«¯ä¿®æ”¹äº†é¡µé¢ï¼Œæ¯”å¦‚é¦–é¡µï¼Œç”±äº Nginx ç¼“å­˜çš„å­˜åœ¨ï¼Œç½‘ç«™é¦–é¡µå¹¶ä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œè€Œæ˜¯è¦ç­‰åˆ°ç¼“å­˜è¿‡æœŸã€‚è¿™æ ·æ˜æ˜¾ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œæ‰‹åŠ¨ä½¿ Nginx ç¼“å­˜å¤±æ•ˆã€‚ä»¥ä¸‹ä¸ºæ“ä½œè¯¦è§£ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Nginx" scheme="http://nullpointer.pw/categories/Nginx/"/>
    
    
      <category term="nginx" scheme="http://nullpointer.pw/tags/nginx/"/>
    
      <category term="ç¼“å­˜" scheme="http://nullpointer.pw/tags/%E7%BC%93%E5%AD%98/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼šæ„Ÿè§‰åˆ°å€¦æ€ ?</title>
    <link href="http://nullpointer.pw/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BB%AC%E4%BC%9A%E6%84%9F%E8%A7%89%E5%88%B0%E5%80%A6%E6%80%A0%EF%BC%9F.html"/>
    <id>http://nullpointer.pw/ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼šæ„Ÿè§‰åˆ°å€¦æ€ ï¼Ÿ.html</id>
    <published>2017-09-04T14:14:00.000Z</published>
    <updated>2017-12-03T11:00:08.493Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆäº§ç”Ÿå€¦æ€ ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆäº§ç”Ÿå€¦æ€ ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆäº§ç”Ÿå€¦æ€ ï¼Ÿ"></a>ä¸ºä»€ä¹ˆäº§ç”Ÿå€¦æ€ ï¼Ÿ</h2><p>åˆšå¼€å§‹ æ¥æ‰‹æ–°é¡¹ç›®ã€å­¦ä¹ æ–°æŠ€èƒ½æ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯å…´å¥‹ä¸å·²ã€è¸Œèº‡æ»¡å¿—ã€è¿«ä¸åŠå¾…åœ°æƒ³å¤§å±•èº«æ‰‹ã€‚ä½†æ˜¯è¿‡äº†ä¸ä¹…ï¼Œæ–°é²œæ„Ÿé€€å´åï¼Œå¤§éƒ¨åˆ†çƒ­æƒ…å°±ä¼šæ¶ˆé€€ï¼Œæœ€ç»ˆå°±ä¼šå…´è¶£ç´¢ç„¶ï¼Œç§¯ææ€§ä½ï¼Œè¿›å±•ç¼“æ…¢æˆ–è€…æ¯«æ— è¿›å±•ã€‚</p><a id="more"></a><p>è¿™æ ·çš„äº‹æƒ…å¾ˆå¤šï¼Œæ¯”å¦‚ï¼š</p><ul><li>åˆšå¼€å§‹å­¦ä¹ é©¾é©¶ï¼Œæ˜¯ä¸æ˜¯å¾ˆå…´å¥‹ï¼Ÿè¿‡äº†å¤šä¹…ä¹‹åï¼Œå°±ä¸å†çœŸæ­£å…³å¿ƒä½ çš„è½¦äº†ï¼Ÿå¤šä¹…ä»¥åï¼Œä½ å·²ç»è§‰å¾—å®ƒå·²ç»â€œè€â€äº†ï¼Ÿ</li><li>é›„å¿ƒå‹ƒå‹ƒåœ°æƒ³é”»ç‚¼å‡ºä¸€å‰¯å¥½èº«æï¼ŒåŠäº†å¥èº«å¡åï¼Œå»äº†å‡ æ¬¡ä¹‹åå°±å†æ²¡å»è¿‡äº†ï¼Ÿ</li><li>â€¦â€¦</li></ul><p>æˆ‘ä»¬å½“å¼€å§‹å€¦æ€ ï¼Œäºæ˜¯æˆ‘ä»¬åŠé€”è€ŒåºŸï¼ŒåŠªåŠ›å¯»æ‰¾æ–°äº‹ç‰©ï¼Œæ‰¾å›è‡ªå·±çœŸæ­£çš„æ¿€æƒ…ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170904/213718521.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>å¼€å§‹çš„æ—¶å€™æˆ‘ä»¬çš„å…´è¶£æœ€é«˜ï¼Œè€ŒåŠ¨æœºåœ¨å¼€å§‹é˜¶æ®µå¯èƒ½ä¸é«˜ï¼Œä½†æ˜¯éšç€å–å¾—è¿›å±•ï¼Œæˆ‘ä»¬çš„åŠ¨æœºæ°´å¹³å¼€å§‹ä¸Šå‡ã€‚æ—©æœŸçš„æˆåŠŸè®©ä½ æ„Ÿè§‰åˆ°æœ‰åŠ¨åŠ›ï¼Œå†²é‡åˆ™æ¨åŠ¨ä½ å‰è¿›ã€‚</p><p>ä½†æ˜¯éšç€æ—¶é—´çš„æ¨ç§»ï¼Œç¼“æ…¢çš„æˆæœè¿›å±•åœ¨ä¸æ–­æ¶ˆè€—ä½ çš„åŠ¨æœºï¼Œæœ€ç»ˆä¼šå‘ç°åŠ¨æœºå’Œå…´è¶£éƒ½æ¿’ä¸´è°·åº•ï¼Œè¿™å°±æ˜¯é‚£å µå¢™ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ„Ÿè§‰å€¦æ€ çš„åŸå› ã€‚</p><p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬ç©¿è¿‡äº†è¿™é“å¢™ï¼Œæˆ‘ä»¬çš„åŠ¨æœºã€å…´è¶£ä¼šéšç€æˆæœçš„ä¸æ–­å–å¾—è€Œä¸æ–­ä¸Šå‡åŠ å¼ºï¼Œæœ€ç»ˆæˆ‘ä»¬è·å¾—äº†æœ€å¤§çš„å›æŠ¥ï¼Œåªæ˜¯èƒ½å¤Ÿç©¿è¿‡è¿™é“å¢™çš„äººå¾ˆå°‘ã€‚</p><h2 id="å¦‚ä½•ç©¿è¿‡è¿™é“å¢™ï¼Ÿ"><a href="#å¦‚ä½•ç©¿è¿‡è¿™é“å¢™ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç©¿è¿‡è¿™é“å¢™ï¼Ÿ"></a>å¦‚ä½•ç©¿è¿‡è¿™é“å¢™ï¼Ÿ</h2><p>åˆ¶å®šä¸€ä¸ªç›®æ ‡æˆ–è®¡åˆ’ï¼Œé‡‡å–â€œå®šé¢å·¥ä½œæ³•â€ï¼Œå¹¶åšå†³æŒ‰ç…§è®¡åˆ’å®Œæˆå®šé¢å·¥ä½œã€‚</p><p>é¦–å…ˆéœ€è¦ç¡®ç«‹ä¸€ä¸ªç›®æ ‡ï¼Œè§„å®šè‡ªå·±è¦åœ¨é¢„å®šç¡®å®šçš„æ—¶é—´æ®µå†…éœ€è¦å–å¾—å¤šå¤§çš„è¿›å±•ã€‚</p><p>æ¯”å¦‚ï¼š</p><ul><li>æ¯å‘¨è·‘æ­¥ 3 æ¬¡</li><li>æ¯å‘¨å†™ä¸€ç¯‡åšå®¢</li><li>æ¯å¤©çœ‹åŠå°æ—¶çš„ä¹¦</li><li>æ¯å¤©å¼¹åŠå°æ—¶çš„å‰ä»–</li></ul><p>å°†æ‰€æœ‰é‡å¤æ€§å·¥ä½œçš„é¢‘ç‡è¿›è¡Œé‡åŒ–ï¼Œæœ‰çš„ä¸€æœˆä¸€æ¬¡ï¼Œæœ‰çš„ä¸€å‘¨3æ¬¡ï¼Œæœ‰çš„åˆ™æ˜¯æ¯å¤©ä¸¤æ¬¡ã€‚å¹¶æ‰¿è¯ºå®Œæˆï¼Œæ— è®ºåˆ®é£ä¸‹é›¨ã€‚</p><p><strong>æ‰¿è¯ºæ˜¯å®šé¢å·¥ä½œæ³•çš„æ ¸å¿ƒï¼Œé™¤äº†æƒ³æ–¹è®¾æ³•å®Œæˆè‡ªå·±çš„å·¥ä½œï¼Œä¸ç»™è‡ªå·±ç•™ä¸‹ä»»ä½•å…¶ä»–çš„é€‰æ‹©ã€‚</strong> å¤±è´¥ä¸èƒ½è¢«æ¥å—ï¼Œå› ä¸ºä½ è®©è‡ªå·±å¤±ä¿¡ä¸€æ¬¡ï¼Œå°±ä¼šæœ‰ç¬¬äºŒæ¬¡ï¼Œå¾ˆå¿«å®šé¢åœ¨ä½ çœ¼ä¸­å°±ä¼šå˜å¾—ä¸€æ–‡ä¸å€¼ã€‚</p><p>å®šé¢å·¥ä½œæ³•çš„ä¼˜ç‚¹è¿˜å¯ä»¥å¸®ä½ å…‹æœæ„å¿—åŠ›è–„å¼±çš„é—®é¢˜ã€‚<strong>é€šè¿‡é¢„å…ˆè®¾å®šå¥½çš„å¿…é¡»è¦éµå¾ªçš„è¿‡ç¨‹ï¼Œæ¶ˆé™¤éœ€è¦ä½œå‡ºå†³ç­–çš„éƒ¨åˆ†ã€‚</strong> å³ä¸éœ€è¦åšåˆ¤æ–­â€”â€”ä½ çŸ¥é“å¿…é¡»è¦åšï¼Œåªéœ€è¦éµä»å‘½ä»¤ï¼Œé¿å…äº†æ„å¿—åŠ›è€—å°½çš„é—®é¢˜ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ä¸ºä»€ä¹ˆäº§ç”Ÿå€¦æ€ ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆäº§ç”Ÿå€¦æ€ ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆäº§ç”Ÿå€¦æ€ ï¼Ÿ&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆäº§ç”Ÿå€¦æ€ ï¼Ÿ&lt;/h2&gt;&lt;p&gt;åˆšå¼€å§‹ æ¥æ‰‹æ–°é¡¹ç›®ã€å­¦ä¹ æ–°æŠ€èƒ½æ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯å…´å¥‹ä¸å·²ã€è¸Œèº‡æ»¡å¿—ã€è¿«ä¸åŠå¾…åœ°æƒ³å¤§å±•èº«æ‰‹ã€‚ä½†æ˜¯è¿‡äº†ä¸ä¹…ï¼Œæ–°é²œæ„Ÿé€€å´åï¼Œå¤§éƒ¨åˆ†çƒ­æƒ…å°±ä¼šæ¶ˆé€€ï¼Œæœ€ç»ˆå°±ä¼šå…´è¶£ç´¢ç„¶ï¼Œç§¯ææ€§ä½ï¼Œè¿›å±•ç¼“æ…¢æˆ–è€…æ¯«æ— è¿›å±•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="è¯»ä¹¦" scheme="http://nullpointer.pw/categories/%E8%AF%BB%E4%B9%A6/"/>
    
    
      <category term="è¯»ä¹¦" scheme="http://nullpointer.pw/tags/%E8%AF%BB%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title>Nginxç¼“å­˜é…ç½®</title>
    <link href="http://nullpointer.pw/Nginx%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE.html"/>
    <id>http://nullpointer.pw/Nginxç¼“å­˜é…ç½®.html</id>
    <published>2017-08-20T08:09:08.000Z</published>
    <updated>2017-12-03T11:02:31.803Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>æœ¬æ–‡ä»‹ç»åˆ©ç”¨ nginx çš„ nginx_ngx_cache_purge æ¨¡å—æ¥å®ç°ç¼“å­˜åŠŸèƒ½ï¼Œå‰å‡ ç¯‡æ–‡ç« ä»‹ç»äº† Nginx çš„åŠ¨é™åˆ†ç¦»ä»¥åŠ CDN æŠ€æœ¯ï¼Œåœ¨å…¶åŸºç¡€ä¸Šï¼Œå†å¯¹æ•´ä¸ªé¡µé¢è¿›è¡Œç¼“å­˜ï¼Œå°†å¤§å¤§æé«˜æœåŠ¡å™¨çš„è´Ÿè½½èƒ½åŠ›ã€‚</p></blockquote><a id="more"></a><h2 id="åŸºç¡€ç¯å¢ƒ"><a href="#åŸºç¡€ç¯å¢ƒ" class="headerlink" title="åŸºç¡€ç¯å¢ƒ"></a>åŸºç¡€ç¯å¢ƒ</h2><ul><li><a href="http://nullpointer.pw/2017/08/19/CentOS%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85">CentOS 6.8 minimal</a></li><li><a href="http://nginx.org/download/nginx-1.12.1.tar.gz" target="_blank" rel="noopener">Nginx 1.12.1</a></li><li><a href="http://labs.frickle.com/files/ngx_cache_purge-2.3.tar.gz" target="_blank" rel="noopener">ngx_cache_purge-2.3</a></li></ul><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><p>Nginx ä¸ nginx_ngx_cache_purge ä¸‹è½½è§£å‹</p><p>å®‰è£… <em>wget</em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install wget</span><br></pre></td></tr></table></figure><p>ä¸‹è½½ <em>Nginx</em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget  http://nginx.org/download/nginx-1.12.1.tar.gz</span><br></pre></td></tr></table></figure><p>è§£å‹ <em>Nginx</em> åˆ° <em>/usr/local/src/</em> ç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf nginx-1.8.1.tar.gz -C /usr/local/src/</span><br></pre></td></tr></table></figure><p>ä¸‹è½½ <em>ngx_cache_purge</em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://labs.frickle.com/files/ngx_cache_purge-2.3.tar.gz</span><br></pre></td></tr></table></figure><p>è§£å‹åˆ° Nginx åŒä¸€çº§ç›®å½•  </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf ngx_cache_purge-2.3.tar.gz -C /usr/local/src/</span><br></pre></td></tr></table></figure><p>ç›®å½•ç»“æ„ä¸º<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---/usr/local/src</span><br><span class="line">   --nginx-1.8.1</span><br><span class="line">   --ngx_cache_purge-2.3</span><br></pre></td></tr></table></figure></p><p>è¿›å…¥ Nginx è§£å‹ç›®å½•<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd nginx-1.8.1</span><br></pre></td></tr></table></figure></p><p>å®‰è£…å¿…è¦ä¾èµ–<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install gcc pcre-devel openssl openssl-devel</span><br></pre></td></tr></table></figure></p><p>æ£€æŸ¥å®‰è£…ç¯å¢ƒ,å¹¶æŒ‡å®šå°†æ¥è¦å®‰è£…çš„è·¯å¾„å’Œè¦å®‰è£…çš„æ’ä»¶<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/nginx/ --with-http_realip_module --add-module=../ngx_cache_purge-2.3</span><br></pre></td></tr></table></figure></p><p>å‚æ•°è¯´æ˜ï¼š<br>â€“prefixï¼š å°† nginx å®‰è£…åˆ°æ­¤ç›®å½•<br>â€“with-http_realip_module å¯ç”¨è·å–ç”¨æˆ·çœŸå® IP æ¨¡å—<br>â€“add-module=../ngx_cache_purge-2.3 æ·»åŠ  ngx_cache_purge æ¨¡å—ï¼Œç”¨äºç¼“å­˜  </p><p>è¿›è¡Œç¼–è¯‘å®‰è£…<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure></p><p>ç¼–è¯‘å®Œæˆåï¼Œæ²¡æœ‰å‡ºç° error ä¸ºç¼–è¯‘å®‰è£…æˆåŠŸ</p><h2 id="è®¾ç½®-Nginx-ç¼“å­˜"><a href="#è®¾ç½®-Nginx-ç¼“å­˜" class="headerlink" title="è®¾ç½® Nginx ç¼“å­˜"></a>è®¾ç½® Nginx ç¼“å­˜</h2><p>ç¼–è¾‘ <em>nginx.conf</em> é…ç½®æ–‡ä»¶<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/local/nginx/conf/nginx.conf</span><br></pre></td></tr></table></figure></p><p>æ·»åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> éœ€è¦åœ¨ /tmp ç›®å½•ä¸‹åˆ›å»º cache æ–‡ä»¶å¤¹ï¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash">è®¾ç½®ç¼“å­˜åŒºçš„åç§°ä¸º tmpcacheï¼Œå†…å­˜ç¼“å­˜ç©ºé—´å¤§å°ä¸º 200MBï¼Œ1 å¤©æ²¡æœ‰è¢«è®¿é—®çš„å†…å®¹è‡ªåŠ¨æ¸…é™¤ï¼Œç¡¬ç›˜ç¼“å­˜ç©ºé—´å¤§å°ä¸º 5GBï¼Œ å¦‚æœè®¿é—®é¢‘ç‡ä¸é«˜çš„è¯ï¼Œ inactive æ—¶é—´å¯ä»¥è®¾ç½®é•¿ä¸€äº›ã€‚</span></span><br><span class="line">proxy_cache_path /tmp/cache levels=1:2 keys_zone=tmpcache:200m inactive=1d max_size=5g;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">listen       80;</span><br><span class="line">server_name  www.domain.com;#ä½ çš„åŸŸå</span><br><span class="line">charset utf8;</span><br><span class="line"></span><br><span class="line">proxy_set_header        Host            $host;</span><br><span class="line">proxy_set_header        X-Real-IP       $remote_addr;</span><br><span class="line">proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">proxy_set_header        X-Up-Calling-Line-Id $http_x_up_calling_line_id;</span><br><span class="line">proxy_ignore_headers    X-Accel-Expires Expires Cache-Control Set-Cookie;</span><br><span class="line"></span><br><span class="line">access_log logs/access.log  main;</span><br><span class="line"></span><br><span class="line">location / &#123;</span><br><span class="line">proxy_pass http://127.0.0.1:8080;</span><br><span class="line"><span class="meta">#</span><span class="bash">proxy_cache çš„å€¼æ˜¯ proxy_cache_path ä¸­çš„ keys_zone çš„å€¼</span></span><br><span class="line">proxy_cache tmpcache;</span><br><span class="line"><span class="meta">#</span><span class="bash">ç¼“å­˜ key çš„å€¼</span></span><br><span class="line">proxy_cache_key $host$uri$is_args$args;</span><br><span class="line">proxy_cache_valid 200 301 5m;</span><br><span class="line">proxy_cache_use_stale updating error timeout invalid_header http_500 http_502 http_503 http_504;</span><br><span class="line"></span><br><span class="line">expires 1m;</span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†ç¼“å­˜çš„çŠ¶æ€æ·»åŠ åˆ° Header ä¸­</span></span><br><span class="line">add_header X-Cache '$upstream_cache_status';</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨-Nginx"><a href="#å¯åŠ¨-Nginx" class="headerlink" title="å¯åŠ¨ Nginx"></a>å¯åŠ¨ Nginx</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/nginx/sbin/nginx</span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨-Tomcat"><a href="#å¯åŠ¨-Tomcat" class="headerlink" title="å¯åŠ¨ Tomcat"></a>å¯åŠ¨ Tomcat</h2><p>å¯ä»¥ä½¿ç”¨è‡ªå·±çš„é¡¹ç›®ï¼Œæˆ–è€…ä½¿ç”¨æˆ‘æä¾›çš„é¡¹ç›®æ¥è¿›è¡Œæµ‹è¯•ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://ojt4b2cr5.bkt.clouddn.com/SpringDemo.war</span><br></pre></td></tr></table></figure><p>å°†ä¸‹è½½çš„ war åŒ…æ”¾åˆ° Tomcat çš„ webapps ç›®å½•ä¸‹ï¼Œä¿®æ”¹ war åŒ…åç§°ä¸º ROOT.war ï¼Œå¯åŠ¨ Tomcatã€‚</p><h2 id="æµ‹è¯•-Nginx-ç¼“å­˜"><a href="#æµ‹è¯•-Nginx-ç¼“å­˜" class="headerlink" title="æµ‹è¯• Nginx ç¼“å­˜"></a>æµ‹è¯• Nginx ç¼“å­˜</h2><p>ç¼“å­˜ä¹‹å‰</p><p>æŸ¥çœ‹ <strong>/tmp/cache</strong> ç›®å½•ï¼Œ ç›®å½•ä¸‹é¢æ²¡æœ‰ä»»ä½•æ–‡ä»¶</p><p>ä¿®æ”¹æœ¬æœºï¼ˆwindowsï¼‰çš„ hosts æ–‡ä»¶ï¼Œå°†é…ç½®çš„åŸŸåæŒ‡å‘æœåŠ¡å™¨ IP</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.200.129 www.domain.com</span><br></pre></td></tr></table></figure><p>æ‰“å¼€æµè§ˆå™¨è®¿é—® <strong>www.domain.com/testpage1</strong></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170820/131820402.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>å‘ç° <strong>X-Cache</strong> çš„çŠ¶æ€ä¸º <strong>MISS</strong> ï¼Œè¯´æ˜æ²¡æœ‰ç¼“å­˜ã€‚</p><p>å†æ¬¡åˆ·æ–°é¡µé¢å  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170820/133616261.png" alt=""></p><p><strong>X-Cache</strong> çš„çŠ¶æ€å·²ç»å˜æˆäº† <strong>HIT</strong></p><p>åŒæ—¶åœ¨æœåŠ¡å™¨ä¸ŠæŸ¥çœ‹ <strong>/tmp/cache</strong> ç›®å½•</p><p><code>cd /tmp/cache/</code></p><p>å‘ç°è¯¥ç›®å½•ä¸‹é¢å·²ç»å¤šäº†æ–‡ä»¶ç›®å½•ï¼Œè¿›å»ä¹‹åæ‰“å¼€æ–‡ä»¶ï¼Œå‘ç°æ­£æ˜¯åˆšåˆšè®¿é—®é¡µé¢çš„æºç ï¼Œè¯´æ˜ Nginx çš„ç¼“å­˜å·²ç»é…ç½®æˆåŠŸäº†ã€‚åªè¦æ˜¯é…ç½®çš„åŸŸåä¸‹é¢çš„é¡µé¢ï¼Œ å¦‚æœæ²¡æœ‰è¿›è¡Œè¿‡æ»¤ï¼Œéƒ½ä¼šç¼“å­˜åˆ°æœåŠ¡å™¨ã€‚å½“ç¬¬äºŒæ¬¡è®¿é—®çš„æ—¶å€™ï¼Œè¯·æ±‚ç»è¿‡ Nginx æœåŠ¡å™¨æ—¶ï¼ŒNginx ç›´æ¥è¿”å›å·²ç»ç¼“å­˜çš„é™æ€é¡µé¢ï¼Œè¿™æ ·å°†å¤§å¤§é™ä½åº”ç”¨æœåŠ¡å™¨ Tomcat çš„è´Ÿè½½ã€‚</p><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¹¶ä¸æ˜¯è¯¥åŸŸåä¸‹çš„æ‰€æœ‰é¡µé¢éƒ½éœ€è¦è¿›è¡Œç¼“å­˜ï¼Œå¦‚æœç¼“å­˜æœ‰è¯¯ï¼Œä¼šå‡ºç°å¾ˆä¸¥é‡çš„é—®é¢˜ã€‚æ¯”å¦‚ä¸æ­£ç¡®çš„å°†åŸŸåä¸‹çš„ç”¨æˆ·ä¸­å¿ƒè¿›è¡Œäº†ç¼“å­˜ï¼Œå½“å…¶ä»–ç”¨æˆ·ä¹Ÿè¿›å…¥é¡µé¢çš„æ—¶å€™ï¼Œæ˜¾ç¤ºçš„å…¨éƒ¨éƒ½æ˜¯ç¬¬ä¸€ä¸ªè¿›å…¥è¯¥é¡µé¢ç”¨æˆ·çš„ä¿¡æ¯ã€‚å› æ­¤å»ºè®®åšç¼“å­˜æ—¶ï¼Œæœ€å¥½æ ¹æ®åŸŸåæ¥åšï¼Œ æ ¹æ®ç”¨æˆ·ä¸åŒæ˜¾ç¤ºä¸åŒçš„é¡µé¢çš„åœ°å€å°±ä¸è¦åšç¼“å­˜ã€‚å½“ç„¶ï¼Œå¦‚æœæ¥å£åœ°å€è§„èŒƒï¼Œäº¦å¯ä»¥é€šè¿‡ Nginx æ­£åˆ™åŒ¹é…è·¯å¾„çš„æ–¹å¼ï¼Œåªå°†æŸäº›åŒ¹é…çš„è·¯å¾„åšç¼“å­˜ã€‚</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡ä»‹ç»åˆ©ç”¨ nginx çš„ nginx_ngx_cache_purge æ¨¡å—æ¥å®ç°ç¼“å­˜åŠŸèƒ½ï¼Œå‰å‡ ç¯‡æ–‡ç« ä»‹ç»äº† Nginx çš„åŠ¨é™åˆ†ç¦»ä»¥åŠ CDN æŠ€æœ¯ï¼Œåœ¨å…¶åŸºç¡€ä¸Šï¼Œå†å¯¹æ•´ä¸ªé¡µé¢è¿›è¡Œç¼“å­˜ï¼Œå°†å¤§å¤§æé«˜æœåŠ¡å™¨çš„è´Ÿè½½èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Nginx" scheme="http://nullpointer.pw/categories/Nginx/"/>
    
    
      <category term="nginx" scheme="http://nullpointer.pw/tags/nginx/"/>
    
      <category term="ç¼“å­˜" scheme="http://nullpointer.pw/tags/%E7%BC%93%E5%AD%98/"/>
    
  </entry>
  
  <entry>
    <title>é˜¿é‡Œäº‘CDNå®ç°ç½‘ç«™æ–‡ä»¶åŠ¨é™åˆ†ç¦»</title>
    <link href="http://nullpointer.pw/%E9%98%BF%E9%87%8C%E4%BA%91CDN%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%AB%99%E6%96%87%E4%BB%B6%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB.html"/>
    <id>http://nullpointer.pw/é˜¿é‡Œäº‘CDNå®ç°ç½‘ç«™æ–‡ä»¶åŠ¨é™åˆ†ç¦».html</id>
    <published>2017-08-19T23:21:04.000Z</published>
    <updated>2017-12-03T10:58:46.334Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ Nginx æ¥å®ç°é™æ€èµ„æºè¯·æ±‚ä¸åŠ¨æ€è¯·æ±‚çš„åˆ†ç¦»ï¼Œè™½ç„¶ä¸æ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½å‹åˆ° Tomcat åº”ç”¨æœåŠ¡å™¨ï¼Œä½†æ˜¯é™æ€èµ„æºè¯·æ±‚è¿˜æ˜¯éƒ½ä¼šåˆ° ä¸»æœºä¸Šç»™ä¸»æœºå¸¦æ¥å‹åŠ›ï¼Œå› æ­¤æœ¬æ–‡é€šè¿‡åˆ©ç”¨é˜¿é‡Œäº‘çš„ CDN æŠ€æœ¯æ¥æ›´åŠ å½»åº•åœ°é™ä½åº”ç”¨è®¿é—®çš„è´Ÿè½½ã€‚</p><a id="more"></a><h2 id="é…ç½®é™æ€èµ„æºåŸŸå"><a href="#é…ç½®é™æ€èµ„æºåŸŸå" class="headerlink" title="é…ç½®é™æ€èµ„æºåŸŸå"></a>é…ç½®é™æ€èµ„æºåŸŸå</h2><p>å»ºç«‹ä¸€ä¸ªåªç”¨äºè¯·æ±‚é™æ€èµ„æºæ–‡ä»¶çš„äºŒçº§åŸŸåï¼Œå°†åŠ¨æ€è¯·æ±‚ä¸é™æ€è¯·æ±‚åˆ†ç¦»å¼€ã€‚</p><p>æ¯”å¦‚é™æ€èµ„æºè¯·æ±‚çš„åŸŸåæ˜¯ <strong>res.domain.com</strong> ï¼Œ åŠ¨æ€è¯·æ±‚çš„åŸŸåæ˜¯ <strong>www.domain.com</strong></p><h2 id="é…ç½®-Nginx-é™æ€èµ„æºè®¾ç½®"><a href="#é…ç½®-Nginx-é™æ€èµ„æºè®¾ç½®" class="headerlink" title="é…ç½® Nginx  é™æ€èµ„æºè®¾ç½®"></a>é…ç½® Nginx  é™æ€èµ„æºè®¾ç½®</h2><p>å‚è€ƒæˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç«  <a href="http://nullpointer.pw/2017/08/19/Nginx%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB/">NginxåŠ¨é™åˆ†ç¦»</a></p><h2 id="é˜¿é‡Œäº‘-CDN-é…ç½®"><a href="#é˜¿é‡Œäº‘-CDN-é…ç½®" class="headerlink" title="é˜¿é‡Œäº‘ CDN é…ç½®"></a>é˜¿é‡Œäº‘ CDN é…ç½®</h2><p>ç™»å½•é˜¿é‡Œäº‘ CDN æ§åˆ¶å°ï¼Œæ·»åŠ åŸŸåã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170820/070050098.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>éœ€è¦æ³¨æ„çš„æ˜¯èµ„æºæ–‡ä»¶åªéœ€è¦æ”¾åˆ°ä¸€å°ä¸»æœºä¸Šå³å¯ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</p><p>æ·»åŠ  CDN åŸŸåæˆåŠŸåï¼Œå›åˆ°åŸŸåç®¡ç†é¡µé¢ï¼Œ åœ¨åŸŸååˆ—è¡¨ä¸­æ‰¾åˆ°æ–°åŠ çš„åŸŸåï¼Œå…‰æ ‡æ‚¬æµ®åˆ°è¯¥åŸŸåä¸Šï¼Œä¼šå‡ºç°ä¸€ä¸ª <strong>å¤åˆ¶ CNAME</strong> çš„æŒ‰é’®ï¼Œé€‰æ‹©å¤åˆ¶ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªç±»ä¼¼äº <strong>res.domain.com.w.kunlunle.com</strong> çš„åŸŸåã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170820/070354748.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h2 id="DNS-é…ç½®"><a href="#DNS-é…ç½®" class="headerlink" title="DNS é…ç½®"></a>DNS é…ç½®</h2><p>è¿›å…¥ä½ çš„åŸŸåçš„ DNS æœåŠ¡æä¾›å•†æ§åˆ¶å°ï¼Œæˆ‘è¿™é‡Œæ˜¯ <a href="https://www.dnspod.cn/" target="_blank" rel="noopener">DNSPOD</a> ï¼Œ æ‰¾åˆ°é™æ€èµ„æºåŸŸåï¼Œæˆ‘çš„æ˜¯ <strong>res.domain.com</strong> ä¿®æ”¹è®°å½•ç±»å‹ä¸º CNAME ï¼Œè®°å½•å€¼ä¿®æ”¹ä¸ºä¸Šä¸€æ­¥å¤åˆ¶çš„ åŸŸåï¼Œå¦‚ <strong>res.domain.com.w.kunlunle.comã€‚</strong></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170820/071213172.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>é€‰æ‹©ä¿å­˜ï¼Œç­‰å¾…å‡ åˆ†é’Ÿ DNS ç”Ÿæ•ˆåï¼Œè®¿é—®åŸŸåè¯•è¯•å§ï¼</p><p>æ¯”å¦‚æˆ‘çš„ <strong>res.domain.com/_res/a.jpg</strong> ï¼ˆéœ€è¦äº‹å…ˆåœ¨èµ„æºæœåŠ¡å™¨ä¸Šäº‹å…ˆæ”¾ç½®è¯¥é™æ€æ–‡ä»¶ï¼‰ å¦‚æœè®¿é—®ä¸åˆ°è¯´æ˜é…ç½®æœ‰è¯¯æˆ–è€…ç¼“å­˜è¿˜æœªç”Ÿæ•ˆã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå‘å°±æ˜¯ï¼Œè‡ªå·±çš„ç”µè„‘æœ‰å¯èƒ½å› ä¸ºç¼“å­˜æ²¡åˆ·æ–°è®¿é—®ä¸åˆ°è¯¥è·¯å¾„é™æ€èµ„æºï¼Œè€Œåˆ«äººçš„ç”µè„‘å¯ä»¥ï¼Œå¯ä»¥æ¢ä¸€å°ç”µè„‘å°è¯•è®¿é—®ï¼Œæˆ–è€…é€šè¿‡æ‰‹æœºæµè§ˆå™¨è®¿é—®å°è¯•ã€‚</p><p>Endã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ Nginx æ¥å®ç°é™æ€èµ„æºè¯·æ±‚ä¸åŠ¨æ€è¯·æ±‚çš„åˆ†ç¦»ï¼Œè™½ç„¶ä¸æ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½å‹åˆ° Tomcat åº”ç”¨æœåŠ¡å™¨ï¼Œä½†æ˜¯é™æ€èµ„æºè¯·æ±‚è¿˜æ˜¯éƒ½ä¼šåˆ° ä¸»æœºä¸Šç»™ä¸»æœºå¸¦æ¥å‹åŠ›ï¼Œå› æ­¤æœ¬æ–‡é€šè¿‡åˆ©ç”¨é˜¿é‡Œäº‘çš„ CDN æŠ€æœ¯æ¥æ›´åŠ å½»åº•åœ°é™ä½åº”ç”¨è®¿é—®çš„è´Ÿè½½ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="é˜¿é‡Œäº‘" scheme="http://nullpointer.pw/categories/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
    
      <category term="åŠ¨é™åˆ†ç¦»" scheme="http://nullpointer.pw/tags/%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB/"/>
    
  </entry>
  
  <entry>
    <title>NginxåŠ¨é™åˆ†ç¦»</title>
    <link href="http://nullpointer.pw/Nginx%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB.html"/>
    <id>http://nullpointer.pw/NginxåŠ¨é™åˆ†ç¦».html</id>
    <published>2017-08-19T09:44:23.000Z</published>
    <updated>2017-12-03T11:02:15.572Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ€æ–°å…¬å¸æ–°å¼€äº†ä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®ç”±æˆ‘æ¥é…ç½®åŸºç¡€ç¯å¢ƒï¼Œä¼šå†™ä¸€ç³»åˆ—çš„æ•™ç¨‹æ¥å±•ç¤ºï¼Œä¸€ä¸ªç½‘ç«™ä»é›¶åˆ°ä¸Šçº¿çš„æ•´ä¸ªè¿‡ç¨‹ã€‚é¦–å…ˆæœ¬æ–‡ä»‹ç»èµ„æºæ–‡ä»¶çš„éš”ç¦»ã€‚  </p><a id="more"></a><h2 id="ä¸ºä»€ä¹ˆè¦å®ç°åŠ¨é™åˆ†ç¦»"><a href="#ä¸ºä»€ä¹ˆè¦å®ç°åŠ¨é™åˆ†ç¦»" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å®ç°åŠ¨é™åˆ†ç¦»"></a>ä¸ºä»€ä¹ˆè¦å®ç°åŠ¨é™åˆ†ç¦»</h2><p>ä¸ºä»€ä¹ˆè¦å°†é™æ€èµ„æºæ–‡ä»¶ä¸åŠ¨æ€è¯·æ±‚è¿›è¡Œåˆ†ç¦»ï¼Ÿ ä¸ºäº†é™ä½ Tomcat æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œå¯ä»¥é€šè¿‡æœ¬æ–‡è®¾ç½®å¹¶ç»“åˆ CDN æ¥å®ç°æ¥æ›´å½»åº•åœ°é™ä½æœåŠ¡å™¨çš„è´Ÿè½½ã€‚  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170819/192205341.png" alt=""></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œæ‰€æœ‰çš„è¯·æ±‚éƒ½å‹åˆ°äº†åŒä¸€å°æœåŠ¡å™¨ä¸Šï¼Œ æ— è®ºé™æ€è¿˜æ˜¯åŠ¨æ€çš„è¯·æ±‚ï¼Œè¿™æ ·æµé‡å¤§çš„è¯åŠ¿å¿…ä¼šé€ æˆæœåŠ¡å™¨çš„è´Ÿè½½è¿‡é«˜ï¼Œå› ä¸ºåŠ¨é™åˆ†ç¦»æ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p><h2 id="ç¯å¢ƒä»‹ç»"><a href="#ç¯å¢ƒä»‹ç»" class="headerlink" title="ç¯å¢ƒä»‹ç»"></a>ç¯å¢ƒä»‹ç»</h2><p>é¦–å…ˆè¿™æ˜¯æˆ‘ä»¬é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œ <strong>resource</strong> ç›®å½•å’Œ <strong>_res</strong> ç›®å½•ä¸­éƒ½æ˜¯é™æ€èµ„æºæ–‡ä»¶ï¼Œå­˜æ”¾æ¯”å¦‚ js/css/img ç­‰èµ„æºã€‚è¿™ä¸¤ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶æœ‰æ‰€ä¸åŒï¼Œ<strong>_res</strong> ç›®å½•ä¸‹é¢æ˜¯å‹ç¼©ç‰ˆæœ¬çš„ï¼Œæ¯”å¦‚å‹ç¼©çš„js/cssã€‚é€šè¿‡ Git æˆ–è€… SVN å°†é¡¹ç›®ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šåï¼Œé…ç½® Nginx æ¥å®Œæˆé™æ€èµ„æºçš„åˆ†ç¦»ã€‚  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170819/131159884.png" alt=""></p><p>é¦–å…ˆçœ‹ä¸€å¼ å›¾(å›¾çš„æ¥æºæ˜¯ï¼š<a href="http://www.cnblogs.com/xiaoblog/p/4241086.html" target="_blank" rel="noopener">http://www.cnblogs.com/xiaoblog/p/4241086.html</a>)  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170819/130334830.png" alt=""></p><p>å½“è¯·æ±‚ç»è¿‡ Nginx æ—¶ï¼Œå¦‚æœæ˜¯é™æ€èµ„æºçš„è¯·æ±‚ï¼Œå°±ç›´æ¥è¿”å›ä¸»æœºä¸Šé™æ€èµ„æºå³å¯ï¼Œ å¦‚æœæ˜¯åŠ¨æ€è¯·æ±‚ï¼Œåˆ™å»è¯·æ±‚ Tomcat æœåŠ¡å™¨åå†è¿”å›ã€‚å¦‚æœæµé‡ä¸æ˜¯å¾ˆå¤§ï¼Œé™æ€èµ„æºå¯ä»¥å’Œ Tomcat æœåŠ¡å™¨æ”¾åœ¨åŒä¸€å°ä¸»æœºä¸Šï¼Œå¦åˆ™éœ€è¦å°†é™æ€èµ„æºä¸ Tomcat æœåŠ¡å™¨åˆ†å¼€ã€‚</p><p>æˆ‘å¸å¯¹äºèµ„æºæ–‡ä»¶çš„åšæ³•æ˜¯æ–°å»ºä¸€ä¸ªäºŒçº§åŸŸåï¼Œè¯¥åŸŸååªç”¨äºåŠ è½½é™æ€èµ„æºæ–‡ä»¶ã€‚å¦‚ <strong>res.domain.com</strong>ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ç®€åŒ–äº†åœ¨ Nginx çš„ é…ç½®ã€‚</p><h2 id="é…ç½®-Nginx"><a href="#é…ç½®-Nginx" class="headerlink" title="é…ç½® Nginx"></a>é…ç½® Nginx</h2><p>é¦–å…ˆéœ€è¦å®‰è£… Nginxï¼Œ å¯ä»¥å‚è€ƒæˆ‘çš„å¦å¤–ä¸€ç¯‡æ–‡ç«  <a href="http://nullpointer.pw/2017/05/05/Nginx%E5%AE%9E%E7%8E%B0Tomcat%E9%9B%86%E7%BE%A4/">Nginxå®ç°Tomcaté›†ç¾¤</a>ã€‚è¿™é‡Œåªéœ€è¦å‚è€ƒåˆ°å®‰è£… Nginx å³å¯ã€‚</p><p>Nginx é™æ€èµ„æºé…ç½®</p><p>æ‰“å¼€ Nginx é…ç½®æ–‡ä»¶</p><p><code>vim /usr/local/nginx/conf/nginx.conf</code></p><p>æ·»åŠ  server</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line"><span class="comment"># åªæ¥æ”¶é™æ€èµ„æºè¯·æ±‚</span></span><br><span class="line">listen       80;</span><br><span class="line">server_name   res.domain.com;</span><br><span class="line">charset utf8;</span><br><span class="line"></span><br><span class="line">default_type            text/plain;</span><br><span class="line">add_header Access-Control-Allow-Origin *;</span><br><span class="line"><span class="comment">#access_log logs/heiyan.image.access.log  click;</span></span><br><span class="line"></span><br><span class="line">location ~* \.(zip|rar|gz|tar.gz|gz|exe)$ &#123;</span><br><span class="line"><span class="built_in">return</span> 500;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location / &#123;</span><br><span class="line"><span class="comment">#èµ„æºæ–‡ä»¶çš„ç›®å½•</span></span><br><span class="line">root /home/resources;</span><br><span class="line">index index.html;</span><br><span class="line"></span><br><span class="line">expires 30d;</span><br><span class="line">default_type      text/plain;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line"><span class="comment"># æ¥æ”¶åŠ¨æ€è¯·æ±‚</span></span><br><span class="line">listen       80;</span><br><span class="line">server_name  www.domain.com;</span><br><span class="line">charset utf8;</span><br><span class="line"></span><br><span class="line">access_log logs/access.log  main;</span><br><span class="line"></span><br><span class="line">location / &#123;</span><br><span class="line">proxy_pass http://127.0.0.1:8080;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‹·è´é¡¹ç›®ä¸­èµ„æºæ–‡ä»¶åˆ°æŒ‡å®šçš„èµ„æºç›®å½•"><a href="#æ‹·è´é¡¹ç›®ä¸­èµ„æºæ–‡ä»¶åˆ°æŒ‡å®šçš„èµ„æºç›®å½•" class="headerlink" title="æ‹·è´é¡¹ç›®ä¸­èµ„æºæ–‡ä»¶åˆ°æŒ‡å®šçš„èµ„æºç›®å½•"></a>æ‹·è´é¡¹ç›®ä¸­èµ„æºæ–‡ä»¶åˆ°æŒ‡å®šçš„èµ„æºç›®å½•</h2><p>åœ¨ Nginx çš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šäº†èµ„æºæ–‡ä»¶çš„ç›®å½•ä¸º <strong>/home/resources</strong> ï¼Œæ‰€ä»¥éœ€è¦å°†èµ„æºæ‹·è´åˆ°è¯¥ç›®å½•ä¸‹ï¼Œè¿›å…¥ä¸Šæ–‡ä¸‹è½½çš„é¡¹ç›®çš„ç›®å½•ä¸­ï¼Œå°†èµ„æºç›®å½•ï¼ˆæˆ‘è¿™é‡Œæ˜¯<strong>_res</strong>ç›®å½•)æ‹·è´åˆ° <strong>/home/resources</strong>ç›®å½•ä¸‹é¢ã€‚</p><p><code>cp -rf _res /home/resources</code></p><p>æ‹·è´å®Œæˆåçš„ç›®å½•åº”è¯¥æ˜¯ï¼š <code>/home/resources/_res</code></p><p>åœ¨ <strong>/home/resources/_res</strong> ç›®å½•ä¸‹æ”¾ä¸€å¼ å›¾ç‰‡ a.jpg ï¼Œç”¨äºæµ‹è¯•ã€‚</p><h2 id="æµ‹è¯•é™æ€èµ„æºè·å–"><a href="#æµ‹è¯•é™æ€èµ„æºè·å–" class="headerlink" title="æµ‹è¯•é™æ€èµ„æºè·å–"></a>æµ‹è¯•é™æ€èµ„æºè·å–</h2><p>å¯åŠ¨ Nginx</p><p>æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š <code>http://res.domain.com/_res/a.jpg</code></p><p>å¦‚æœæ˜¯åŠ¨æ€è¯·æ±‚ï¼Œåˆ™ä½¿ç”¨ <code>http://www.domain.com</code> åŸŸå</p><p>è¿”å›ç»“æœï¼š  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170819/174007494.png" alt=""></p><p>å› ä¸ºé™æ€èµ„æºæ–‡ä»¶åŒ…å« css/js ç­‰æ–‡ä»¶ï¼Œä¿®æ”¹æäº¤åéœ€è¦æ‹·è´å¢é‡ä¸ä¿®æ”¹çš„æ–‡ä»¶åˆ° <strong>/home/resources</strong> ç›®å½•ä¸‹ï¼Œå¦‚æœå«Œéº»çƒ¦ï¼Œå¯ä»¥ç›´æ¥åœ¨ Nginx é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½® è·¯å¾„ä¸ºé¡¹ç›®çš„èµ„æºæ–‡ä»¶å¤¹æ ¹è·¯å¾„ï¼Œæ¯”å¦‚ <strong>/home/wide-api/src/main/java/resources/_res</strong>ï¼Œ è¿™ç§åœ¨æ›´æ–°ä»£ç ä¹‹åï¼Œå¯ä»¥ç›´æ¥è¯·æ±‚åˆ°æ–°çš„èµ„æºæ–‡ä»¶ã€‚ä¹‹åä¼šå†™ä¸€ç¯‡é€šè¿‡é˜¿é‡Œäº‘CDNæ¥å®Œæˆé™æ€åˆ†ç¦»ã€‚</p><p>æ³¨ï¼š ç”±äºæˆ‘çš„æ˜¯åœ¨è™šæ‹Ÿæœºä¸Šçš„ Nginx è¿›è¡Œæµ‹è¯•ï¼Œä¹Ÿæ²¡æœ‰åŸŸåï¼Œä¸”æ˜¯minimalç‰ˆæœ¬ç³»ç»Ÿï¼Œæ²¡æœ‰æ¡Œé¢ç¯å¢ƒï¼Œæ‰€ä»¥éœ€è¦é…ç½®å®¿ä¸»æœºçš„hostsï¼Œ åœ¨å®¿ä¸»æœºçš„æµè§ˆå™¨ä¸­è®¿é—®ã€‚åœ¨çœŸå®æœåŠ¡å™¨ä¸”æœ‰è‡ªå·±ç»‘å®šåˆ°æœåŠ¡å™¨ä¸ŠåŸŸåçš„å°±ç›´æ¥æµ‹è¯•å³å¯ã€‚</p><p>ä½¿ç”¨ <em>SwitchHosts</em> è½¯ä»¶ é…ç½® hostsï¼Œæˆ‘çš„è™šæ‹Ÿæœº ip ä¸º192.168.200.129</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.200.129 www.domain.com res.domain.com</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;æœ€æ–°å…¬å¸æ–°å¼€äº†ä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®ç”±æˆ‘æ¥é…ç½®åŸºç¡€ç¯å¢ƒï¼Œä¼šå†™ä¸€ç³»åˆ—çš„æ•™ç¨‹æ¥å±•ç¤ºï¼Œä¸€ä¸ªç½‘ç«™ä»é›¶åˆ°ä¸Šçº¿çš„æ•´ä¸ªè¿‡ç¨‹ã€‚é¦–å…ˆæœ¬æ–‡ä»‹ç»èµ„æºæ–‡ä»¶çš„éš”ç¦»ã€‚  &lt;/p&gt;
    
    </summary>
    
      <category term="Nginx" scheme="http://nullpointer.pw/categories/Nginx/"/>
    
    
      <category term="nginx" scheme="http://nullpointer.pw/tags/nginx/"/>
    
      <category term="åŠ¨é™åˆ†ç¦»" scheme="http://nullpointer.pw/tags/%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB/"/>
    
  </entry>
  
  <entry>
    <title>CentOSå¿«é€Ÿå®‰è£…</title>
    <link href="http://nullpointer.pw/CentOS%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85.html"/>
    <id>http://nullpointer.pw/CentOSå¿«é€Ÿå®‰è£….html</id>
    <published>2017-08-18T23:40:27.000Z</published>
    <updated>2017-12-03T11:00:22.919Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ€è¿‘å­¦ä¹ è¿‡ç¨‹ä¸­éœ€è¦ä½¿ç”¨åˆ° Linux ç³»ç»Ÿï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æœåŠ¡å™¨ï¼Œå› æ­¤é€šè¿‡è™šæ‹Ÿæœºæ¥å®Œæˆã€‚æœ¬æ–‡ä¸ä»å¤´å¼€å§‹ä»‹ç»è™šæ‹Ÿæœºçš„å®‰è£…ï¼Œåªè®²è§£ <strong>è™šæ‹Ÿæœºè‡ªåˆ¶é•œåƒ</strong> å¤‡ä»½çš„å¿«é€Ÿè¿˜åŸï¼Œå¦‚æœä½ éœ€è¦ä»å¤´å¼€å§‹å®‰è£…çš„ï¼Œè¯·å¦å¯»æ•™ç¨‹ã€‚<strong>æœ¬æ–‡ä¸­æ¶‰åŠçš„é•œåƒä¼šæä¾›ä¸‹è½½åœ°å€ï¼Œä»¥ä¾›å‚è€ƒ</strong>ã€‚</p><p>å­¦ä¹ è¿‡ç¨‹ä¸­å®‰è£…è™šæ‹Ÿæœºæ—¶æ€»æ˜¯ä¼šé‡åˆ°ä¸€äº›éœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´æ‰èƒ½è§£å†³çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸èƒ½è”ç½‘ã€æ•°æ®åº“è¿æ¥ä¸ä¸Šã€ssh è¿æ¥ä¸äº†ç­‰é—®é¢˜ï¼Œä¸ºäº†ä¾¿äºå­¦ä¹ ï¼Œæœ¬äººå°†å®‰è£…å¥½çš„ç³»ç»Ÿå¯¼å‡ºä¸ºé•œåƒæ–‡ä»¶ï¼Œä»¥åå¦‚æœéœ€è¦æ·»åŠ è™šæ‹Ÿæœºæ—¶ï¼Œç›´æ¥è¿˜åŸé•œåƒä¿®æ”¹éƒ¨åˆ†é…ç½®å³å¯ï¼Œä»¥ä¸‹ä¸ºæ•™ç¨‹ã€‚</p><a id="more"></a><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ul><li>è™šæ‹Ÿæœºè½¯ä»¶ VMwareÂ® Workstation 11</li><li>ç³»ç»Ÿé•œåƒç‰ˆæœ¬ CentOS 6.8 minimal (å‘½ä»¤è¡Œç‰ˆæœ¬ï¼Œæ— æ¡Œé¢)  </li><li>è‡ªå®šä¹‰é•œåƒä»¥åŠVMwareä¸‹è½½   é“¾æ¥ï¼š<a href="http://pan.baidu.com/s/1nuKxhpf" target="_blank" rel="noopener">http://pan.baidu.com/s/1nuKxhpf</a> å¯†ç ï¼š8dt8<br>è‹¥é“¾æ¥å¤±æ•ˆï¼Œå‘é‚®ä»¶ç»™æˆ‘è¡¥é“¾æ¥ <a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=JVNGSFRlQ0pdSERMSQtGSkg" target="_blank" rel="noopener">è”ç³»æˆ‘</a></li></ul><h2 id="VMware-é…ç½®"><a href="#VMware-é…ç½®" class="headerlink" title="VMware é…ç½®"></a>VMware é…ç½®</h2><p>éœ€è¦å®‰è£…çš„è™šæ‹Ÿæœºé‡‡å– NAT æ–¹å¼è”ç½‘ï¼Œå› æ­¤ éœ€è¦åœ¨ VMware ä¸­é…ç½®ç½‘å…³åœ°å€ã€‚  </p><p>æ‰“å¼€è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ï¼Œè®¾ç½®å­ç½‘ IP</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170819/070316487.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>ç‚¹å‡» NAT è®¾ç½®ï¼Œè®¾ç½®ç½‘å…³åœ°å€IP ï¼ˆç½‘å…³ç›¸å½“äºä¸€ä¸ªè·¯ç”±å™¨ï¼‰ï¼Œæ³¨æ„ç½‘å…³ IP è¦å’Œå­ç½‘ IP å¤„äºåŒä¸€ä¸ªç½‘æ®µã€‚å¦‚192.168.200.x    </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170819/070502251.png" alt=""></p><h2 id="å¯¼å…¥é•œåƒæ–‡ä»¶"><a href="#å¯¼å…¥é•œåƒæ–‡ä»¶" class="headerlink" title="å¯¼å…¥é•œåƒæ–‡ä»¶"></a>å¯¼å…¥é•œåƒæ–‡ä»¶</h2><p>ä¾æ¬¡é€‰æ‹©èœå•ï¼Œ æ–‡ä»¶â€“&gt;æ‰“å¼€â€“&gt; æ‰¾åˆ°ä¸‹è½½é•œåƒè§£å‹çš„æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©192.168.200.129.ovf æ–‡ä»¶  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170819/071206741.png" alt=""></p><p>è®¾ç½®è™šæ‹Ÿæœºåç§°å’Œè™šæ‹Ÿæœºä¿å­˜è·¯å¾„ï¼Œé€‰æ‹©å¯¼å…¥ã€‚</p><p>ç¨ç­‰ä¸€ä¼šå„¿å¯¼å…¥æˆåŠŸåï¼Œå¼€å¯è™šæ‹Ÿæœºã€‚</p><h2 id="è™šæ‹Ÿæœºç½‘ç»œé…ç½®"><a href="#è™šæ‹Ÿæœºç½‘ç»œé…ç½®" class="headerlink" title="è™šæ‹Ÿæœºç½‘ç»œé…ç½®"></a>è™šæ‹Ÿæœºç½‘ç»œé…ç½®</h2><p>ç™»å½•è´¦å·ï¼šroot   å¯†ç ï¼š123456</p><p>åˆšå®‰è£…å®Œæ˜¯æ— æ³• ping é€šå¤–ç½‘çš„ï¼Œéœ€è¦ä¿®æ”¹ç½‘ç»œé…ç½®ï¼Œ å½“å‰é•œåƒå·²ç»è®¾ç½®äº†é™æ€ ipï¼Œä¾¿äºä½¿ç”¨ã€‚</p><ol><li>ä¿®æ”¹ 70-persistent-net.rules æ–‡ä»¶  </li></ol><p><code>vi /etc/udev/rules.d/70-persistent-net.rules</code></p><p>æ³¨é‡Šæ‰ eth0 æ‰€åœ¨è¡Œï¼Œç»“æœåº”è¯¥ä¸ºï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> PCI device 0x8086:0x100f (e1000)</span><br><span class="line"><span class="meta">#</span>SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR&#123;address&#125;=="00:0c:29:30:a4:b5", ATTR&#123;type&#125;=="1", KERNEL=="eth*", NAME="eth0"</span><br><span class="line"><span class="meta">#</span> PCI device 0x8086:0x100f (e1000)</span><br><span class="line">SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR&#123;address&#125;=="00:0c:29:cd:05:ea", ATTR&#123;type&#125;=="1", KERNEL=="eth*", NAME="eth1"</span><br></pre></td></tr></table></figure></p><ol><li>ä¿®æ”¹ç½‘ç»œé…ç½®æ–‡ä»¶ï¼Œè®¾ç½®é™æ€IPåœ°å€å’Œç½‘å…³åœ°å€<br><code>vi /etc/sysconfig/network-scripts/ifcfg-eth0</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">DEVICE=eth1 # ä¿®æ”¹eth0 ä¸ºeth1</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">ONBOOT=yes</span><br><span class="line">NM_CONTROLLED=yes</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">IPADDR=192.168.200.132  # ä¿®æ”¹ä¸ºæƒ³è¦çš„é™æ€ipåœ°å€ï¼Œ å¦‚æœç½‘å…³åœ°å€ä¸º192.168.100.2  åˆ™ipåœ°å€ä¸º 192.168.100.x  xä¸º1-254ï¼Œä¸”ä¸ä¸ç½‘å…³åœ°å€é‡å¤</span><br><span class="line">GATEWAY=192.168.200.2   # ä¿®æ”¹ä¸ºä½ è™šæ‹Ÿæœºçš„ç½‘å…³åœ°å€ IP</span><br><span class="line">NAME="System eth0"</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">DNS1=8.8.8.8</span><br><span class="line">DNS2=4.4.4.4</span><br></pre></td></tr></table></figure><ol><li><p>é‡å¯è™šæ‹Ÿæœº  <strong>reboot</strong> è¿™æ˜¯å¿…é¡»çš„æ­¥éª¤ï¼</p></li><li><p>æ£€éªŒæ˜¯å¦ä¿®æ”¹ç”Ÿæ•ˆ</p><p>é‡å¯ç™»å½•æˆåŠŸåï¼Œ è¾“å…¥ <strong>ip addr</strong>ï¼Œ å¦‚æœä½ æ˜¾ç¤ºçš„å’Œæˆ‘ä¸€è‡´ï¼Œåˆ™æ˜¯æ­£ç¡®çš„ã€‚</p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170819/072943215.png" alt=""></p></li></ol><p>å¦‚æœä½ çš„å‡ºç°äº†ä¸¤æ¡ inetï¼Œ è¯´æ˜ç¬¬ 1 æ­¥ï¼Œ å’Œç¬¬ 2 æ­¥æ²¡æœ‰é…ç½®æ­£ç¡®ã€‚æ­¤æ—¶ <strong>ping</strong> ä¸€ä¸‹ç™¾åº¦ï¼Œå‘ç°å·²ç»å¯ä»¥ ping é€šäº†ã€‚  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170819/073150774.png" alt=""></p><p>è‡³æ­¤ï¼Œè™šæ‹Ÿæœºå·²ç»é…ç½®å¥½äº†ã€‚å¯ä»¥é€šè¿‡ SSH è½¯ä»¶è¿›è¡Œè¿æ¥äº†ã€‚</p><p>å»ºè®®ï¼šè™šæ‹Ÿæœºå®‰è£…å®Œæˆåï¼Œå¯¹å…¶è¿›è¡Œå¿«ç…§ï¼Œé˜²æ­¢å¼„åäº†è¿˜éœ€è¦é‡æ–°å®‰è£…ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170819/073454049.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>åœ¨å¿«ç…§ç®¡ç†å™¨ä¸­ï¼Œå¯ä»¥é€‰æ‹©ä¿å­˜çš„å¿«ç…§ï¼Œè¿˜åŸåˆ°å¿«ç…§æ—¶çš„ç³»ç»Ÿã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;æœ€è¿‘å­¦ä¹ è¿‡ç¨‹ä¸­éœ€è¦ä½¿ç”¨åˆ° Linux ç³»ç»Ÿï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æœåŠ¡å™¨ï¼Œå› æ­¤é€šè¿‡è™šæ‹Ÿæœºæ¥å®Œæˆã€‚æœ¬æ–‡ä¸ä»å¤´å¼€å§‹ä»‹ç»è™šæ‹Ÿæœºçš„å®‰è£…ï¼Œåªè®²è§£ &lt;strong&gt;è™šæ‹Ÿæœºè‡ªåˆ¶é•œåƒ&lt;/strong&gt; å¤‡ä»½çš„å¿«é€Ÿè¿˜åŸï¼Œå¦‚æœä½ éœ€è¦ä»å¤´å¼€å§‹å®‰è£…çš„ï¼Œè¯·å¦å¯»æ•™ç¨‹ã€‚&lt;strong&gt;æœ¬æ–‡ä¸­æ¶‰åŠçš„é•œåƒä¼šæä¾›ä¸‹è½½åœ°å€ï¼Œä»¥ä¾›å‚è€ƒ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å­¦ä¹ è¿‡ç¨‹ä¸­å®‰è£…è™šæ‹Ÿæœºæ—¶æ€»æ˜¯ä¼šé‡åˆ°ä¸€äº›éœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´æ‰èƒ½è§£å†³çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸èƒ½è”ç½‘ã€æ•°æ®åº“è¿æ¥ä¸ä¸Šã€ssh è¿æ¥ä¸äº†ç­‰é—®é¢˜ï¼Œä¸ºäº†ä¾¿äºå­¦ä¹ ï¼Œæœ¬äººå°†å®‰è£…å¥½çš„ç³»ç»Ÿå¯¼å‡ºä¸ºé•œåƒæ–‡ä»¶ï¼Œä»¥åå¦‚æœéœ€è¦æ·»åŠ è™šæ‹Ÿæœºæ—¶ï¼Œç›´æ¥è¿˜åŸé•œåƒä¿®æ”¹éƒ¨åˆ†é…ç½®å³å¯ï¼Œä»¥ä¸‹ä¸ºæ•™ç¨‹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æœåŠ¡å™¨" scheme="http://nullpointer.pw/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="centos" scheme="http://nullpointer.pw/tags/centos/"/>
    
      <category term="è™šæ‹Ÿæœº" scheme="http://nullpointer.pw/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>Javaä¹‹wordå¯¼å‡ºä¸‹è½½</title>
    <link href="http://nullpointer.pw/Java%E4%B9%8Bword%E5%AF%BC%E5%87%BA%E4%B8%8B%E8%BD%BD.html"/>
    <id>http://nullpointer.pw/Javaä¹‹wordå¯¼å‡ºä¸‹è½½.html</id>
    <published>2017-07-27T14:12:07.000Z</published>
    <updated>2017-12-11T13:13:58.035Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘é‡åˆ°é¡¹ç›®éœ€æ±‚éœ€è¦å°†æ•°æ®åº“ä¸­çš„éƒ¨åˆ†æ•°æ®å¯¼å‡ºåˆ° word ä¸­ï¼Œå…·ä½“æ˜¯åœ¨ä¸€ä¸ªæ–°é—»åˆ—è¡¨ä¸­å°†é€‰ä¸­çš„æ–°é—»å¯¼å‡ºåˆ°ä¸€ä¸ª word ä¸­ã€‚å‚è€ƒäº†ç½‘ä¸Šä¸€äº›æ•™ç¨‹ï¼Œå®ç°äº†è¯¥åŠŸèƒ½ï¼Œåœ¨æ­¤è®°å½•ä¸‹æ¥ã€‚</p><a id="more"></a><p>å¯¼å‡ºç»“æœå¦‚ä¸‹ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170726/222116065.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>å›¾ä¸­ä¸ºå¯¼å‡ºçš„å…¶ä¸­ä¸¤æ¡æ–°é—»ã€‚</p><p>æœç´¢ç½‘ä¸Šå¯¼å‡º word çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œä½†æ˜¯å¾ˆå¤šéƒ½æ˜¯ä¸€ç¬”å¸¦è¿‡ï¼Œæœ‰ç¤ºä¾‹ä»£ç çš„åªæ‰¾åˆ°äº† POI å¯¼å‡ºï¼Œå’Œé€šè¿‡ FreeMarker æ–¹å¼å¯¼å‡ºï¼Œä½†æ˜¯åªæ˜¯å…·æœ‰å‚è€ƒæ„ä¹‰ã€‚æœ¬æ–‡é‡‡å–ä½¿ç”¨ FreeMark æ–¹å¼ã€‚</p><h2 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h2><ol><li><p>Maven å·¥ç¨‹å¼•å…¥FreeMarker çš„ä¾èµ–ï¼Œé Maven å·¥ç¨‹æ·»åŠ  jar åŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.freemarker<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.26-incubating<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»º word æ¨¡æ¿</p><ol><li><p>æ–°å»º word æ›¿æ¢å†…å®¹ä¸ºå ä½ç¬¦  </p><p> <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170726/223450741.png" alt=""></p></li><li><p>å¦å­˜æ¨¡æ¿ä¸º XML æ–‡ä»¶  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170726/223613199.png" alt=""></p></li><li><p>ä½¿ç”¨ NotePad++ æ‰“å¼€ xml æ–‡ä»¶</p></li><li><p>é€‰ä¸­å…¨éƒ¨å†…å®¹ï¼Œåˆ°<a href="http://tool.oschina.net/codeformat/xml" target="_blank" rel="noopener">è¿™é‡Œ</a>è¿›è¡Œæ ¼å¼åŒ–</p></li><li><p>å°†åŸå†…å®¹æ›¿æ¢ä¸ºæ ¼å¼åŒ–åçš„å†…å®¹</p></li><li><p>å› ä¸ºæˆ‘çš„ word çš„å†…å®¹æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ ä¸€ä¸ª freemarer æ ‡ç­¾æ ‡è¯†</p></li><li><p>æ‰¾åˆ°<code>&lt;w:document&gt;</code> å…ƒç´ ä¸‹é¢çš„ <code>&lt;w:body&gt;</code> å…ƒç´ ï¼Œæ·»åŠ <code>&lt;#list newsList news&gt;</code> ï¼Œ å¹¶åœ¨<code>&lt;/w:body&gt;</code>ç»“æŸæ ‡ç­¾ä¹‹å‰é—­åˆ <code>&lt;/#list&gt;</code>ï¼Œ æ­¤å¤„çš„ <strong>newsList</strong> ä¸ºåå°è¯»å–æ¨¡æ¿æ—¶éœ€è¦éœ€è¦æ¸²æŸ“æ•°æ®mapé›†åˆçš„keyï¼Œ å…¶æ‰€å¯¹åº”çš„æ˜¯ä¸€ä¸ªlisté›†åˆã€‚  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170726/224610046.png" alt=""></p></li><li><p>æ›¿æ¢æ¨¡æ¿ä¸­çš„å ä½ç¬¦ <code>&lt;w:t&gt;${news.title}&lt;/w:t&gt;</code> ä¸ <code>&lt;w:t&gt;${news.content}&lt;/w:t&gt;</code> ä¸ºéå†é›†åˆçš„å€¼ï¼Œè¿™é‡Œçš„ FreeMarker è¯­æ³•å¯ä»¥å‚è€ƒç½‘ä¸Šçš„æ•™ç¨‹ã€‚</p></li><li><p>ä¿å­˜ä¸º FreeMarker çš„æ¨¡æ¿æ–‡ä»¶ï¼Œåç¼€ä¸º ftl æ ¼å¼ï¼Œæ‹·è´åˆ°é¡¹ç›®ä¸­  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170726/224037421.png" alt=""></p></li></ol></li><li><p>ç¼–å†™ä»£ç </p><ol><li><p>ä»æ•°æ®ä¸­æŸ¥è¯¢æ•°æ®é›†åˆæ”¾å…¥Mapä¸­ï¼Œ è°ƒç”¨å·¥å…·æ–¹æ³•ï¼Œè¿”å›æµ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; root = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">root.put(<span class="string">"newsList"</span>, newsList);<span class="comment">//newsListä¸ºæ–°é—»å¯¹è±¡é›†åˆ</span></span><br><span class="line">String template = <span class="string">"/temp.ftl"</span>;  <span class="comment">//æ¨¡æ¿æ–‡ä»¶çš„åœ°å€</span></span><br><span class="line">ByteArrayOutputStream outputStream = WordUtil.process(root, template);</span><br><span class="line"><span class="keyword">return</span> outputStream;</span><br></pre></td></tr></table></figure></li><li><p>è°ƒç”¨ä¸‹è½½å·¥å…·ç±»è¿›è¡Œä¸‹è½½å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DownloadUtil.download(byteArrayOutputStream, response, returnname);</span><br></pre></td></tr></table></figure></li></ol><p>æ³¨ï¼šåœ¨å®ç°åŠŸèƒ½çš„æ—¶å€™ï¼Œç”±äºé‡‡å–çš„æ˜¯ ajax è¯·æ±‚æ–¹å¼ï¼Œå¯¼è‡´åªæ˜¯å°†æµå†™å…¥ Response æ—¶ï¼Œ Response ä¸º xml æ ¼å¼çš„æ•°æ®ã€‚ä½†æ˜¯æƒ³è¦å®ç°çš„æ•ˆæœæ˜¯å¼¹å‡ºä¸‹è½½æ¡†ï¼Œä¸‹è½½ word æ–‡æ¡£ã€‚æœ€åæŸ¥è¯¢èµ„æ–™ï¼Œä¿®æ”¹ajaxè¯·æ±‚ä¸ºformè¡¨å•æäº¤æ–¹å¼(ajax form)ï¼Œæ‰å¼¹å‡ºä¸‹è½½æ¡†å®ç°äº†åŠŸèƒ½ã€‚</p></li></ol><h2 id="æ–‡ç« æ¶‰åŠå·¥å…·ç±»"><a href="#æ–‡ç« æ¶‰åŠå·¥å…·ç±»" class="headerlink" title="æ–‡ç« æ¶‰åŠå·¥å…·ç±»"></a>æ–‡ç« æ¶‰åŠå·¥å…·ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//WordUtil.java</span></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.Writer;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> freemarker.template.Configuration;</span><br><span class="line"><span class="keyword">import</span> freemarker.template.Template;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">WordUtil</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> Configuration configuration = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">WordUtil</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> AssertionError();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * æ ¹æ®æ¨¡æ¿ç”Ÿæˆç›¸åº”çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> root ä¿å­˜æ•°æ®çš„map</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> template æ¨¡æ¿æ–‡ä»¶çš„åœ°å€</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> path ç”Ÿæˆçš„wordæ–‡æ¡£è¾“å‡ºåœ°å€</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> ByteArrayOutputStream <span class="title">process</span><span class="params">(Map&lt;?, ?&gt; root, String template)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">null</span> == root ) &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"æ•°æ®ä¸èƒ½ä¸ºç©º"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">null</span> == template) &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"æ¨¡æ¿æ–‡ä»¶ä¸èƒ½ä¸ºç©º"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ByteArrayOutputStream outputStream = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">String templatePath = template.substring(<span class="number">0</span>, template.lastIndexOf(<span class="string">"/"</span>));</span><br><span class="line">String templateName = template.substring(template.lastIndexOf(<span class="string">"/"</span>) + <span class="number">1</span>, template.length());</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">null</span> == configuration) &#123;</span><br><span class="line">  configuration = <span class="keyword">new</span> Configuration(Configuration.VERSION_2_3_23);  <span class="comment">// è¿™é‡ŒConfigurantionå¯¹è±¡ä¸èƒ½æœ‰ä¸¤ä¸ªï¼Œå¦åˆ™å¤šçº¿ç¨‹è®¿é—®ä¼šæŠ¥é”™</span></span><br><span class="line">  configuration.setDefaultEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">  configuration.setClassicCompatible(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line">configuration.setClassForTemplateLoading(WordUtil.class, templatePath);</span><br><span class="line"></span><br><span class="line">Template t = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  t = configuration.getTemplate(templateName);</span><br><span class="line">  Writer w = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(outputStream, <span class="string">"utf-8"</span>));</span><br><span class="line">  t.process(root, w);  <span class="comment">// è¿™é‡Œwæ˜¯ä¸€ä¸ªè¾“å‡ºåœ°å€ï¼Œå¯ä»¥è¾“å‡ºåˆ°ä»»ä½•ä½ç½®ï¼Œå¦‚æ§åˆ¶å°ï¼Œç½‘é¡µç­‰</span></span><br><span class="line">  w.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> outputStream;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//DownloadUtil.java</span></span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletOutputStream;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DownloadUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> byteArrayOutputStream å°†æ–‡ä»¶å†…å®¹å†™å…¥ByteArrayOutputStream</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> response HttpServletResponseå†™å…¥response</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> returnName è¿”å›çš„æ–‡ä»¶å</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">download</span><span class="params">(ByteArrayOutputStream byteArrayOutputStream, HttpServletResponse response, String returnName)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">  response.setContentType(<span class="string">"application/msword"</span>);</span><br><span class="line">  response.setHeader(<span class="string">"Content-Disposition"</span>, <span class="string">"attachment; filename="</span> + returnName);</span><br><span class="line">  response.setContentLength(byteArrayOutputStream.size());</span><br><span class="line">  OutputStream outputstream = response.getOutputStream();<span class="comment">//å–å¾—è¾“å‡ºæµ</span></span><br><span class="line">  byteArrayOutputStream.writeTo(outputstream);<span class="comment">//å†™åˆ°è¾“å‡ºæµ</span></span><br><span class="line">  byteArrayOutputStream.close();<span class="comment">//å…³é—­</span></span><br><span class="line">  outputstream.flush();<span class="comment">//åˆ·æ•°æ®</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æºç ä¸‹è½½"><a href="#æºç ä¸‹è½½" class="headerlink" title="æºç ä¸‹è½½"></a>æºç ä¸‹è½½</h2><p><a href="http://ojt4b2cr5.bkt.clouddn.com/wordDemo.zip" target="_blank" rel="noopener">ç‚¹æˆ‘ä¸‹è½½</a></p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="http://itindex.net/detail/55080-springboot-freemarker-%E6%A0%BC%E5%BC%8F" target="_blank" rel="noopener">http://itindex.net/detail/55080-springboot-freemarker-%E6%A0%BC%E5%BC%8F</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘é‡åˆ°é¡¹ç›®éœ€æ±‚éœ€è¦å°†æ•°æ®åº“ä¸­çš„éƒ¨åˆ†æ•°æ®å¯¼å‡ºåˆ° word ä¸­ï¼Œå…·ä½“æ˜¯åœ¨ä¸€ä¸ªæ–°é—»åˆ—è¡¨ä¸­å°†é€‰ä¸­çš„æ–°é—»å¯¼å‡ºåˆ°ä¸€ä¸ª word ä¸­ã€‚å‚è€ƒäº†ç½‘ä¸Šä¸€äº›æ•™ç¨‹ï¼Œå®ç°äº†è¯¥åŠŸèƒ½ï¼Œåœ¨æ­¤è®°å½•ä¸‹æ¥ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="word" scheme="http://nullpointer.pw/tags/word/"/>
    
      <category term="freemarker" scheme="http://nullpointer.pw/tags/freemarker/"/>
    
  </entry>
  
  <entry>
    <title>Javaé…ç½®åˆ†ç¦»ä¹‹Springè¿œç¨‹é…ç½®</title>
    <link href="http://nullpointer.pw/Java%E9%85%8D%E7%BD%AE%E5%88%86%E7%A6%BB%E4%B9%8B%E8%BF%9C%E7%A8%8B%E9%85%8D%E7%BD%AE.html"/>
    <id>http://nullpointer.pw/Javaé…ç½®åˆ†ç¦»ä¹‹è¿œç¨‹é…ç½®.html</id>
    <published>2017-07-16T01:14:30.000Z</published>
    <updated>2017-07-16T01:18:23.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é›†ç¾¤åº”ç”¨çš„é…ç½®æ–‡ä»¶å¦‚æœå†™åœ¨é¡¹ç›®çš„ <strong>resources</strong> ç›®å½•ä¸‹é¢ï¼Œå½“é‡åˆ°éœ€è¦ä¿®æ”¹æŸä¸€ä¸ªé…ç½®å€¼æ—¶ï¼Œéœ€è¦å°†é›†ç¾¤çš„æ‰€æœ‰åº”ç”¨çš„é…ç½®ä¿¡æ¯è¿›è¡Œä¿®æ”¹ï¼Œå¹¶ä¸”å°†æœºå¯†çš„é…ç½®ä¿¡æ¯æ¯”å¦‚æ•°æ®åº“è´¦å·å¯†ç å¦‚æœä¸è¿›è¡ŒåŠ å¯†é…ç½®åœ¨é¡¹ç›®ä¸­å¾ˆå±é™©ï¼Œä¸€æ—¦å‘ç”Ÿä»£ç æ³„éœ²é—®é¢˜ï¼Œåæœå¾ˆä¸¥é‡ã€‚</p><p>ä¸ºäº†é¿å…ä¸Šè¿°æƒ…å†µå‘ç”Ÿï¼Œå°†é…ç½®ä¿¡æ¯å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥ã€ç”¨æˆ·åã€ä»¥åŠå¯†ç ï¼Œé€šè¿‡ Config é¡¹ç›®çš„ä¸€ä¸ª<strong>æ¥å£</strong>æä¾›è·å–é…ç½®ä¿¡æ¯ã€‚Config é¡¹ç›®åªç”¨äºè¯»å–é…ç½®ä¿¡æ¯ã€‚</p><a id="more"></a><h2 id="è¿œç¨‹é…ç½®"><a href="#è¿œç¨‹é…ç½®" class="headerlink" title="è¿œç¨‹é…ç½®"></a>è¿œç¨‹é…ç½®</h2><p>ä¸€ï¼‰æ–°å»ºç±» <strong>RemoteProperties</strong>   </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONArray;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONObject;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RemoteProperties</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span>, <span class="title">FactoryBean</span>&lt;<span class="title">Properties</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String url = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Properties <span class="title">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> properties;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">        <span class="keyword">return</span> properties.getClass();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        loadProperty();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUrl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> url;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUrl</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.url = url;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">loadProperty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (StringUtil.strIsNull(url)) <span class="keyword">return</span>;</span><br><span class="line">        String content = HttpClientUtil.urlGet(url);</span><br><span class="line"></span><br><span class="line">        JSONObject object = JSONObject.parseObject(content);</span><br><span class="line">        JSONArray data = object.getJSONArray(<span class="string">"datasource"</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object obj : data) &#123;</span><br><span class="line">            JSONObject jsonObject = (JSONObject) obj;</span><br><span class="line">            String key = obj.getString(<span class="string">"key"</span>);</span><br><span class="line">            String value = obj.getString(<span class="string">"value"</span>);</span><br><span class="line">            properties.put(key, value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤ç±»ç”¨äºå‘é€è¯·æ±‚è·å–é…ç½®ä¿¡æ¯ï¼Œè¯·æ±‚è¿”å›æ ¼å¼ä¸º JSON çš„é…ç½®ä¿¡æ¯, å¦‚ï¼š<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"datasource"</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"value"</span>:<span class="string">"com.mysql.jdbc.Driver"</span>,</span><br><span class="line">            <span class="attr">"key"</span>:<span class="string">"jdbc.driver"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"value"</span>:<span class="string">"jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8"</span>,</span><br><span class="line">            <span class="attr">"key"</span>:<span class="string">"jdbc.url"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"value"</span>:<span class="string">"root"</span>,</span><br><span class="line">            <span class="attr">"key"</span>:<span class="string">"jdbc.username"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"value"</span>:<span class="string">"root"</span>,</span><br><span class="line">            <span class="attr">"key"</span>:<span class="string">"jdbc.password"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>äºŒï¼‰ç¼–å†™ Spring é…ç½®æ–‡ä»¶<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:dubbo</span>=<span class="string">"http://code.alibabatech.com/schema/dubbo"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span> <span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">            http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"propertyConfigurerUserServer"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"properties"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"remoteProperties"</span> <span class="attr">class</span>=<span class="string">"com.craft.partner.server.util.RemoteProperties"</span>    </span></span><br><span class="line"><span class="tag"><span class="attr">p:url</span>=<span class="string">"http://api.xxx.com/config"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¿œç¨‹é…ç½®æä¾›æ¥å£--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--è¿˜å¯ä»¥åŠ è½½æœ¬åœ°çš„propertiesæ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"locations"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>classpath:configure.properties<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span> <span class="attr">destroy-method</span>=<span class="string">"close"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">p:driverClass</span>=<span class="string">"$&#123;jdbc.driver&#125;"</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">p:jdbcUrl</span>=<span class="string">"$&#123;jdbc.url&#125;"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">p:user</span>=<span class="string">"$&#123;jdbc.username&#125;"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">p:password</span>=<span class="string">"$&#123;jdbc.password&#125;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"initialPoolSize"</span> <span class="attr">value</span>=<span class="string">"10"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"minPoolSize"</span> <span class="attr">value</span>=<span class="string">"10"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxPoolSize"</span> <span class="attr">value</span>=<span class="string">"50"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxStatements"</span> <span class="attr">value</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxIdleTime"</span> <span class="attr">value</span>=<span class="string">"600"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"idleConnectionTestPeriod"</span> <span class="attr">value</span>=<span class="string">"300"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"acquireIncrement"</span> <span class="attr">value</span>=<span class="string">"5"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"autoCommitOnClose"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"checkoutTimeout"</span> <span class="attr">value</span>=<span class="string">"2000"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">"txAdvice"</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"save*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"update*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"delete*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"find*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span><span class="comment">&lt;!--å…¶ä»–ä¸ç¬¦åˆè§„èŒƒçš„æ–¹æ³•åªå…è®¸è¯»æ“ä½œ--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span> <span class="attr">expose-proxy</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"serviceMethod"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.craft.partner.server.service.*.*(..))"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"txAdvice"</span> <span class="attr">pointcut-ref</span>=<span class="string">"serviceMethod"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>æ³¨æ„ï¼š é€šè¿‡ <strong>p:url=â€åœ°å€â€</strong> çš„æ–¹å¼ï¼Œè°ƒç”¨ RemoteProperties çš„æ–¹æ³•ï¼Œå‘é€è¯·æ±‚è·å–é…ç½®ä¿¡æ¯ï¼Œé€šè¿‡ Spring è¿›è¡Œæ³¨å…¥ã€‚<br>æ³¨å…¥åï¼Œå¯ä»¥é€šè¿‡ <strong>p:å±æ€§</strong> çš„æ–¹å¼è·å–é…ç½®ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="http://www.cnblogs.com/yjmyzz/p/how-to-load-remote-config-in-spring.html" target="_blank" rel="noopener">http://www.cnblogs.com/yjmyzz/p/how-to-load-remote-config-in-spring.html</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;é›†ç¾¤åº”ç”¨çš„é…ç½®æ–‡ä»¶å¦‚æœå†™åœ¨é¡¹ç›®çš„ &lt;strong&gt;resources&lt;/strong&gt; ç›®å½•ä¸‹é¢ï¼Œå½“é‡åˆ°éœ€è¦ä¿®æ”¹æŸä¸€ä¸ªé…ç½®å€¼æ—¶ï¼Œéœ€è¦å°†é›†ç¾¤çš„æ‰€æœ‰åº”ç”¨çš„é…ç½®ä¿¡æ¯è¿›è¡Œä¿®æ”¹ï¼Œå¹¶ä¸”å°†æœºå¯†çš„é…ç½®ä¿¡æ¯æ¯”å¦‚æ•°æ®åº“è´¦å·å¯†ç å¦‚æœä¸è¿›è¡ŒåŠ å¯†é…ç½®åœ¨é¡¹ç›®ä¸­å¾ˆå±é™©ï¼Œä¸€æ—¦å‘ç”Ÿä»£ç æ³„éœ²é—®é¢˜ï¼Œåæœå¾ˆä¸¥é‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é¿å…ä¸Šè¿°æƒ…å†µå‘ç”Ÿï¼Œå°†é…ç½®ä¿¡æ¯å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥ã€ç”¨æˆ·åã€ä»¥åŠå¯†ç ï¼Œé€šè¿‡ Config é¡¹ç›®çš„ä¸€ä¸ª&lt;strong&gt;æ¥å£&lt;/strong&gt;æä¾›è·å–é…ç½®ä¿¡æ¯ã€‚Config é¡¹ç›®åªç”¨äºè¯»å–é…ç½®ä¿¡æ¯ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="è¿œç¨‹é…ç½®" scheme="http://nullpointer.pw/tags/%E8%BF%9C%E7%A8%8B%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>Javaä¸Šä¼ å›¾ç‰‡åˆ°OSSçš„å®ç°</title>
    <link href="http://nullpointer.pw/Java%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%88%B0OSS%E7%9A%84%E5%AE%9E%E7%8E%B0.html"/>
    <id>http://nullpointer.pw/Javaä¸Šä¼ å›¾ç‰‡åˆ°OSSçš„å®ç°.html</id>
    <published>2017-05-06T15:01:57.000Z</published>
    <updated>2017-12-03T11:00:44.683Z</updated>
    
    <content type="html"><![CDATA[<p>å‰è¨€ï¼š  ä»¥å‰åšé¡¹ç›®ç”¨çš„éƒ½æ˜¯å¼€æºçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¦‚FastDFSã€‚<br>æœ€è¿‘å‡ å¹´ï¼Œéšç€äº‘çš„å‘å±•ï¼Œå›½å†…å¤–çš„å·¨å¤´å…¬å¸ä¹Ÿç›¸åº”çš„æ¨å‡ºäº†ç›¸å…³å•†ç”¨çš„ç±»ä¼¼äº§å“ã€‚<br>æ¯”å¦‚Amazon S3ï¼Œé˜¿é‡Œäº‘çš„OSSï¼Œè…¾è®¯äº‘çš„COSã€‚<br>ä»Šå¤©æˆ‘é€‰æ‹©ä½¿ç”¨é˜¿é‡Œäº‘çš„OSSæ¥ä½œä¸ºä¾‹å­ï¼Œæ¥å®ç°å›¾ç‰‡çš„ä¸Šä¼ ã€‚</p><a id="more"></a><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p><a href="https://help.aliyun.com/document_detail/32008.html" target="_blank" rel="noopener">é˜¿é‡Œäº‘OSSå®˜æ–¹æ–‡æ¡£åœ°å€</a></p><h3 id="ä¸€ã€å¼€é€šé˜¿é‡Œäº‘OSS"><a href="#ä¸€ã€å¼€é€šé˜¿é‡Œäº‘OSS" class="headerlink" title="ä¸€ã€å¼€é€šé˜¿é‡Œäº‘OSS"></a>ä¸€ã€å¼€é€šé˜¿é‡Œäº‘OSS</h3><ol><li>ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°å¼€é€šOSSæœåŠ¡ï¼Œå¹¶åˆ›å»º<code>AccessKeyId</code>å’Œ<code>AccessKeySecret</code></li><li>åœ¨OSSæ§åˆ¶é¢æ¿ä¸Šæ–°å»ºBucket<br><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170506/221118419.png" alt=""></li><li>è¿›å…¥æ–°å»ºçš„Bucket<br>é€‰æ‹©å·¦ä¾§çš„Objectç®¡ç†ï¼Œæ–°å»ºä¸€ä¸ª<code>img</code>çš„æ–‡ä»¶å¤¹ï¼Œä¾¿äºå­˜å‚¨å½’ç±»</li></ol><h3 id="äºŒã€mavené¡¹ç›®ä¸­å¼•å…¥ä¾èµ–"><a href="#äºŒã€mavené¡¹ç›®ä¸­å¼•å…¥ä¾èµ–" class="headerlink" title="äºŒã€mavené¡¹ç›®ä¸­å¼•å…¥ä¾èµ–"></a>äºŒã€mavené¡¹ç›®ä¸­å¼•å…¥ä¾èµ–</h3><p>åœ¨mavenå·¥ç¨‹ä¸­çš„pom.xmlæ·»åŠ ä¾èµ–<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.aliyun.oss<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aliyun-sdk-oss<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="ç¼–å†™ä»£ç "><a href="#ç¼–å†™ä»£ç " class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h2><blockquote><p>æ³¨ï¼šæˆ‘æ‰€ä½¿ç”¨çš„çš„æ¡†æ¶æ˜¯ï¼šSpringMVC+Spring+Mybatis  </p></blockquote><h3 id="ä¸€ã€ä¸Šä¼ æ–‡ä»¶åˆ°OSSä¹‹HelloWorld"><a href="#ä¸€ã€ä¸Šä¼ æ–‡ä»¶åˆ°OSSä¹‹HelloWorld" class="headerlink" title="ä¸€ã€ä¸Šä¼ æ–‡ä»¶åˆ°OSSä¹‹HelloWorld"></a>ä¸€ã€ä¸Šä¼ æ–‡ä»¶åˆ°OSSä¹‹HelloWorld</h3><p>ä¸Šä¼ å›¾ç‰‡ä¹‹å‰ï¼Œå…ˆæƒ¯ä¾‹æ¥ä¸€ä¸ªHelloWorldç¤ºä¾‹ï¼<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.aliyun.oss.OSSClient;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.model.ObjectMetadata;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.oss.model.PutObjectResult;</span><br><span class="line"><span class="keyword">import</span> com.nullpointer.common.Constants;</span><br><span class="line"><span class="keyword">import</span> com.nullpointer.service.AliyunOSSService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AliyunOSSServiceImpl</span> <span class="keyword">implements</span> <span class="title">AliyunOSSService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String IMG = <span class="string">"img/"</span>;<span class="comment">//å¯¹åº”Objectçš„æ–‡ä»¶å¤¹åç§°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> maxLength = <span class="number">5</span> * <span class="number">1024</span> * <span class="number">1024</span>;<span class="comment">//ç®€å•ä¸Šä¼ OSSé™åˆ¶ä¸º5Gä»¥ä¸‹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String ENDPOINT = File.separatorChar == <span class="string">'/'</span> ? <span class="string">"oss-cn-hangzhou-internal.aliyuncs.com"</span> : <span class="string">"http://oss-cn-hangzhou.aliyuncs.com"</span>;<span class="comment">//ç”¨äºé€‰æ‹©ä¸åŒçš„åŸŸå</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> OSSClient client;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String bucketName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆå§‹åŒ–OSSClient</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String accessId = <span class="string">"xxxxxxxxxxxxx"</span>;<span class="comment">//ä½ çš„AccessIdï¼Œ åœ¨OSSæ§åˆ¶å°å¯ä»¥ç”Ÿæˆ</span></span><br><span class="line">        String accessKey = <span class="string">"xxxxxxxxxxxxxxxxx"</span>;<span class="comment">//ä½ çš„AccessKey</span></span><br><span class="line">        bucketName = <span class="string">"xxxxx"</span>;<span class="comment">//åˆ›å»ºçš„Bucketçš„åç§°ï¼Œæ³¨æ„è¦ä¸€è‡´åŒºåˆ†å¤§å°å†™</span></span><br><span class="line"></span><br><span class="line">        client = <span class="keyword">new</span> OSSClient(ENDPOINT, accessId, accessKey);<span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">uploadIm</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">"Hello OSS"</span>;</span><br><span class="line">        PutObjectResult test01 = client.putObject(bucketName, <span class="string">"test01"</span>, <span class="keyword">new</span> ByteArrayInputStream(content.getBytes()));</span><br><span class="line">        <span class="keyword">return</span> test01.getETag();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ‰“å¼€OSSæ§åˆ¶å°çš„Objectç®¡ç†ï¼Œæ˜¯ä¸æ˜¯å‘ç°æ–°å¢äº†ä¸€ä¸ªæ–‡ä»¶å‘¢ï¼Ÿ<br><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170506/222456581.png" alt=""></p><h3 id="äºŒã€ç¼–å†™å›¾ç‰‡ä¸Šä¼ æœåŠ¡ç±»"><a href="#äºŒã€ç¼–å†™å›¾ç‰‡ä¸Šä¼ æœåŠ¡ç±»" class="headerlink" title="äºŒã€ç¼–å†™å›¾ç‰‡ä¸Šä¼ æœåŠ¡ç±»"></a>äºŒã€ç¼–å†™å›¾ç‰‡ä¸Šä¼ æœåŠ¡ç±»</h3><p>HelloWorldç¤ºä¾‹å®Œæˆäº†ï¼Œå¼€å§‹æ­£å¼ç¼–å†™å›¾ç‰‡ä¸Šä¼ ä»£ç äº†ã€‚æ³¨é‡Šéƒ½æœ‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AliyunOSSServiceImpl</span> <span class="keyword">implements</span> <span class="title">AliyunOSSService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String IMG = <span class="string">"img/"</span>;<span class="comment">//å¯¹åº”Objectçš„æ–‡ä»¶å¤¹åç§°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> maxLength = <span class="number">5</span> * <span class="number">1024</span> * <span class="number">1024</span>;<span class="comment">//ç®€å•ä¸Šä¼ OSSé™åˆ¶ä¸º5Gä»¥ä¸‹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String ENDPOINT = File.separatorChar == <span class="string">'/'</span> ? <span class="string">"oss-cn-hangzhou-internal.aliyuncs.com"</span> : <span class="string">"http://oss-cn-hangzhou.aliyuncs.com"</span>;<span class="comment">//ç”¨äºé€‰æ‹©ä¸åŒçš„åŸŸå</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> OSSClient client;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String bucketName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆå§‹åŒ–OSSClient</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String accessId = <span class="string">"xxxxxxxxxxxxx"</span>;<span class="comment">//ä½ çš„AccessIdï¼Œ åœ¨OSSæ§åˆ¶å°å¯ä»¥ç”Ÿæˆ</span></span><br><span class="line">        String accessKey = <span class="string">"xxxxxxxxxxxxxxxxx"</span>;<span class="comment">//ä½ çš„AccessKey</span></span><br><span class="line">        bucketName = <span class="string">"xxxxx"</span>;<span class="comment">//åˆ›å»ºçš„Bucketçš„åç§°ï¼Œæ³¨æ„è¦ä¸€è‡´åŒºåˆ†å¤§å°å†™</span></span><br><span class="line"></span><br><span class="line">        client = <span class="keyword">new</span> OSSClient(ENDPOINT, accessId, accessKey);<span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*public String uploadIm() &#123;</span></span><br><span class="line"><span class="comment">        String content = "Hello OSS";</span></span><br><span class="line"><span class="comment">        PutObjectResult test01 = client.putObject(bucketName, "test01", new ByteArrayInputStream(content.getBytes()));</span></span><br><span class="line"><span class="comment">        return test01.getETag();</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">saveImage</span><span class="params">(MultipartFile file)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            String fileName = <span class="keyword">this</span>.saveImage(file.getSize(), file.getOriginalFilename(), file.hashCode(), file.getInputStream());</span><br><span class="line">            <span class="keyword">return</span> getHttpUrl(fileName);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">getHttpUrl</span><span class="params">(String fileName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Constants.OSS_HTTP + <span class="string">"/"</span> + IMG + fileName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">saveImage</span><span class="params">(<span class="keyword">long</span> size, String extName, <span class="keyword">int</span> hashCode, InputStream is)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (size &gt; maxLength)<span class="comment">//è¶…è¿‡5G</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        String name = extName.toLowerCase();</span><br><span class="line">        name = name.substring(name.indexOf(<span class="string">"."</span>));<span class="comment">//è·å¾—ä¸Šä¼ æ–‡ä»¶çš„åç¼€åç§°å¦‚ .jpg</span></span><br><span class="line">        String fileName = System.currentTimeMillis() + <span class="string">"_"</span> + hashCode + name;<span class="comment">//ä¸ºäº†é˜²æ­¢é‡å¤ï¼Œ ä½¿ç”¨æ—¶é—´æˆ³+hashcodeçš„æ–¹å¼æ¥å‘½å</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.saveImage(size, fileName, is);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">saveImage</span><span class="params">(<span class="keyword">long</span> size, String fileName, InputStream is)</span> </span>&#123;</span><br><span class="line">        String key = IMG + fileName;<span class="comment">//ä¿å­˜åˆ°imgæ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line">        <span class="keyword">this</span>.uploadObject(key, size, is);</span><br><span class="line">        <span class="keyword">return</span> fileName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">uploadObject</span><span class="params">(String key, <span class="keyword">long</span> size, InputStream is)</span> </span>&#123;</span><br><span class="line">        ObjectMetadata metadata = <span class="keyword">new</span> ObjectMetadata();<span class="comment">//è®¾ç½®æ–‡ä»¶çš„metaä¿¡æ¯</span></span><br><span class="line">        metadata.setContentLength(size);</span><br><span class="line">        metadata.setContentType(<span class="string">"image/jpeg"</span>);</span><br><span class="line"></span><br><span class="line">        PutObjectResult result = client.putObject(bucketName, key, is);<span class="comment">//è°ƒç”¨SDKçš„ä¸Šä¼ æ–¹æ³•</span></span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸‰ã€ç¼–å†™Controllerå±‚çš„ä¸Šä¼ æ¥å£"><a href="#ä¸‰ã€ç¼–å†™Controllerå±‚çš„ä¸Šä¼ æ¥å£" class="headerlink" title="ä¸‰ã€ç¼–å†™Controllerå±‚çš„ä¸Šä¼ æ¥å£"></a>ä¸‰ã€ç¼–å†™Controllerå±‚çš„ä¸Šä¼ æ¥å£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/upload"</span>, method = RequestMethod.POST)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">uploadOSS</span><span class="params">(MultipartFile pic, HttpServletResponse response,  Model model)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">    String imgUrl = aliyunOSSService.saveImage(pic);</span><br><span class="line">    System.out.println(<span class="string">"path = "</span> + imgUrl);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å›¾ç‰‡å›æ˜¾</span></span><br><span class="line">    JSONObject jsonObject = <span class="keyword">new</span> JSONObject();</span><br><span class="line">    jsonObject.put(<span class="string">"path"</span>, imgUrl);</span><br><span class="line">    response.setContentType(<span class="string">"application/json;charset=UTF-8"</span>);</span><br><span class="line">    response.getWriter().write(jsonObject.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå…¥å‚ä¸­çš„MultipartFIleæ˜¯ä¸€ä¸ªæ¥å£ï¼Œéœ€è¦åœ¨Springçš„é…ç½®æ–‡ä»¶<code>applicationContext.xml</code>ä¸­å°†å…¶å®ç°ç±»æ³¨å…¥ã€‚<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"multipartResolver"</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.multipart.commons.CommonsMultipartResolver"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="å››ã€ç¼–å†™é¡µé¢JSP"><a href="#å››ã€ç¼–å†™é¡µé¢JSP" class="headerlink" title="å››ã€ç¼–å†™é¡µé¢JSP"></a>å››ã€ç¼–å†™é¡µé¢JSP</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">contentType</span>=<span class="string">"text/html;charset=UTF-8"</span> <span class="attr">language</span>=<span class="string">"java"</span> %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/static/js/jquery.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/static/js/jquery.form.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">isELIgnored</span>=<span class="string">"false"</span> %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>home<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"application/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        function uploadPic() &#123;</span></span><br><span class="line"><span class="undefined">            var options = &#123;</span></span><br><span class="line"><span class="undefined">                url: "/upload",</span></span><br><span class="line"><span class="undefined">                type: "POST",</span></span><br><span class="line"><span class="undefined">                dataType: "json",</span></span><br><span class="line"><span class="undefined">                success: function (data) &#123;</span></span><br><span class="line"><span class="undefined">                    $("#imgUrl").attr("src", data.path);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            $("#jform").ajaxSubmit(options);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container-fluid"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row-fluid"</span> <span class="attr">align</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/uploadOSS"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">id</span>=<span class="string">"jform"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"span12"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"img"</span> <span class="attr">class</span>=<span class="string">"img-polaroid"</span> <span class="attr">id</span>=<span class="string">"imgUrl"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"pic"</span> <span class="attr">onchange</span>=<span class="string">"uploadPic()"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é¡µé¢ä¸æ˜¯æˆ‘æ‰€æ“…é•¿ï¼Œèƒ½æ˜¾ç¤ºæ•ˆæœå³å¯ã€‚</p><h3 id="äº”ã€æµ‹è¯•å›¾ç‰‡ä¸Šä¼ "><a href="#äº”ã€æµ‹è¯•å›¾ç‰‡ä¸Šä¼ " class="headerlink" title="äº”ã€æµ‹è¯•å›¾ç‰‡ä¸Šä¼ "></a>äº”ã€æµ‹è¯•å›¾ç‰‡ä¸Šä¼ </h3><p><strong>å¯åŠ¨é¡¹ç›®ï¼Œè¿›å…¥å›¾ç‰‡ä¸Šä¼ çš„é¡µé¢ã€‚</strong></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170506/224108910.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p><strong>ä¸Šä¼ å›¾ç‰‡</strong><br>æ§åˆ¶å°æ‰“å°äº†å¦‚ä¸‹å†…å®¹ï¼š<br><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170506/224449951.png" alt=""></p><p>é¡µé¢æ˜¾ç¤ºï¼š<br><img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170506/224526048.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‰è¨€ï¼š  ä»¥å‰åšé¡¹ç›®ç”¨çš„éƒ½æ˜¯å¼€æºçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¦‚FastDFSã€‚&lt;br&gt;æœ€è¿‘å‡ å¹´ï¼Œéšç€äº‘çš„å‘å±•ï¼Œå›½å†…å¤–çš„å·¨å¤´å…¬å¸ä¹Ÿç›¸åº”çš„æ¨å‡ºäº†ç›¸å…³å•†ç”¨çš„ç±»ä¼¼äº§å“ã€‚&lt;br&gt;æ¯”å¦‚Amazon S3ï¼Œé˜¿é‡Œäº‘çš„OSSï¼Œè…¾è®¯äº‘çš„COSã€‚&lt;br&gt;ä»Šå¤©æˆ‘é€‰æ‹©ä½¿ç”¨é˜¿é‡Œäº‘çš„OSSæ¥ä½œä¸ºä¾‹å­ï¼Œæ¥å®ç°å›¾ç‰‡çš„ä¸Šä¼ ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="é˜¿é‡Œäº‘" scheme="http://nullpointer.pw/categories/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
    
      <category term="OSS" scheme="http://nullpointer.pw/tags/OSS/"/>
    
      <category term="å¯¹è±¡å­˜å‚¨ç³»ç»Ÿ" scheme="http://nullpointer.pw/tags/%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>Nginxå®ç°Tomcaté›†ç¾¤</title>
    <link href="http://nullpointer.pw/Nginx%E5%AE%9E%E7%8E%B0Tomcat%E9%9B%86%E7%BE%A4.html"/>
    <id>http://nullpointer.pw/Nginxå®ç°Tomcaté›†ç¾¤.html</id>
    <published>2017-05-05T14:12:54.000Z</published>
    <updated>2017-12-03T11:02:55.140Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»äº†åˆ©ç”¨nginxæ­å»ºäº†ä¸€ä¸ªç®€å•çš„è´Ÿè½½å‡è¡¡ã€‚</p><a id="more"></a><h2 id="ä¸€ã€å‡†å¤‡å·¥ä½œ"><a href="#ä¸€ã€å‡†å¤‡å·¥ä½œ" class="headerlink" title="ä¸€ã€å‡†å¤‡å·¥ä½œ"></a>ä¸€ã€å‡†å¤‡å·¥ä½œ</h2><p>Linuxç³»ç»Ÿ: CentOS 7 x64</p><p>Nginxç‰ˆæœ¬:1.12.0</p><p>Tomcatç‰ˆæœ¬: 7.0.77</p><h2 id="äºŒã€å®‰è£…"><a href="#äºŒã€å®‰è£…" class="headerlink" title="äºŒã€å®‰è£…"></a>äºŒã€å®‰è£…</h2><h3 id="CentOS-å¿«é€Ÿå®‰è£…ï¼Œè§æˆ‘å¦å¤–ä¸€ç¯‡æ–‡ç« CentOSå¿«é€Ÿå®‰è£…"><a href="#CentOS-å¿«é€Ÿå®‰è£…ï¼Œè§æˆ‘å¦å¤–ä¸€ç¯‡æ–‡ç« CentOSå¿«é€Ÿå®‰è£…" class="headerlink" title="CentOS å¿«é€Ÿå®‰è£…ï¼Œè§æˆ‘å¦å¤–ä¸€ç¯‡æ–‡ç« CentOSå¿«é€Ÿå®‰è£…"></a>CentOS å¿«é€Ÿå®‰è£…ï¼Œè§æˆ‘å¦å¤–ä¸€ç¯‡æ–‡ç« <a href="http://nullpointer.pw/2017/08/19/CentOS%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85/">CentOSå¿«é€Ÿå®‰è£…</a></h3><h3 id="å®‰è£…Nginxä¾èµ–"><a href="#å®‰è£…Nginxä¾èµ–" class="headerlink" title="å®‰è£…Nginxä¾èµ–"></a>å®‰è£…Nginxä¾èµ–</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> gcc ç”¨æ¥ç¼–è¯‘nginx</span></span><br><span class="line">yum install gcc-c++</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> PCRE nginxçš„httpæ¨¡å—ä½¿ç”¨pcreæ¥è§£ææ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line">yum -y install pcre*</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> zlib nginxä½¿ç”¨zlibå¯¹httpçš„å†…å®¹è¿›è¡Œgzipå‹ç¼©</span></span><br><span class="line">yum install -y zlib zlib-devel</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> openssl httpsæ”¯æŒ</span></span><br><span class="line">yum -y install openssl</span><br></pre></td></tr></table></figure><h3 id="ä¸‹è½½Nginx"><a href="#ä¸‹è½½Nginx" class="headerlink" title="ä¸‹è½½Nginx"></a>ä¸‹è½½Nginx</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…wget</span></span><br><span class="line">yum install wget</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹è½½nginx</span></span><br><span class="line">wget http://nginx.org/download/nginx-1.12.0.tar.gz</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¯‘å®‰è£…Nginx"><a href="#ç¼–è¯‘å®‰è£…Nginx" class="headerlink" title="ç¼–è¯‘å®‰è£…Nginx"></a>ç¼–è¯‘å®‰è£…Nginx</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è§£å‹nginx</span></span><br><span class="line">tar -zxvf nginx-1.12.0.tar.gz</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿›å…¥è§£å‹ç›®å½•</span></span><br><span class="line">cd nginx-1.12.0</span><br><span class="line">./configure</span><br><span class="line"><span class="meta">#</span><span class="bash"> è‹¥æ— é”™è¯¯ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å®‰è£…</span></span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"><span class="meta">#</span><span class="bash"> é»˜è®¤å®‰è£…åˆ°/usr/<span class="built_in">local</span>/nginxç›®å½•</span></span><br></pre></td></tr></table></figure><h3 id="Nginxæµ‹è¯•"><a href="#Nginxæµ‹è¯•" class="headerlink" title="Nginxæµ‹è¯•"></a>Nginxæµ‹è¯•</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨nginx</span></span><br><span class="line">/usr/local/nginx/sbin/nginx</span><br><span class="line"><span class="meta">#</span><span class="bash"> è®¿é—®localhost</span></span><br><span class="line">wget localhost</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ­¤å‘½ä»¤ä¼šä¸‹è½½ä¸€ä¸ªindex.htmlæ–‡ä»¶</span></span><br><span class="line">vim index.html</span><br><span class="line"><span class="meta">#</span><span class="bash"> index.htmlä¸­æœ‰å…³äºnginxçš„ç±»ä¼¼äºhelloworldè¯­å¥</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç”±äºæˆ‘çš„Linuxå®‰è£…åœ¨è™šæ‹Ÿæœºä¸­ï¼Œæƒ³è¦å¤–éƒ¨è®¿é—®è™šæ‹Ÿæœºå†…ï¼Œéœ€è¦å…³é—­é˜²ç«å¢™æˆ–å¼€æ”¾ç«¯å£</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¼–è¾‘é˜²ç«å¢™ï¼Œ CentOS 7é»˜è®¤çš„é˜²ç«å¢™ä¸æ˜¯iptablesï¼Œéœ€è¦å¦è¡Œå®‰è£…ï¼Œè¯·è‡ªè¡Œè§£å†³</span></span><br><span class="line">vim /etc/sysconfig/iptables</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ 80ç«¯å£</span></span><br><span class="line">-A INPUT -p tcp -m tcp --dport 80 -j ACCEPT</span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡å¯é˜²ç«å¢™</span></span><br><span class="line">service iptables restart</span><br><span class="line"><span class="meta">#</span><span class="bash"> é€šè¿‡æœ¬æœºçš„æµè§ˆå™¨è®¿é—®è™šæ‹Ÿæœºçš„ip</span></span><br><span class="line">http://192.168.243.127(æ­¤å¤„ä¸ºè™šæ‹Ÿæœºçš„ip)</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€é…ç½®ç”¨äºé›†ç¾¤çš„Tomcat"><a href="#ä¸‰ã€é…ç½®ç”¨äºé›†ç¾¤çš„Tomcat" class="headerlink" title="ä¸‰ã€é…ç½®ç”¨äºé›†ç¾¤çš„Tomcat"></a>ä¸‰ã€é…ç½®ç”¨äºé›†ç¾¤çš„Tomcat</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹è½½Tomcat</span></span><br><span class="line">wget http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.77/bin/apache-tomcat-7.0.77.tar.gz</span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ›å»ºç›®å½•</span></span><br><span class="line">mkdir /usr/local/tomcats</span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£å‹Tomcat</span></span><br><span class="line">tar -zxvf apache-tomcat-7.0.77.tar.gz -C /usr/local/tomcats</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹è§£å‹çš„Tomcatç›®å½•åç§°</span></span><br><span class="line">mv apache-tomcat-7.0.77 tomcat1</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸ºäº†æµ‹è¯•nginxè´Ÿè½½å‡è¡¡,éœ€è¦å¯¹tomcatçš„server.xmlé…ç½®ä¸€ä¸‹</span></span><br><span class="line">vim tomcat1/conf/server.xml</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºè¡Œå·</span></span><br><span class="line">:set nu</span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨105è¡Œä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼Œ å¹¶ä¿å­˜é€€å‡º</span></span><br><span class="line">&lt;Engine name="Catalina" defaultHost="localhost" jvmRoute="jvm1"&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹ç¤ºä¾‹ç¨‹åº</span></span><br><span class="line">echo 'tomcat1:&lt;%=session.getId()%&gt;' &gt; tomcat1/webapps/ROOT/index.jsp</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹·è´tomcat1ç›®å½•ä¸ºtomcat2</span></span><br><span class="line">cp -r tomcat1 tomcat2</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹tomcat2çš„server.xmlä¸­çš„ç«¯å£å·</span></span><br><span class="line">vim tomcat2/conf/server.xml</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹22è¡Œ/71è¡Œ/93è¡Œçš„ç«¯å£</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹105è¡Œ</span></span><br><span class="line">&lt;Engine name="Catalina" defaultHost="localhost" jvmRoute="jvm2"&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹ç¤ºä¾‹ç¨‹åº</span></span><br><span class="line">echo 'tomcat2:&lt;%=session.getId()%&gt;' &gt; tomcat1/webapps/ROOT/index.jsp</span><br></pre></td></tr></table></figure><h2 id="å››ã€é…ç½®Nginx"><a href="#å››ã€é…ç½®Nginx" class="headerlink" title="å››ã€é…ç½®Nginx"></a>å››ã€é…ç½®Nginx</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/nginx/conf/nginx.conf</span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170505/220704835.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="å¯åŠ¨tomcat"><a href="#å¯åŠ¨tomcat" class="headerlink" title="å¯åŠ¨tomcat"></a>å¯åŠ¨tomcat</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">  å¯åŠ¨ä¸¤ä¸ªtomcat</span></span><br><span class="line">./tomat2/bin/startup.sh</span><br><span class="line">./tomat1/bin/startup.sh</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>å¤–éƒ¨è®¿é—®è™šæ‹Ÿæœº</p><p><code>http://192.168.243.127(æ­¤å¤„ä¸ºè™šæ‹Ÿæœºçš„ip)</code></p><p>å¤šåˆ·æ–°å‡ æ¬¡ï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢çš„å†…å®¹åœ¨å˜åŒ–ï¼Œåœ¨tomcat1å’Œtomcat2ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œè‡³æ­¤å®Œæˆäº†ç®€å•nginxè´Ÿè½½å‡è¡¡çš„æ­å»ºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡ä»‹ç»äº†åˆ©ç”¨nginxæ­å»ºäº†ä¸€ä¸ªç®€å•çš„è´Ÿè½½å‡è¡¡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Nginx" scheme="http://nullpointer.pw/categories/Nginx/"/>
    
    
      <category term="nginx" scheme="http://nullpointer.pw/tags/nginx/"/>
    
      <category term="tomcat" scheme="http://nullpointer.pw/tags/tomcat/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šèªæ˜äººéƒ½ç”¨æ–¹æ ¼ç¬”è®°æœ¬ã€‹è¯»ä¹¦ç¬”è®°</title>
    <link href="http://nullpointer.pw/%E3%80%8A%E8%81%AA%E6%98%8E%E4%BA%BA%E9%83%BD%E7%94%A8%E6%96%B9%E6%A0%BC%E7%AC%94%E8%AE%B0%E6%9C%AC%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.html"/>
    <id>http://nullpointer.pw/ã€Šèªæ˜äººéƒ½ç”¨æ–¹æ ¼ç¬”è®°æœ¬ã€‹è¯»ä¹¦ç¬”è®°.html</id>
    <published>2017-01-22T10:08:00.000Z</published>
    <updated>2017-12-03T10:57:55.651Z</updated>
    
    <content type="html"><![CDATA[<p>2017å¹´è¯»çš„ç¬¬ä¸€æœ¬ä¹¦ï¼Œè¯»å®Œäº†ä¸€ç›´æ²¡æœ‰å†™è¯»ä¹¦ç¬”è®°ï¼Œæ‹–å»¶åˆ°ä»Šå¤©ï¼Œæ‰å‹‰å¼ºå†™å®Œã€‚ä¸­é€”çœ‹åˆ°ã€Šå¦‚ä½•æœ‰æ•ˆé˜…è¯»ä¸€æœ¬ä¹¦ã€‹ï¼Œå°±ä¸€èµ·è¯»äº†ï¼Œå­¦å­¦è¯»ä¹¦ç¬”è®°çš„å†™æ³•ã€‚    </p><p>æ­¤ä¹¦ä¸»è¦è®²äº†ç¬”è®°æœ¬å¯¹äºç¬”è®°çš„å½±å“ï¼Œå¥½çš„ç¬”è®°æœ¬è®©ç¬”è®°å‘æŒ¥å®ƒåº”æœ‰çš„åŠŸèƒ½ï¼Œè€Œä¸å¥½çš„ç¬”è®°æœ¬ä½“ç°ä¸å‡ºç¬”è®°çš„ä»·å€¼æ‰€åœ¨ã€‚ä½œè€…ä»¥ä¸‰ä¸ªè‘—åæœºæ„ä½¿ç”¨çš„ç¬”è®°æœ¬ä¸ºä¾‹ï¼Œåˆ—ä¸¾äº†æ–¹æ ¼ç¬”è®°æœ¬çš„ç§ç§ç›Šå¤„ï¼Œå¹¶é€šè¿‡é…å›¾çš„æ–¹å¼ï¼Œè®©è¯»è€…ä¸€ç›®äº†ç„¶åœ°äº†è§£æ–¹æ ¼ç¬”è®°æœ¬è®°å½•ç¬”è®°çš„æ–¹å¼ã€‚</p><a id="more"></a><table><thead><tr><th style="text-align:center">ä¹¦å</th><th style="text-align:center">ä½œè€…</th><th style="text-align:center">å¼€å§‹æ—¶é—´</th><th style="text-align:center">ç»“æŸæ—¶é—´</th></tr></thead><tbody><tr><td style="text-align:center">èªæ˜äººéƒ½ç”¨æ–¹æ ¼ç¬”è®°æœ¬</td><td style="text-align:center">é«˜æ¡¥æ”¿å²</td><td style="text-align:center">2017.01.01</td><td style="text-align:center">2017.01.04</td></tr></tbody></table><blockquote><p>å°†æ–¹æ ¼ç¬”è®°æœ¬â€œåˆ†ä¸ºä¸‰éƒ¨åˆ†â€è®°å½•ã€‚ä»å·¦å‘å³ä¾æ¬¡å°†ç¬”è®°æœ¬åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼ŒæŒ‰ç…§â€œäº‹å®<br>â†’è§£é‡Šâ†’è¡ŒåŠ¨â€çš„é¡ºåºè®°å½•ç¬”è®°ã€‚</p></blockquote><h2 id="ä¸€ï¼‰ç¬”è®°æœ¬çš„åŒºåˆ«"><a href="#ä¸€ï¼‰ç¬”è®°æœ¬çš„åŒºåˆ«" class="headerlink" title="ä¸€ï¼‰ç¬”è®°æœ¬çš„åŒºåˆ«"></a>ä¸€ï¼‰ç¬”è®°æœ¬çš„åŒºåˆ«</h2><h4 id="1-â˜†ç¬”è®°æœ¬çš„å¯¹æ¯”"><a href="#1-â˜†ç¬”è®°æœ¬çš„å¯¹æ¯”" class="headerlink" title="1. â˜†ç¬”è®°æœ¬çš„å¯¹æ¯”"></a>1. â˜†ç¬”è®°æœ¬çš„å¯¹æ¯”</h4><table><thead><tr><th>ä½¿å¤´è„‘å˜èªæ˜çš„ç¬”è®°æœ¬</th><th>é˜»ç¢èƒ½åŠ›å‘æŒ¥çš„ç¬”è®°æœ¬</th><th>å¯¹æ¯”</th></tr></thead><tbody><tr><td>çœ‹èµ·æ¥å·¥æ•´</td><td>ç¬¬ä¸€å°è±¡ç»™äººè„ä¹±çš„æ„Ÿè§‰ï¼Œä½¿äººä¸æ„¿å†çœ‹ç¬¬äºŒçœ¼</td><td>ç†è§£åŠ›ã€ç§¯ææ€§ä½ä¸‹</td></tr><tr><td>æ¯”A4çº¸å¤§</td><td>æ¯”A6çº¸å°ã€è®°äº‹æœ¬å‹</td><td>æ€è€ƒå¤æ‚é—®é¢˜çš„èƒ½åŠ›ã€é€»è¾‘æ€ç»´èƒ½åŠ›ä½ä¸‹</td></tr><tr><td>é¢œè‰²ä¸è¶…è¿‡ä¸‰ç§</td><td>ç”¨äº†å››ç§ä»¥ä¸Šçš„é¢œè‰²</td><td>åˆ¤æ–­ä¼˜å…ˆé¡ºåºçš„èƒ½åŠ›ã€åˆ¤æ–­åŠ›ä½ä¸‹</td></tr><tr><td>æ¯ä¸€é¡µéƒ½æœ‰ä¸€ä¸ªä¸»é¢˜</td><td>è¿™ä¹Ÿå†™ã€é‚£ä¹Ÿå†™</td><td>èˆå¼ƒèƒ½åŠ›ã€æ•´ç†èƒ½åŠ›ä½ä¸‹</td></tr><tr><td>æ˜¯é»‘æ¿ã€ç™½æ¿æ¿ä¹¦å†…å®¹çš„æç‚¼</td><td>ç…§æŠ„é»‘æ¿ã€ç™½æ¿æ¿ä¹¦</td><td>è®°å¿†åŠ›ã€ç‹¬ç«‹æ€è€ƒèƒ½åŠ›ä½ä¸‹</td></tr><tr><td>ç•™æœ‰ç©ºç™½åŒºåŸŸ</td><td>æ— ç©ºéš™ï¼Œå†™å¾—æ»¡æ»¡å½“å½“</td><td>ç†è§£èƒ½åŠ›ã€å¤ä¹ èƒ½åŠ›ä½ä¸‹</td></tr><tr><td>ç”»æœ‰è®¸å¤šå›¾ã€è¡¨ã€ç”»</td><td>æ— å›¾ã€è¡¨ã€ç”»ï¼Œåªæœ‰æ–‡å­—</td><td>è§†è§‰æŠŠæ¡èƒ½åŠ›ã€è¡¨ç°åŠ›ä½ä¸‹</td></tr><tr><td>æ—¥åçœ‹ç¬”è®°æ—¶ä¾ç„¶å¯å†ç°å½“æ—¶çš„å†…å®¹</td><td>æ—¥åçœ‹ç¬”è®°æ—¶æ— æ³•å†ç°å½“æ—¶çš„å†…å®¹</td><td>å­¦ä¹ èƒ½åŠ›ã€ç†è§£åŠ›ä½ä¸‹</td></tr></tbody></table><h4 id="2-â˜…å¥½ä¸åçš„ç¬”è®°æœ¬çš„åŒºåˆ«"><a href="#2-â˜…å¥½ä¸åçš„ç¬”è®°æœ¬çš„åŒºåˆ«" class="headerlink" title="2. â˜…å¥½ä¸åçš„ç¬”è®°æœ¬çš„åŒºåˆ«"></a>2. â˜…å¥½ä¸åçš„ç¬”è®°æœ¬çš„åŒºåˆ«</h4><p>å¥½ç¬”è®°æœ¬çœ‹ä¸Šå»ä¸€ç›®äº†ç„¶ï¼Œèƒ½å¤Ÿè¿…é€ŸæŠŠæ¡é‡ç‚¹ï¼Œå¤ç°è®°ç¬”è®°æ—¶çš„åœºæ™¯ï¼›<br>è€Œåç¬”è®°å°±æ˜¯è®©ä½ æ ¹æœ¬æ²¡æœ‰çœ‹çš„æ¬²æœ›ï¼Œå³ä½¿æ˜¯çœ‹äº†ï¼Œä¹Ÿä¸èƒ½æå–æœ‰æ•ˆå†…å®¹ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåç¬”è®°æœ¬çš„ä½œç”¨å°±æ˜¯æ²¡æœ‰ä½œç”¨ã€‚</p><h2 id="äºŒï¼‰è®°ç¬”è®°çš„ç›®çš„"><a href="#äºŒï¼‰è®°ç¬”è®°çš„ç›®çš„" class="headerlink" title="äºŒï¼‰è®°ç¬”è®°çš„ç›®çš„"></a>äºŒï¼‰è®°ç¬”è®°çš„ç›®çš„</h2><h4 id="1-â˜†è®°ç¬”è®°çš„è¯¯åŒº"><a href="#1-â˜†è®°ç¬”è®°çš„è¯¯åŒº" class="headerlink" title="1. â˜†è®°ç¬”è®°çš„è¯¯åŒº"></a>1. â˜†è®°ç¬”è®°çš„è¯¯åŒº</h4><p>ä¸ç®¡ä½ å‚åŠ çš„æ˜¯å¤šä¹ˆä¼˜ç§€çš„åŸ¹è®­ã€è®²åº§ã€ç ”è®¨ï¼Œå¦‚æœä½ çš„ç¬”è®°æ— æ³•å†ç°å½“æ—¶çš„å­¦ä¹ å†…å®¹ï¼Œé‚£ä¹ˆï¼Œä½ å¥½ä¸å®¹æ˜“å­¦åˆ°çš„çŸ¥è¯†ã€æŠ€å·§åŒ–ä¸ºä¹Œæœ‰çš„å¯èƒ½æ€§å°†å¾ˆå¤§ã€‚  </p><blockquote><p><strong>ç¬”è®°çš„ç”Ÿå‘½çº¿æ˜¯â€œå†ç°æ€§â€ï¼Œè¿™æ˜¯è®°ç¬”è®°çš„æœ€ç»ˆç›®çš„ã€‚</strong>  </p></blockquote><p>å¯æ˜¯ï¼Œæ²¡æœ‰å­¦ä¹ è¿‡ç¬”è®°æœ¬ä½¿ç”¨æ–¹æ³•çš„äººæ—¥åå†çœ‹è‡ªå·±çš„ç¬”è®°æ—¶ï¼Œåªèƒ½çœ‹åˆ°ä¸Šé¢çš„è¯è¯­å’Œå¥å­ï¼Œå´å›å¿†ä¸å‡ºâ€œä¸ºä½•éœ€è¦è¿™äº›ä¿¡æ¯â€â€œè¿™äº›ä¿¡æ¯æœ‰ä»€ä¹ˆä½œç”¨â€è¿™äº›æ›´ä¸ºé‡è¦çš„éƒ¨åˆ†ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬ç”¨çš„æ˜¯ç¼ºä¹å†ç°æ€§çš„è®°ç¬”è®°æ³•ã€‚</p><p>ä¸ºä»€ä¹ˆè¦åšç¬”è®°ï¼Ÿ</p><ul><li>æˆ‘æ˜¯æ€•æ—¥åå¿˜è®°æ‰è®°çš„</li><li>æˆ‘åªæ˜¯ç…§æŠ„æ¿ä¹¦ç½¢äº†</li><li>æˆ‘æœ‰è®°ç¬”è®°çš„ä¹ æƒ¯</li></ul><h4 id="2-â˜…è®°ç¬”è®°éœ€è¦å…‹æœçš„å›°éš¾"><a href="#2-â˜…è®°ç¬”è®°éœ€è¦å…‹æœçš„å›°éš¾" class="headerlink" title="2. â˜…è®°ç¬”è®°éœ€è¦å…‹æœçš„å›°éš¾"></a>2. â˜…è®°ç¬”è®°éœ€è¦å…‹æœçš„å›°éš¾</h4><p>ä½œè€…è¯´ï¼ŒæŠ±ç€ä»¥ä¸Šè¿™å‡ ç§ç›®çš„è€Œåšç¬”è®°çš„äººéœ€è¦å˜åŒ–è®°ç¬”è®°çš„æ–¹å¼ï¼Œåº”å½“åœæ­¢å½“å‰è¿™ç§è®°ç¬”è®°çš„æ–¹æ³•ã€‚ä¸€ç›´ä»¥æ¥ï¼Œè®°äº†å¾ˆå¤šç¬”è®°ï¼Œä½†æ˜¯æˆ‘æ¯æ¬¡è®°å®Œçš„ç¬”è®°åªæ˜¯å½“æˆäº†å¤‡å¿˜ï¼ŒæŠŠç¬”è®°æœ¬å½“æˆäº†å­—å…¸ã€‚  </p><p>éœ€è¦ä½¿ç”¨ä»¥å‰è®°è¿‡çš„ç¬”è®°çš„æ—¶å€™ï¼Œå°±å€ŸåŠ©ä¸ªäººè‰¯å¥½çš„åˆ†ç±»ä¹ æƒ¯æŸ¥æ‰¾å¯¹åº”çš„ç¬”è®°ï¼Œä»¥åŠå€ŸåŠ©è½¯ä»¶çš„å…¨æ–‡æ£€ç´¢åŠŸèƒ½æŸ¥æ‰¾æˆ‘æ‰€éœ€è¦çš„ç¬”è®°ã€‚  </p><p>é•¿è€Œä¹…ä¹‹ï¼Œä¾¿å…»æˆäº†ä¾èµ–çš„ä¹ æƒ¯ï¼Œè®°ç¬”è®°è®°å®Œä¹Ÿåªæ˜¯åœ¨è„‘æµ·ä¸­ä¿ç•™ä¸€ä»½å…³é”®å­—ï¼Œè€Œå†…å®¹å´ä¸€æ¦‚å¿˜è®°ï¼Œè¿™ææ€•æ˜¯æˆ‘çš„è®°ç¬”è®°æ–¹å¼çš„æœ€å¤§å¼Šç—…ï¼Œå†ç°ç¬”è®°çš„å†…å®¹æ˜¯ä¸ªäººéœ€è¦å…‹æœçš„éš¾ç‚¹ã€‚</p><h2 id="ä¸‰ï¼‰æ¡†æ¶Â·é»„é‡‘ä¸‰åˆ†æ³•"><a href="#ä¸‰ï¼‰æ¡†æ¶Â·é»„é‡‘ä¸‰åˆ†æ³•" class="headerlink" title="ä¸‰ï¼‰æ¡†æ¶Â·é»„é‡‘ä¸‰åˆ†æ³•"></a>ä¸‰ï¼‰æ¡†æ¶Â·é»„é‡‘ä¸‰åˆ†æ³•</h2><h4 id="1-â˜†è°é‡‡å–äº†è¿™ç§æ¡†æ¶"><a href="#1-â˜†è°é‡‡å–äº†è¿™ç§æ¡†æ¶" class="headerlink" title="1. â˜†è°é‡‡å–äº†è¿™ç§æ¡†æ¶"></a>1. â˜†è°é‡‡å–äº†è¿™ç§æ¡†æ¶</h4><ul><li><p>åº·å¥ˆå°”ç¬”è®°æœ¬åˆ†ä¸ºâ€œNoteâ€ï¼ˆæ¿ä¹¦ï¼‰ã€â€œQueueâ€ï¼ˆå‘ç°ç‚¹ï¼‰ã€â€œSummaryâ€ï¼ˆæ€»ç»“ï¼‰ä¸‰éƒ¨åˆ†ã€‚  </p></li><li><p>ä¸œå¤§å½•å–ç”Ÿä¸­çš„å¤§å¤šæ•°å­¦ç”Ÿå°†ç¬”è®°æœ¬çš„å·¦å³ä¸¤é¡µä½œä¸ºä¸€é¡µä½¿ç”¨ï¼Œå·¦ä¾§è®°å½•â€œæ¿ä¹¦â€ï¼Œå³ä¾§å†™â€œå‘ç°ç‚¹â€å’Œâ€œæ€»ç»“â€ï¼Œå’Œåº·å¥ˆå°”ç¬”è®°æœ¬çš„æ„é€ å®Œå…¨ç›¸åŒã€‚  </p></li><li><p>éº¦è‚¯é”¡å…¬å¸çš„â€œç©ºÂ·é›¨Â·ä¼â€ï¼ŒåŸƒæ£®å“²å…¬å¸çš„â€œPoint Sheetâ€ï¼Œæ‰€æœ‰å¤–èµ„ç®¡ç†å’¨è¯¢å…¬å¸çš„å’¨è¯¢é¡¾é—®éƒ½æ˜¯æŒ‰ç…§â€œäº‹å®â†’è§£é‡Šâ†’è¡ŒåŠ¨â€çš„ä¸‰åˆ†æ³•å±•å¼€æ€è€ƒçš„ã€‚   </p></li></ul><h4 id="2-â˜†æ¡†æ¶çš„ç»„æˆ"><a href="#2-â˜†æ¡†æ¶çš„ç»„æˆ" class="headerlink" title="2. â˜†æ¡†æ¶çš„ç»„æˆ"></a>2. â˜†æ¡†æ¶çš„ç»„æˆ</h4><table><thead><tr><th>å†…å®¹</th><th>å¯¹åº”</th></tr></thead><tbody><tr><td>æ¿ä¹¦</td><td>äº‹å®</td></tr><tr><td>å‘ç°</td><td>è§£é‡Š</td></tr><tr><td>æ€»ç»“</td><td>è¡ŒåŠ¨</td></tr></tbody></table><h4 id="3-â˜…æ¡†æ¶çš„ä½¿ç”¨æ­¥éª¤"><a href="#3-â˜…æ¡†æ¶çš„ä½¿ç”¨æ­¥éª¤" class="headerlink" title="3. â˜…æ¡†æ¶çš„ä½¿ç”¨æ­¥éª¤"></a>3. â˜…æ¡†æ¶çš„ä½¿ç”¨æ­¥éª¤</h4><ol><li>æ‘˜æŠ„åŸæ–‡ï¼šåŠ æ·±å¯¹åŸæ–‡çš„å°è±¡</li><li>æå‡ºé—®é¢˜ï¼Œåšå‡ºè§£é‡Šï¼šåŸºäºåŸæ–‡è¿›è¡Œæ€è€ƒï¼Œå¹¶ç»™å‡ºç»“æœ</li><li>è¿›è¡Œæ€»ç»“ï¼šå¯¹äºæ•´ç¯‡æ–‡ç« çš„æ€»ä½“æ¦‚è¿°  </li></ol><p>æŒ‰ç…§é»„é‡‘ä¸‰åˆ†æ³•æ¥åšç¬”è®°ï¼Œå¯ä»¥æé«˜ç¬”è®°å¯¹çŸ¥è¯†çš„å†ç°æ€§ï¼ŒçŸ¥åæœºæ„éƒ½é‡‡å–çš„æ˜¯é»„é‡‘ä¸‰åˆ†æ³•è¿™ç§æ¡†æ¶æ¥åšç¬”è®°ã€‚</p><h2 id="å››ï¼‰ç¬”è®°æœ¬çš„ç»“æ„"><a href="#å››ï¼‰ç¬”è®°æœ¬çš„ç»“æ„" class="headerlink" title="å››ï¼‰ç¬”è®°æœ¬çš„ç»“æ„"></a>å››ï¼‰ç¬”è®°æœ¬çš„ç»“æ„</h2><h4 id="1-â˜†ç¬”è®°æœ¬çš„æ–¹å‘"><a href="#1-â˜†ç¬”è®°æœ¬çš„æ–¹å‘" class="headerlink" title="1. â˜†ç¬”è®°æœ¬çš„æ–¹å‘"></a>1. â˜†ç¬”è®°æœ¬çš„æ–¹å‘</h4><p>äººçš„æ€è€ƒä¼šå—åˆ°çœ¼ç›æ„é€ çš„å·¦å³ï¼Œæ‰€ä»¥è¿›å…¥è§†é‡çš„æ˜¯â€œçºµå‘â€æ¡†æ¶è¿˜æ˜¯â€œæ¨ªå‘â€æ¡†æ¶ï¼Œèƒ½å¤Ÿå½±å“äººä»¬çš„ç†è§£é€Ÿåº¦ä»¥åŠå¯¹ä¿¡æ¯çš„æŠŠæ¡ç¨‹åº¦ã€‚  </p><p>åœ¨æŠŠæ¡æ•´ä½“æƒ…å†µæ—¶ï¼Œéœ€è¦è§£å†³çš„é—®é¢˜è¶Šå¤æ‚ã€å‚è€ƒçš„ä¿¡æ¯é‡è¶Šåºå¤§ï¼Œå°±è¶Šéœ€è¦åœ¨çŸ­æ—¶é—´å†…è¿…é€ŸæŠ“ä½é‡ç‚¹ã€‚  </p><p>éšç€å­¦ä¹ ã€å·¥ä½œå±‚æ¬¡çš„æå‡ï¼Œâ€œæ—¢è§æ ‘æœ¨ï¼Œåˆè§æ£®æ—â€è¿™ä¸€æ€è€ƒæ–¹å¼çš„é‡è¦æ€§ä¹Ÿå°±æ›´ä¸ºçªæ˜¾ã€‚</p><h4 id="2-â˜†ç¬”è®°æœ¬çš„å¤§å°"><a href="#2-â˜†ç¬”è®°æœ¬çš„å¤§å°" class="headerlink" title="2. â˜†ç¬”è®°æœ¬çš„å¤§å°"></a>2. â˜†ç¬”è®°æœ¬çš„å¤§å°</h4><p>â€œä¸å–„äºæç‚¼æƒ³æ³•â€â€œå¾ˆéš¾æŒ‰é€»è¾‘æ€§æ€ç»´æ€è€ƒâ€â€œä¸ä¼šè¨€ç®€æ„èµ…åœ°è¡¨è¾¾â€çš„åŸå› æ˜¯ä»€<br>ä¹ˆï¼Ÿ  </p><p>ç¬”è®°æœ¬çš„å¤§å°æ„å‘³ç€æ€è€ƒèƒ½åŠ›çš„å¼ºå¼±ã€‚</p><h4 id="3-â˜†ç¬”è®°çš„é¢œè‰²"><a href="#3-â˜†ç¬”è®°çš„é¢œè‰²" class="headerlink" title="3. â˜†ç¬”è®°çš„é¢œè‰²"></a>3. â˜†ç¬”è®°çš„é¢œè‰²</h4><p>ç”¨é»‘è‰²æˆ–è“è‰²ä¹¦å†™ç¬”è®°ï¼Œç”¨çº¢è‰²ä½œä¸ºåˆ¤æ–­ï¼Œä¹Ÿå°±æ˜¯é‡åˆ°éå¸¸é‡è¦æˆ–éœ€è¦ä¿®æ”¹çš„åœ°æ–¹æ—¶ä½¿ç”¨çº¢è‰²ã€‚ ç”¨æ­¤ç§ç®€å•æ–¹æ³•åŒºåˆ†ä½¿ç”¨é¢œè‰²çš„è¯ï¼Œä¾¿ä¼šåœ¨è®°ç¬”è®°çš„åŒæ—¶è‡ªç„¶èˆå¼ƒæ‰æ— ç”¨çš„å†…å®¹ï¼Œå°†æ€è€ƒé‡ç‚¹æ”¾åœ¨ä¸»è¦é—®é¢˜ä¸Šï¼Œå…»æˆåˆ¤æ–­ä¸»æ¬¡å…ˆåçš„ä¹ æƒ¯ï¼Œé€æ­¥æé«˜è§£å†³é—®é¢˜çš„é€Ÿåº¦å’Œè´¨é‡ã€‚  </p><blockquote><p><strong>é¢œè‰²æœ€å¤šç”¨ä¸‰ç§ã€‚</strong></p></blockquote><p>åªè¦èƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼Œäº‹åå†ç¿»çœ‹ç¬”è®°æ—¶ï¼Œä»…çœ‹é¢œè‰²å°±èƒ½ç«‹åˆ»åŒºåˆ†å‡ºä¸»æ¬¡é¡ºåºï¼Œè®°ç¬”è®°æ—¶çš„æ€è·¯ä¹Ÿèƒ½åœ¨å¤§è„‘ä¸­æ¸…æ™°é‡ç°ï¼Œè¿›ä¸€æ­¥æå‡ä¿¡æ¯æ•´ç†å’Œè¾“å‡ºçš„æ•ˆç‡ã€‚</p><h4 id="4-â˜†ç¬”è®°æ ‡é¢˜åŒºåŸŸçš„åˆ©ç”¨"><a href="#4-â˜†ç¬”è®°æ ‡é¢˜åŒºåŸŸçš„åˆ©ç”¨" class="headerlink" title="4. â˜†ç¬”è®°æ ‡é¢˜åŒºåŸŸçš„åˆ©ç”¨"></a>4. â˜†ç¬”è®°æ ‡é¢˜åŒºåŸŸçš„åˆ©ç”¨</h4><p>é€šå¸¸ä¼šåœ¨ç¬”è®°æœ¬ä¸Šéƒ¨çš„ç©ºç™½åŒºåŸŸå†™å…¥è®ºç‚¹å’Œç»“è®ºã€‚<br>ä»¥è§£å†³å·¥ä½œé—®é¢˜çš„ç¬”è®°æœ¬ä¸ºä¾‹ï¼Œâ€œè®ºç‚¹=é—®é¢˜çš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆâ€â€œç»“è®º=è¿™æ ·åšä¾¿å¯ä»¥è§£å†³é—®é¢˜â€ã€‚  </p><p><img src="http://ojt4b2cr5.bkt.clouddn.com/%E6%90%9C%E7%8B%97%E6%88%AA%E5%9B%BE20170122151804.png" alt=""></p><h4 id="5-â˜…ç¬”è®°æœ¬ç»“æ„å¯¹äºç¬”è®°çš„å½±å“"><a href="#5-â˜…ç¬”è®°æœ¬ç»“æ„å¯¹äºç¬”è®°çš„å½±å“" class="headerlink" title="5. â˜…ç¬”è®°æœ¬ç»“æ„å¯¹äºç¬”è®°çš„å½±å“"></a>5. â˜…ç¬”è®°æœ¬ç»“æ„å¯¹äºç¬”è®°çš„å½±å“</h4><ul><li>ç¬”è®°é‡‡å–æ¨ªå‘ç»“æ„ï¼Œå¯ä»¥èµ·åˆ°ä¸€ç›®äº†ç„¶çš„ä½œç”¨ï¼Œå‚è€ƒçš„æ–‡ç« ä¿¡æ¯ä¾¿äºæå–åˆ°å¤§è„‘ä¸­ã€‚</li><li>å°ç¬”è®°æœ¬ä¸åˆ©äºæ€»ç»“æƒ³æ³•ï¼Œæ¥å›åœ°ç¿»é¡µä¼šæ‰“æ–­æ€è€ƒçš„ä¹¦å†™ã€‚å› æ­¤ä½¿ç”¨å¤§ç¬”è®°æœ¬æ¥è®°ç¬”è®°ã€‚</li><li>å¤ªå¤šçš„é¢œè‰²ä¼šå¯¼è‡´æ‰¾ä¸åˆ°é‡ç‚¹ï¼Œå¤„å¤„æ˜¯é‡ç‚¹çš„æƒ…å†µï¼Œ</li><li>åˆç†æ ‡è®°æ ‡é¢˜ï¼Œæ¢³ç†æ ¸å¿ƒå†…å®¹ï¼Œæœ‰åŠ©äºå¿«é€Ÿç†è§£ç¬”è®°å†…å®¹ã€‚</li></ul><h2 id="äº”ï¼‰ç¬”è®°æœ¬çš„åŠŸèƒ½"><a href="#äº”ï¼‰ç¬”è®°æœ¬çš„åŠŸèƒ½" class="headerlink" title="äº”ï¼‰ç¬”è®°æœ¬çš„åŠŸèƒ½"></a>äº”ï¼‰ç¬”è®°æœ¬çš„åŠŸèƒ½</h2><h4 id="1-â˜†è®°å¿†æ€§ç¬”è®°æœ¬"><a href="#1-â˜†è®°å¿†æ€§ç¬”è®°æœ¬" class="headerlink" title="1. â˜†è®°å¿†æ€§ç¬”è®°æœ¬"></a>1. â˜†è®°å¿†æ€§ç¬”è®°æœ¬</h4><p>ä¸Šè¯¾ã€ç ”è®¨æˆ–æ˜¯è¦è®°å¿†ã€ç†è§£å­¦ä¹ å†…å®¹æ—¶è®°å½•çš„ç¬”è®°ï¼Œä¸ºäº†è®°åœ¨è„‘å­é‡Œè€Œå†™çš„ç¬”è®°ã€‚æœ¬ä¹¦å°†è¿™ç±»ç¬”è®°æœ¬ç§°ä¸ºâ€œå­¦ä¹ ç¬”è®°æœ¬â€ã€‚  </p><h4 id="2-â˜†æ€è€ƒæ€§ç¬”è®°æœ¬"><a href="#2-â˜†æ€è€ƒæ€§ç¬”è®°æœ¬" class="headerlink" title="2. â˜†æ€è€ƒæ€§ç¬”è®°æœ¬"></a>2. â˜†æ€è€ƒæ€§ç¬”è®°æœ¬</h4><p>ä¸ºçœ‹å‡ºäº‹ç‰©æœ¬è´¨ã€ç†è§£é‡ç‚¹ã€å¾—å‡ºç»“è®ºè€Œå†™çš„ç¬”è®°ï¼Œå¸¸è§äºå·¥ä½œä¸­ã€‚æœ¬ä¹¦å°†è¿™ç±»ç¬”è®°æœ¬ç§°ä¸ºâ€œå·¥ä½œç¬”è®°æœ¬â€ã€‚</p><h4 id="3-â˜†ä¼ è¾¾æ€§ç¬”è®°æœ¬"><a href="#3-â˜†ä¼ è¾¾æ€§ç¬”è®°æœ¬" class="headerlink" title="3. â˜†ä¼ è¾¾æ€§ç¬”è®°æœ¬"></a>3. â˜†ä¼ è¾¾æ€§ç¬”è®°æœ¬</h4><p>ä¼ è¾¾æ€§ç¬”è®°å³èƒ½å¤Ÿä»ä¸°å¯Œçš„ä¿¡æ¯ä¸­ç­›é€‰å‡ºå¯¹æ–¹æ‰€éœ€çš„æ”¹å–„ç­–ç•¥åŠè§£å†³æ–¹æ³•ï¼Œä¸ºäº†è¯´æœå¯¹æ–¹è€Œå†™çš„ç¬”è®°ã€‚æœ¬ä¹¦å°†å†™è¿™ç±»ç¬”è®°çš„ç¬”è®°æœ¬ç§°ä¸ºâ€œææ¡ˆç¬”è®°æœ¬â€æˆ–â€œåšå¼ˆç¬”è®°æœ¬â€ã€‚</p><h4 id="4-â˜…ä¸åŒåŠŸèƒ½ç¬”è®°æœ¬å¯¹çš„è®°æ³•"><a href="#4-â˜…ä¸åŒåŠŸèƒ½ç¬”è®°æœ¬å¯¹çš„è®°æ³•" class="headerlink" title="4. â˜…ä¸åŒåŠŸèƒ½ç¬”è®°æœ¬å¯¹çš„è®°æ³•"></a>4. â˜…ä¸åŒåŠŸèƒ½ç¬”è®°æœ¬å¯¹çš„è®°æ³•</h4><p>ä½œè€…çš„è¿™æœ¬ä¹¦æ‰€æè¿°çš„é»„é‡‘ä¸‰åˆ†æ³•æœ€é€‚åˆäºåšæ€è€ƒæ€§ç¬”è®°ï¼Œè€Œå¯¹äºè®°å¿†æ€§ç¬”è®°æœ¬çš„è®°æ³•ï¼Œé‡‡å–è¿™ç§æ–¹å¼ï¼Œä¹Ÿèƒ½èµ·åˆ°ä¸€å®šåŠ æ·±å°è±¡çš„ä½œç”¨ã€‚å¯¹äºä¼ è¾¾æ€§ç¬”è®°æœ¬è€Œè¨€ï¼Œæ—¢åˆ—å‡ºäº‹å®ï¼Œåˆç»™å‡ºåˆç†è§£é‡Šï¼Œä¹Ÿæ˜¯ä¸é”™çš„æ–¹å¼ã€‚</p><h2 id="å…­ï¼‰-æé«˜ç¬”è®°æœ¬çš„ä½œç”¨"><a href="#å…­ï¼‰-æé«˜ç¬”è®°æœ¬çš„ä½œç”¨" class="headerlink" title="å…­ï¼‰ æé«˜ç¬”è®°æœ¬çš„ä½œç”¨"></a>å…­ï¼‰ æé«˜ç¬”è®°æœ¬çš„ä½œç”¨</h2><h4 id="1-â˜†èƒ½å½¢æˆâ€œæ°¸ä¹…è®°å¿†â€çš„ç”¨çœ¼æ–¹æ³•"><a href="#1-â˜†èƒ½å½¢æˆâ€œæ°¸ä¹…è®°å¿†â€çš„ç”¨çœ¼æ–¹æ³•" class="headerlink" title="1. â˜†èƒ½å½¢æˆâ€œæ°¸ä¹…è®°å¿†â€çš„ç”¨çœ¼æ–¹æ³•"></a>1. â˜†èƒ½å½¢æˆâ€œæ°¸ä¹…è®°å¿†â€çš„ç”¨çœ¼æ–¹æ³•</h4><p>å¦‚æœä½ ä¹‹å‰æ˜¯ä¸€è¾¹çœ‹ç€è€å¸ˆåœ¨é»‘æ¿ä¸Šå†™ä¸‹çš„å†…å®¹ï¼Œä¸€è¾¹åŸå°ä¸åŠ¨åœ°æŠ„å†™åœ¨ç¬”è®°æœ¬ä¸Šçš„è¯ï¼Œé‚£ä¹ˆï¼Œè¯·ä½ æ”¹å˜ä¸€ä¸‹æŠ„å†™ç¬”è®°æ—¶çš„â€œç”¨çœ¼æ–¹æ³•â€å§ï¼</p><p>å°†æ­¤å‰ï¼šÃ—â€œçœ‹é»‘æ¿â†’å†™ç¬”è®°â€çš„è®°å½•æ–¹æ³•æ”¹ä¸ºï¼š â€œçœ‹é»‘æ¿â†’å°åœ¨å¤§è„‘ä¸­â†’ä¸çœ‹é»‘æ¿ï¼Œå°†å°åœ¨å¤§è„‘ä¸­çš„å†…å®¹é‡ç°åœ¨ç¬”è®°æœ¬ä¸Šâ€ã€‚ ä¸æ˜¯ä¸€è¾¹çœ‹é»‘æ¿ä¸€è¾¹æŠ„å†™ï¼Œè€Œæ˜¯åœ¨â€œçœ‹é»‘æ¿â†’æŠ„å†™â€ä¹‹é—´åŠ å…¥â€œå°åœ¨å¤§è„‘ä¸­çš„ä¸€ç§’é’Ÿâ€ã€‚ æˆ‘æŠŠè¿™ä¸€ç§’é’Ÿç§°ä¸ºâ€œç©ºç™½çš„ä¸€ç§’é’Ÿâ€ã€‚</p><p>åªéœ€è¦è¿™ä¸€ç§’é’Ÿï¼Œä½ çš„ç¬”è®°æœ¬å°±èƒ½å‡çº§æˆèƒ½ä½¿å¤§è„‘è¶Šå˜è¶Šèªæ˜çš„ç¬”è®°æœ¬ã€‚</p><h4 id="2-â˜…æ–¹æ³•çš„æ•ˆæœ"><a href="#2-â˜…æ–¹æ³•çš„æ•ˆæœ" class="headerlink" title="2. â˜…æ–¹æ³•çš„æ•ˆæœ"></a>2. â˜…æ–¹æ³•çš„æ•ˆæœ</h4><p>åœ¨æŠ„å†™çš„è¿™ä¸€æ­¥éª¤ä¸­åŠ å…¥<strong>æ˜ å…¥å¤§è„‘</strong>ï¼Œå¯ä»¥åŠ æ·±å¯¹æ‰€æŠ„å†™å†…å®¹çš„è®°å¿†ã€‚</p><p>è®°å¾—ä»¥å‰åœ¨èƒŒæ—¥è¯­å•è¯æ—¶ï¼Œé‡‡å–çš„å°±æ˜¯è¿™ç§æ–¹æ³•ï¼Œçœ‹ä¸€ä¸‹å•è¯ï¼Œç„¶åé—­ä¸Šçœ¼ç›ï¼Œè®©å•è¯åœ¨è„‘æµ·ä¸­æµ®ç°å‡ºæ¥ï¼Œæ•ˆæœæ¯”ç›´æ¥æŠ„å†™åˆ°æœ¬ä¸Šçš„æ–¹æ³•è¦å¥½ã€‚</p><h4 id="3-â˜†é€»è¾‘è¿æ¥è¯çš„ç§ç±»ä¸ç”¨é€”"><a href="#3-â˜†é€»è¾‘è¿æ¥è¯çš„ç§ç±»ä¸ç”¨é€”" class="headerlink" title="3. â˜†é€»è¾‘è¿æ¥è¯çš„ç§ç±»ä¸ç”¨é€”"></a>3. â˜†é€»è¾‘è¿æ¥è¯çš„ç§ç±»ä¸ç”¨é€”</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/%E6%90%9C%E7%8B%97%E6%88%AA%E5%9B%BE20170122154035.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h4 id="4-â˜…è¿æ¥è¯çš„æ•ˆæœ"><a href="#4-â˜…è¿æ¥è¯çš„æ•ˆæœ" class="headerlink" title="4. â˜…è¿æ¥è¯çš„æ•ˆæœ"></a>4. â˜…è¿æ¥è¯çš„æ•ˆæœ</h4><p>æ‰¾åˆ°é€‚åˆè‡ªå·±çš„é€»è¾‘è¿æ¥è¯ï¼Œå°†æ€è€ƒè¿›è¡Œæµç¨‹åŒ–ã€‚ï¼ˆåœ¨ä¸­éƒ¨åŒºåŸŸä½¿ç”¨ï¼‰</p><h4 id="5-â˜†ä¸‰ä¸ªç®­å¤´çš„ä½¿ç”¨"><a href="#5-â˜†ä¸‰ä¸ªç®­å¤´çš„ä½¿ç”¨" class="headerlink" title="5. â˜†ä¸‰ä¸ªç®­å¤´çš„ä½¿ç”¨"></a>5. â˜†ä¸‰ä¸ªç®­å¤´çš„ä½¿ç”¨</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/%E6%90%9C%E7%8B%97%E6%88%AA%E5%9B%BE20170122161754.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h4 id="6-â˜†ä¸¤ä¸ªèƒ½åŠ›çš„å®è´¨"><a href="#6-â˜†ä¸¤ä¸ªèƒ½åŠ›çš„å®è´¨" class="headerlink" title="6. â˜†ä¸¤ä¸ªèƒ½åŠ›çš„å®è´¨"></a>6. â˜†ä¸¤ä¸ªèƒ½åŠ›çš„å®è´¨</h4><ul><li>æé—®èƒ½åŠ›</li><li>æ¦‚æ‹¬èƒ½åŠ›</li></ul><p>æ‰€è°“â€œæé—®èƒ½åŠ›â€ï¼Œå°±æ˜¯å¾—åˆ°æŸä¸ªä¿¡æ¯åå¹¶ä¸ä¼šç›´æ¥ä¸€å£åä¸‹ï¼Œè€Œæ˜¯ä¼šæå‡ºç±»ä¼¼â€œè¿™åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€â€â€œä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆè¯´â€ä¹‹ç±»é—®é¢˜çš„èƒ½åŠ›ã€‚  </p><p>æ‰€è°“â€œæ¦‚æ‹¬èƒ½åŠ›â€ï¼Œå°±æ˜¯èƒ½çœ‹é€äº‹ç‰©æœ¬è´¨ï¼Œå¹¶ä¸”å°†æ¢³ç†åçš„é‡ç‚¹å†…å®¹è®°åœ¨è„‘å­é‡Œï¼Œç„¶åç®€å•æ˜äº†åœ°è®²ç»™åˆ«äººå¬ã€‚</p><h4 id="7-â˜…ä¸¤ä¸ªèƒ½åŠ›çš„ä½œç”¨"><a href="#7-â˜…ä¸¤ä¸ªèƒ½åŠ›çš„ä½œç”¨" class="headerlink" title="7. â˜…ä¸¤ä¸ªèƒ½åŠ›çš„ä½œç”¨"></a>7. â˜…ä¸¤ä¸ªèƒ½åŠ›çš„ä½œç”¨</h4><p>å¦‚ä½•åº”ç”¨å­¦ä¹ çš„çŸ¥è¯†ï¼Œæ˜¯ç”±è¿™ä¸¤ä¸ªèƒ½åŠ›æ¥å†³å®šã€‚è¿™ä¸¤ä¸ªèƒ½åŠ›çš„æé«˜ä¸æ¯å¤©çš„è„‘åŠ›è®­ç»ƒæ˜¯å¯†ä¸å¯åˆ†çš„ï¼Œåªæœ‰ä¸æ–­åœ°è”ç³»ï¼Œé€æ¸å¼ºåŒ–ï¼Œè¿™äºŒè€…çš„èƒ½åŠ›å¯¹äºä¸ªäººçš„æå‡å°±ä¼šè¶Šå‘æ˜æ˜¾ã€‚</p><h4 id="8-â˜†ä¸è¦è®©ä½ çš„ç¬”è®°æœ¬å˜å¾—ä»£è°¢ä¸è‰¯"><a href="#8-â˜†ä¸è¦è®©ä½ çš„ç¬”è®°æœ¬å˜å¾—ä»£è°¢ä¸è‰¯" class="headerlink" title="8. â˜†ä¸è¦è®©ä½ çš„ç¬”è®°æœ¬å˜å¾—ä»£è°¢ä¸è‰¯"></a>8. â˜†ä¸è¦è®©ä½ çš„ç¬”è®°æœ¬å˜å¾—ä»£è°¢ä¸è‰¯</h4><p>â€œä»£è°¢ä¸è‰¯ç¬”è®°æœ¬â€æ˜¯ä¸åˆ†æœ‰ç”¨ä¿¡æ¯å’Œæ— ç”¨ä¿¡æ¯ã€ä»€ä¹ˆéƒ½å¾€ä¸Šå†™çš„ã€ä¸è¿›è¡Œæ•´ç†æ€»ç»“çš„â€œé˜»ç¢èƒ½åŠ›å‘æŒ¥çš„ç¬”è®°æœ¬â€çš„å…¸å‹ä¾‹å­ã€‚</p><p>å¦‚æœè¿™ä¹Ÿè®°ã€é‚£ä¹Ÿè®°çš„è¯ï¼Œé‚£ä¹ˆä¸çŸ¥ä¸è§‰ä¸­ï¼Œç¬”è®°æœ¬ä¸­çš„â€œç»“è®ºå’Œè®ºç‚¹â€å°±ä¼šå˜å¾—æ¨¡ç³Šï¼Œä»€ä¹ˆæ˜¯â€œè¯¥èˆå¼ƒçš„æ— ç”¨ä¿¡æ¯â€ï¼Œä»€ä¹ˆæ˜¯â€œåº”è¯¥ç•™ä¸‹çš„é‡ç‚¹å†…å®¹â€ï¼Œä¹Ÿä¼šå˜å¾—éš¾ä»¥åŒºåˆ†ã€‚</p><p>â€œè¿™ä¹Ÿè®°ã€é‚£ä¹Ÿè®°â€â€œå…ˆè®°ä¸‹å†è¯´â€â€œè¯´ä¸å®šä»¥åä¼šç”¨åˆ°â€â€¦â€¦æŒ‰ç…§è¿™æ ·çš„æƒ³æ³•è®°ç¬”è®°çš„è¯ï¼Œè®°åœ¨ç¬”è®°ä¸Šçš„ä¿¡æ¯æ—¥åè¢«ä½¿ç”¨çš„æ¦‚ç‡å‡ ä¹ä¸ºé›¶ã€‚</p><h4 id="9-â˜…ä»£è°¢ä¸è‰¯ç¬”è®°æœ¬çš„åå¤„"><a href="#9-â˜…ä»£è°¢ä¸è‰¯ç¬”è®°æœ¬çš„åå¤„" class="headerlink" title="9. â˜…ä»£è°¢ä¸è‰¯ç¬”è®°æœ¬çš„åå¤„"></a>9. â˜…ä»£è°¢ä¸è‰¯ç¬”è®°æœ¬çš„åå¤„</h4><p>å¦‚æœä»€ä¹ˆéƒ½è®°ã€ä¹Ÿä¸è¿›è¡Œæ•´ç†æ€»ç»“ï¼Œè¿™æ ·è®°å½•çš„ç¬”è®°åªæ˜¯æ‘˜æŠ„ç½¢äº†ï¼Œå°±åƒä¸­å­¦æ—¶ä½¿ç”¨çš„æ‘˜æŠ„æœ¬ï¼Œ å¦‚æœä¸å¯¹æ‘˜æŠ„è¿›è¡Œåˆ†ç±»ï¼Œä¸æ—¶å¸¸å»ç¿»çœ‹ï¼Œæ‘˜æŠ„çš„å†…å®¹æ˜¯ä¸ä¼šè¢«å®Œæ•´åœ°å­˜å‚¨åˆ°è®°å¿†å½“ä¸­ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;2017å¹´è¯»çš„ç¬¬ä¸€æœ¬ä¹¦ï¼Œè¯»å®Œäº†ä¸€ç›´æ²¡æœ‰å†™è¯»ä¹¦ç¬”è®°ï¼Œæ‹–å»¶åˆ°ä»Šå¤©ï¼Œæ‰å‹‰å¼ºå†™å®Œã€‚ä¸­é€”çœ‹åˆ°ã€Šå¦‚ä½•æœ‰æ•ˆé˜…è¯»ä¸€æœ¬ä¹¦ã€‹ï¼Œå°±ä¸€èµ·è¯»äº†ï¼Œå­¦å­¦è¯»ä¹¦ç¬”è®°çš„å†™æ³•ã€‚    &lt;/p&gt;
&lt;p&gt;æ­¤ä¹¦ä¸»è¦è®²äº†ç¬”è®°æœ¬å¯¹äºç¬”è®°çš„å½±å“ï¼Œå¥½çš„ç¬”è®°æœ¬è®©ç¬”è®°å‘æŒ¥å®ƒåº”æœ‰çš„åŠŸèƒ½ï¼Œè€Œä¸å¥½çš„ç¬”è®°æœ¬ä½“ç°ä¸å‡ºç¬”è®°çš„ä»·å€¼æ‰€åœ¨ã€‚ä½œè€…ä»¥ä¸‰ä¸ªè‘—åæœºæ„ä½¿ç”¨çš„ç¬”è®°æœ¬ä¸ºä¾‹ï¼Œåˆ—ä¸¾äº†æ–¹æ ¼ç¬”è®°æœ¬çš„ç§ç§ç›Šå¤„ï¼Œå¹¶é€šè¿‡é…å›¾çš„æ–¹å¼ï¼Œè®©è¯»è€…ä¸€ç›®äº†ç„¶åœ°äº†è§£æ–¹æ ¼ç¬”è®°æœ¬è®°å½•ç¬”è®°çš„æ–¹å¼ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="è¯»ä¹¦" scheme="http://nullpointer.pw/categories/%E8%AF%BB%E4%B9%A6/"/>
    
    
      <category term="è¯»ä¹¦" scheme="http://nullpointer.pw/tags/%E8%AF%BB%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šå¦‚ä½•æœ‰æ•ˆé˜…è¯»ä¸€æœ¬ä¹¦:è¶…å®ç”¨è¯»ä¹¦ç¬”è®°æ³•ã€‹è¯»ä¹¦ç¬”è®°</title>
    <link href="http://nullpointer.pw/%E3%80%8A%E5%A6%82%E4%BD%95%E6%9C%89%E6%95%88%E9%98%85%E8%AF%BB%E4%B8%80%E6%9C%AC%E4%B9%A6%EF%BC%9A%E8%B6%85%E5%AE%9E%E7%94%A8%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E6%B3%95%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.html"/>
    <id>http://nullpointer.pw/ã€Šå¦‚ä½•æœ‰æ•ˆé˜…è¯»ä¸€æœ¬ä¹¦ï¼šè¶…å®ç”¨è¯»ä¹¦ç¬”è®°æ³•ã€‹è¯»ä¹¦ç¬”è®°.html</id>
    <published>2017-01-15T12:37:00.000Z</published>
    <updated>2017-12-03T10:58:20.561Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹°å®ŒKindleè¯»çš„ç¬¬ä¸‰æœ¬ä¹¦ï¼Œä½œè€…çš„è§‚ç‚¹éƒ¨åˆ†é€‚ç”¨äºç°åœ¨çš„æˆ‘ï¼Œå¯èƒ½æ˜¯ç”±äºç¯å¢ƒçš„ä¸åŒï¼ˆä½œè€…åœ¨æ—¥æœ¬ï¼‰ã€‚<br>ä½œè€…æå€¡ä½¿ç”¨çº¸è´¨ç¬”è®°æœ¬æ¥è®°å½•è¯»ä¹¦ç¬”è®°ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªå‡ºé—¨ä¸å–œæ¬¢èƒŒåŒ…çš„äººæ¥è¯´ï¼Œè¿™å¾ˆmuli~<br>åŸæ–‡å¯¹äºå¦‚ä½•é€‰ä¹¦ã€è´­ä¹¦è¯´äº†å¾ˆå¤šï¼Œå¯¹äºå¦‚ä½•è®°ç¬”è®°çš„å†…å®¹ä¸å¤ªå¤šï¼Œä¸è¿‡ï¼Œè¿˜æ˜¯å¾ˆæœ‰å‚è€ƒä»·å€¼ã€‚</p><a id="more"></a><table><thead><tr><th>ä¹¦å</th><th>ä½œè€…</th><th>å¼€å§‹æ—¶é—´</th><th>ç»“æŸæ—¶é—´</th></tr></thead><tbody><tr><td>å¦‚ä½•æœ‰æ•ˆé˜…è¯»ä¸€æœ¬ä¹¦ï¼šè¶…å®ç”¨è¯»ä¹¦ç¬”è®°æ³•</td><td>å¥¥é‡å®£ä¹‹</td><td>2017.01.11</td><td>2017.01.15</td></tr></tbody></table><h1 id="ä¸€ã€è´­ä¹¦"><a href="#ä¸€ã€è´­ä¹¦" class="headerlink" title="ä¸€ã€è´­ä¹¦"></a>ä¸€ã€è´­ä¹¦</h1><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/17-1-15/34562477-file_1484461118342_161ce.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>â˜†åªæœ‰ä»æ—¥å¸¸ç”Ÿæ´»ä¸­å–æï¼Œæ‰èƒ½åˆ—å‡ºåæ˜ è‡ªå·±çœŸæ­£éœ€æ±‚çš„è´­ä¹¦æ¸…å•ã€‚</p><p>â˜… ä¹¦å•å†…å®¹æ¥æºäºç”Ÿæ´»ï¼Œå¯èƒ½æ˜¯åˆ«äººçš„æ¨èã€ä¹Ÿå¯èƒ½æ˜¯å®£ä¼ ã€æˆ–è€…è‡ªå·±è„‘æµ·ä¸­è¹¦å‡ºçš„å…³é”®è¯ã€‚æ”¶é›†è¿™äº›å†…å®¹ï¼Œè¿™æ ·åˆ°äº†ä¹¦åº—ï¼Œåœ¨ä¹¦æµ·ä¸­å°±ä¸ä¼šèŒ«ç„¶è‹¥å¤±ï¼Œä¸çŸ¥é“æƒ³è¦ä¹°äº›ä»€ä¹ˆæ ·çš„ä¹¦äº†ã€‚<strong>æœ‰ç›®çš„åœ°é€›ä¹¦åº—ï¼Œä¹°è‡ªå·±æƒ³è¦çš„ä¹¦</strong></p><h1 id="äºŒã€å¦‚ä½•åšè¯»ä¹¦ç¬”è®°"><a href="#äºŒã€å¦‚ä½•åšè¯»ä¹¦ç¬”è®°" class="headerlink" title="äºŒã€å¦‚ä½•åšè¯»ä¹¦ç¬”è®°"></a>äºŒã€å¦‚ä½•åšè¯»ä¹¦ç¬”è®°</h1><h2 id="1-åšæŒåšè¯»ä¹¦ç¬”è®°"><a href="#1-åšæŒåšè¯»ä¹¦ç¬”è®°" class="headerlink" title="1)åšæŒåšè¯»ä¹¦ç¬”è®°"></a>1)åšæŒåšè¯»ä¹¦ç¬”è®°</h2><p>â˜† 2013å¹´8æœˆ5æ—¥ï¼Œæˆ‘è¯»äº†ã€ŠXXXXã€‹ã€‚è¿™æœ¬ä¹¦æ¯”æˆ‘æƒ³è±¡ä¸­æœ‰æ„æ€ã€‚  </p><p>å¦‚æœå†™å¾—è¿™æ ·ç®€å•ï¼Œå°±æ›´å®¹æ˜“åšæŒä¸‹å»äº†.ç¬¬ä¸€æ­¥è¦åšåˆ°çš„å°±æ˜¯åšæŒä¸‹å»ï¼Œæ¯«ä¸å¤¸å¼ åœ°è¯´ï¼Œåªæœ‰åšæŒä¸‹å»ï¼Œè¯»ä¹¦ç¬”è®°æ‰èƒ½å‘æŒ¥ä½œç”¨ã€‚è¯»ä¹¦æ—¶åº”è¯¥æ—¶åˆ»è®°å¾—è¿™ä¸ªç›®çš„ï¼Œæ­£ç¡®åœ°å¯¹å¾…å†™è¯»ä¹¦ç¬”è®°è¿™ä»¶äº‹ã€‚  </p><p>äººä»¬ç»å¸¸è¯´â€œä½ ä¸ºåˆ«äººè®²è§£ä¹¦ä¸­çš„å†…å®¹æ—¶ï¼Œæ‰ä¼šçœŸæ­£ç†è§£å®ƒã€‚â€æŠŠè®°è¯»ä¹¦ç¬”è®°ä½œä¸ºç›®æ ‡å»è¯»ä¹¦ï¼Œå¾—åˆ°çš„æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚å½“ä½ <strong>ä»¥æ€æƒ³è¾“å‡ºä¸ºå‰æ</strong>å»è¯»ä¹¦æ—¶ï¼Œæ€æƒ³è¾“å…¥çš„è´¨é‡ä¹Ÿä¼šæœ‰æ‰€æå‡ï¼Œè€Œä¸”äº²æ‰‹å†™æ–‡ç« çš„å¥½å¤„æ¯”å£å¤´å™è¿°è¦å¤šã€‚</p><p>â˜… åˆšå¼€å§‹å­¦ä¹ åšè¯»ä¹¦ç¬”è®°æ—¶ï¼Œä¸å¿…è‹›åˆ»è‡ªå·±è¦åšå¾—å¤šä¹ˆå¥½ï¼Œæ€»ç»“å¾—å¤šä¹ˆå¦™ï¼Œæœ€å¼€å§‹çš„æ—¶å€™ï¼Œæœ€é‡è¦çš„æ˜¯åŸ¹å…»è‡ªå·±åšè¯»ä¹¦ç¬”è®°çš„ä¹ æƒ¯ã€‚è¯»ä¹¦ç¬”è®°ä¸»è¦æ˜¯å¯¹è‡ªå·±è¯»ä¹¦çš„ä¸€ç§æ€»ç»“ï¼Œå¸æ”¶ä¹¦ä¸­çš„ç²¾åï¼Œè€Œå¹¶éæ˜¯ä¸ºäº†ä»–äººè€Œå†™ã€‚</p><h2 id="2-è¯»ä¹¦ç¬”è®°ä»ä¸€å¥è¯å¼€å§‹"><a href="#2-è¯»ä¹¦ç¬”è®°ä»ä¸€å¥è¯å¼€å§‹" class="headerlink" title="2)è¯»ä¹¦ç¬”è®°ä»ä¸€å¥è¯å¼€å§‹"></a>2)è¯»ä¹¦ç¬”è®°ä»ä¸€å¥è¯å¼€å§‹</h2><p>â˜† ä¹¦å†™è¿™ä¸€åŠ¨ä½œï¼Œä¹Ÿæœ‰æ•´ç†è‡ªå·±æƒ³æ³•çš„å«ä¹‰ã€‚  </p><p>ä¸¾ä¸ªä¾‹å­ï¼Œè¯»å®Œå†’é™©é¢˜æçš„çºªå®æ–‡å­¦ä»¥åï¼Œå°±ä¼šæƒ³åœ¨è¯»ä¹¦ç¬”è®°é‡Œå†™ä¸Šâ€œ<strong>è¿™ä¸ªäººçœŸå‰å®³</strong>â€ã€‚ä½ æ‹¿èµ·ç¬”æ—¶ï¼Œä¼šæƒ³åˆ°ã€‚ç­‰ä¸€ä¸‹ï¼Œä¸å†™ä¸Šè¿™ä¸ªäººæ˜¯å“ªé‡Œå‰å®³ã€ä¸ºä»€ä¹ˆå‰å®³çš„è¯ï¼Œä¸‹æ¬¡å†è¯»åˆ°è¿™å¥è¯æ—¶ä¼šçœ‹ä¸æ‡‚å§â€ï¼Œäºæ˜¯ä½ ä¼šè¿™æ ·å†™<br>ä½œè€…çš„ä½“åŠ›å’Œç²¾ç¥æ‰¿å—åŠ›éƒ½å¤ªå¼ºäº†ã€‚æ™®é€šäººåœ¨å¤±æ˜åä¸€å®šä¼šæ„Ÿåˆ°ç»æœ›ï¼Œå°±ç®—ä»–æ¯”ä¸€èˆ¬äººå¼ºå£®ï¼Œåœ¨è¿™æ ·çš„ç¯å¢ƒä¸‹ä¹Ÿå¾ˆéš¾ç”Ÿè¿˜ã€‚ä¸ºä»€ä¹ˆä½œè€…å¯ä»¥å¦‚æ­¤åšå¼º?  </p><p>æœ¬æ¥åªæƒ³å†™ä¸€å¥è¯ï¼Œå´æŠŠè‡ªå·±çš„æ„Ÿå—ä¸€è‚¡è„‘å„¿åœ°å†™äº†ä¸‹æ¥ï¼Œå¹¶ç”±æ­¤å±•å¼€æ€è€ƒï¼Œè¯»ä¹¦ç¬”è®°å°±è¿™æ ·å……å®äº†èµ·æ¥ã€‚</p><p>â˜… ä¸€ç¯‡ä¸Šä¸‡å­—çš„æ–‡ç« ä¹Ÿæ˜¯ä»ä¸€å¥è¯å¼€å§‹çš„ï¼Œä¸Šç™¾ä¸‡å­—çš„å°è¯´å¯èƒ½ä¹Ÿåªæ˜¯é€šè¿‡ä¸€ä»½ä¸è¿‡åƒå­—çš„å¤§çº²é€æ¸æ‰©å±•è€Œæ¥ã€‚ä¸æ€•å†™ä¸å‡ºä¸€ä¸‡å­—çš„é•¿æ–‡ï¼Œåªæ€•è¿ä¸€å¥æœ€æœ€ç®€å•çš„è¯éƒ½ä¸å†™ã€‚</p><h2 id="3-æ— æ³•åšæŒåšç¬”è®°çš„åŸå› "><a href="#3-æ— æ³•åšæŒåšç¬”è®°çš„åŸå› " class="headerlink" title="3)æ— æ³•åšæŒåšç¬”è®°çš„åŸå› "></a>3)æ— æ³•åšæŒåšç¬”è®°çš„åŸå› </h2><p>â˜† éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåƒä¸‡ä¸è¦ä¸ºäº†åšæŒå†™è¯»ä¹¦ç¬”è®°è€Œèµ°å½¢å¼ä¸»ä¹‰ã€‚ä¸ç®¡é‡‡ç”¨ä»€ä¹ˆæ–¹å¼ï¼Œéƒ½è¦è¸å®åœ°å†™ç¬”è®°ï¼Œå¹¶çœŸæ­£ç†è§£ä¹¦çš„å†…å®¹ã€‚</p><p>â˜… å¹¶éå¦‚ä½œè€…æ‰€è¯´ï¼Œæˆ‘ä»¬ä¸å¯èƒ½çœŸæ­£ç†è§£æ‰€æœ‰è¯»è¿‡çš„ä¹¦çš„å†…å®¹ï¼Œä½†æ˜¯å†™ç¬”è®°ä¸€å®šè¦è¸å®åœ°å»åšä¾¿æ˜¯ã€‚</p><h1 id="ä¸‰-åšç¬”è®°çš„æ­¥éª¤"><a href="#ä¸‰-åšç¬”è®°çš„æ­¥éª¤" class="headerlink" title="ä¸‰) åšç¬”è®°çš„æ­¥éª¤"></a>ä¸‰) åšç¬”è®°çš„æ­¥éª¤</h1><h2 id="1-é’ˆå¯¹çº¸è´¨ä¹¦"><a href="#1-é’ˆå¯¹çº¸è´¨ä¹¦" class="headerlink" title="1) é’ˆå¯¹çº¸è´¨ä¹¦"></a>1) é’ˆå¯¹çº¸è´¨ä¹¦</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/17-1-15/68426691-file_1484463761370_db52.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>â˜… åˆšå¼€å§‹è®¤ä¸ºè¿™æ ·æ˜¯å¯¹äºä¹¦çš„ä¸€ç§ä¸çˆ±æŠ¤çš„è¡¨ç°ï¼Œç°åœ¨æ‰è§‰å¾—å…¶å®è¿™ä¹ˆåšçš„æ–¹å¼å¹¶æ²¡æœ‰å¤šä¹ˆä¸å¥½ï¼Œå‰ææ˜¯ä¹¦çš„ä¸»äººæ˜¯è‡ªå·±ã€‚ä¸å…¶çœ‹è¿‡ä¸€éå°±æ‰”æ‰æˆ–è€…å†ä¹Ÿä¸çœ‹ï¼›ä¸å¦‚è®©çœ‹è¿‡çš„ä¹¦ç•™ä¸‹è‡ªå·±è¯»è¿‡çš„ç—•è¿¹ï¼Œæ›´å¥½çš„å¸æ”¶ä¹¦ä¸­çš„å†…å®¹ã€‚</p><h2 id="2-é’ˆå¯¹ç”µå­ä¹¦Kindle"><a href="#2-é’ˆå¯¹ç”µå­ä¹¦Kindle" class="headerlink" title="2) é’ˆå¯¹ç”µå­ä¹¦Kindle"></a>2) é’ˆå¯¹ç”µå­ä¹¦Kindle</h2><p>â˜… ä»¥ä¸‹é’ˆå¯¹Kindleçš„éƒ¨åˆ†ä¸ºä¸ªäººæ€»ç»“ï¼Œä¹¦ä¸­å¹¶æœªæåŠã€‚</p><h3 id="1-é€šè¯»"><a href="#1-é€šè¯»" class="headerlink" title="1.é€šè¯»:"></a>1.é€šè¯»:</h3><p>æŠŠè¯»èµ·æ¥è§‰å¾—ä¸é”™çš„é‚£ä¸€é¡µçš„ä¸­é—´éƒ¨åˆ†çš„ä¸¤ä¸ªå­—åŠ å…¥ç¬”è®°ã€ç¬”è®°å†…å®¹ä¸º1ï¼ˆ1åªæ˜¯åšçš„ä¸€ä¸ªæ ‡è®°ï¼‰</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/17-1-15/26283815-file_1484464293276_bf8f.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure>  <p>ç”±äºKindleåœ¨æ·»åŠ ç¬”è®°æ—¶ä¼šåŒæ—¶æ’å…¥ä¸€æ¡ç¬”è®°å’Œä¸€æ¡æ ‡æ³¨è®°å½•ã€æ‰€ä»¥éœ€è¦åˆ é™¤æ ‡è®°é‚£æ¡è®°å½•ã€‚åˆ é™¤ç¬¬ä¸€æ¡è®°å½•ã€ä¿ç•™ç¬”è®°å†…å®¹ä¸º1çš„è®°å½•ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/17-1-15/18334103-file_1484464451004_11366.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="2-é‡è¯»"><a href="#2-é‡è¯»" class="headerlink" title="2.é‡è¯»"></a>2.é‡è¯»</h3><p>è¯»å®Œä¸€éä¹‹åï¼Œå†æŠŠç¬”è®°åˆ—è¡¨ä¸­çš„å‡ é¡µé‡æ–°è¯»ä¸€éã€‚å¦‚æœä»ç„¶è§‰å¾—å¾ˆå¥½ï¼Œæ·»åŠ ä¹¦ç­¾</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/17-1-15/61173486-file_1484464665024_11516.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="3-æ ‡è®°"><a href="#3-æ ‡è®°" class="headerlink" title="3.æ ‡è®°"></a>3.æ ‡è®°</h3><p>å†é‡æ–°è¯»ä¸€éåŠ æœ‰ä¹¦ç­¾çš„å‡ é¡µï¼Œå¦‚æœç¬¬ä¸‰æ¬¡é˜…è¯»åä»ç„¶è§‰å¾—å€¼å¾—ä¸€è¯»ï¼Œå°±ç”¨æ ‡è®°åŠŸèƒ½åœ¨ä¸Šé¢åšè®°å·ã€‚<br>æœ€åç•™ä¸‹æ¥çš„å°±æ˜¯ä½ è®¤ä¸ºæœ€æœ‰ç”¨çš„éƒ¨åˆ†äº†ã€‚è¿™ä¸€é¡µä¸Šä¼šæœ‰é€šè¯»æ­¥éª¤çš„ç¬”è®°è®°å½•ã€æœ‰é‡è¯»æ­¥éª¤åŠ çš„ä¹¦ç­¾ã€æœ‰æ ‡è®°æ­¥éª¤æ—¶åˆ’çš„æ ‡è®°ã€‚</p><p>å¯ä»¥é€šè¿‡<a href="http://kmate.me/cn/" target="_blank" rel="noopener">Kindle Mate</a>è¿™ä¸ªè½¯ä»¶å°†æ ‡è®°çš„å†…å®¹å¯¼å‡ºæ¥ï¼Œä¾¿äºåšè¯»ä¹¦ç¬”è®°ã€‚è¯»ä¹¦ç¬”è®°å¯ä»¥ç”¨æœ‰é“äº‘ç¬”è®°ï¼Œä¸ªäººä½¿ç”¨æœ‰é“äº‘çš„Markdownåšç¬”è®°ï¼Œå¦‚æœæƒ³ä¿å­˜Kindleç”µå­ä¹¦ä¸­çš„å›¾ç‰‡ï¼Œå¯ä»¥æŒ‰ä½å·¦ä¸‹è§’å’Œå³ä¸Šè§’è¿›è¡Œæˆªå›¾ï¼Œä¼šè‡ªåŠ¨ä¿å­˜ï¼Œè¿æ¥ç”µè„‘åKindelæ‰€åœ¨ç›˜çš„æ ¹ç›®å½•å¯ä»¥æ‰¾åˆ°ã€‚</p><h1 id="å››-è‘±é²”-wei-é”…å¼è¯»ä¹¦ç¬”è®°"><a href="#å››-è‘±é²”-wei-é”…å¼è¯»ä¹¦ç¬”è®°" class="headerlink" title="å››)è‘±é²”[wÄ›i]é”…å¼è¯»ä¹¦ç¬”è®°"></a>å››)è‘±é²”[wÄ›i]é”…å¼è¯»ä¹¦ç¬”è®°</h1><p>â˜† <strong>è‘±é²”ç«é”…å¼è¯»ä¹¦ç¬”è®°=æ‘˜æŠ„+è¯„è®º</strong><br>å†™è¯»ä¹¦ç¬”è®°ä¹‹å‰æ³¨æ„çš„ä¸‰ä¸ªäº‹é¡¹:</p><ol><li><p>å†™è¯»ä¹¦ç¬”è®°çš„æ—¥æœŸ</p></li><li><p>ä¹¦å</p></li><li><p>ä½œè€…å  </p><p>é™¤äº†ä»¥ä¸Šä¸‰ä¸ªè¦ç´ ã€ä¹Ÿå¯ä»¥åŠ ä¸Šä»¥ä¸‹ä¸¤ä¸ªè¦ç´ ã€‚</p></li><li><p>å¯¹è‡ªå·±æ¥è¯´é‡è¦çš„å†…å®¹ï¼ˆæ‘˜æŠ„ï¼‰</p></li><li><p>è‡ªå·±å¯¹è¿™ç¯‡æ–‡ç« çš„æ„Ÿæƒ³ï¼ˆè¯„è®ºï¼‰  </p></li></ol><p>æ­¥éª¤:</p><ol><li>å†™ä¸Šæ—¥æœŸï¼Œæ¯æ¬¡æ¢è¡Œéƒ½è¦ç•™ä¸€è¡Œç©ºç™½ï¼Œè€Œæ¯ä¸ªæ®µè½ä¹‹é—´ç•™ä¸¤è¡Œç©ºç™½ï¼Œä¾¿äºæ—¥åé‡è¯»ã€æ’å…¥æ–‡å­—å’Œæ›´æ­£ä¿®æ”¹ã€‚</li><li>æ‘˜æŠ„å’Œå†™è¯„è®ºï¼Œé‡è¯»åšè¿‡è®°å·çš„å†…å®¹ï¼Œä¸¥æ ¼ç­›é€‰å‡ºè‡ªå·±è®¤ä¸ºå¯ä»¥å¤šè¯»å‡ éçš„éƒ¨åˆ†ã€æœ€ååœ¨æ‘˜æŠ„å®Œçš„æ–‡ç« åé¢ç•™å‡ºä¸€äº›ç©ºç™½ï¼Œå†™ä¸Šè‡ªå·±çš„è¯„è®ºã€‚æ‘˜æŠ„éƒ¨åˆ†ç”¨â˜†è¡¨ç¤ºï¼Œè€Œç”¨è‡ªå·±è¯­è¨€è¡¨è¾¾çš„æ„Ÿæƒ³å’Œè¡¥å……è¯´æ˜åˆ™æ ‡ä¸Šâ˜…ä»¥æ­¤ä½œä¸ºåŒºåˆ†ï¼Œäº¤æ›¿æ ‡åœ¨æ¯ä¸ªæ®µè½å‰ã€‚</li></ol><h1 id="äº”-ç¤ºä¾‹"><a href="#äº”-ç¤ºä¾‹" class="headerlink" title="äº”)ç¤ºä¾‹"></a>äº”)ç¤ºä¾‹</h1><p>ã€080715ã€‘ã€Šå†³å®šäººç±»æœªæ¥çš„50ä»¶äº‹ã€‹/æ°è¥¿å¡Â·å¨å»‰å§†æ–¯/è‰æ€ç¤¾  </p><p>â˜†è‡ªæ€è€…ä¸­æœ‰ä¸‰åˆ†ä¹‹äºŒæ˜¯å› ä¸ºæŠ‘éƒã€‚(P180)  </p><p>â˜…ä½œè€…è¯´ï¼Œä¸–ç•Œä¸Šçš„è‡ªæ€è€…æ¯”åœ¨æˆ˜äº‰ä¸­æ­»å»çš„äººè¿˜è¦å¤šã€‚äººç±»åœ¨æˆ˜äº‰å¹³ä»£ä¼šæ­»äº¡ï¼Œåœ¨å’Œå¹³å¹´ä»£ä¹Ÿä¼šæ­»äº¡ï¼ŒçœŸæ˜¯ä¸å®¹æ˜“ã€‚</p><p>â˜†æ‰€è°“å¥´éš¶ï¼Œå°±æ˜¯è¢«å‰¥å¤ºäº†äººæƒçš„äººã€‚å³ä½¿æ˜¯è¿™æ ·ï¼Œå¥´éš¶ç¤¾ä¼šä¸­ä¹Ÿå­˜åœ¨å¯¹å¾…å¥´éš¶äººæ€§åŒ–çš„æƒ…å†µï¼Œå¥´éš¶ä»¬åœ¨é¥¥é¥¿æˆ–è€…ç”Ÿç—…çš„æ—¶å€™æ˜¯å¯ä»¥ä¸å·¥ä½œçš„ã€‚ä½†åœ¨ç°ä»£ç¤¾ä¼šã€å¥´éš¶å°±æ˜¯ä¸€æ¬¡æ€§çš„è´¢äº§ï¼Œè¢«è´±ä¹°è´±å–ã€‚</p><p>â˜…ä»¥å‰çš„å¥´éš¶æ˜¯é•¿æœŸé›‡ä½£åˆ¶ï¼Œè€Œç°åœ¨çš„åˆ™æ˜¯å› ä¸ºæŠµæŠ¼è´·æ¬¾è€Œè¢«äººèº«ä¹°å–ã€‚ä¸ºäº†äº‹åä¸ç•™éº»çƒ¦ï¼Œå¥´éš¶ä»¬è¢«é€å»åšåˆåŒå·¥æˆ–é›¶å·¥ï¼Œè¢«ä»»æ„é©±ä½¿ã€‚ä¸€ä¸ªäººæ´»åœ¨ä¸–ä¸Šï¼Œæœ€ä¸å¯æˆ–ç¼ºçš„åˆ°åº•æ˜¯äººæƒè¿˜æ˜¯é‡‘é’±å‘¢?</p><p>â€œâ˜†â€ã€‚åé¢æ˜¯æ‘˜æŠ„ã€‚æ³¨æ„ä¸è¦çœç•¥ï¼Œè¦ä¿æŒåŸæ±åŸå‘³ã€‚</p><p>â€œâ˜…â€åé¢åˆ™æ˜¯è‡ªå·±çš„è¯„è®ºï¼Œå†™ä¸€äº›å¯¹æ‘˜æŠ„å†…å®¹çš„æ„Ÿæƒ³</p><p>å¹¶éæ‰€æœ‰çš„ä¹¦éƒ½è¦æŒ‰ç…§è¿™ç§æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ ¹æ®å¯¹ä½œå“çš„é‡è§†ç¨‹åº¦æ”¹å˜ç¬”è®°çš„å†™æ³•</p><p>æ¯”å¦‚åƒâ€œæ–‡ä»¶æ•´ç†æŠ€å·§â€ä¸€ç±»çš„çº¯å®ç”¨æŠ€å·§ä¹¦ã€å¯ä»¥ä¸å»æ‘˜æŠ„ï¼Œè€Œæ˜¯åªæ ‡è®°â€œâ˜…â€å¹¶æ€»ç»“è¦ç‚¹ã€‚å¦‚æœæ˜¯å°è¯´ç­‰ä¼‘é—²è¯»ç‰©ï¼Œå¯ä»¥ç›´æ¥åˆ†æ¡ä¹¦å†™è‡ªå·±å¯¹è¿™æœ¬ä¹¦çš„æ„Ÿæƒ³ã€‚</p><h1 id="å…­-å¯»æ‰¾æœ€å…·ä»£è¡¨æ€§çš„è¯­å¥"><a href="#å…­-å¯»æ‰¾æœ€å…·ä»£è¡¨æ€§çš„è¯­å¥" class="headerlink" title="å…­)å¯»æ‰¾æœ€å…·ä»£è¡¨æ€§çš„è¯­å¥"></a>å…­)å¯»æ‰¾æœ€å…·ä»£è¡¨æ€§çš„è¯­å¥</h1><ol><li>â˜† åªæœ‰è®©è‡ªå·±æ„ŸåŠ¨çš„æ®µè½æ‰å€¼å¾—æ‘˜æŠ„ï¼Œä¸€å®šæ˜¯æ‘˜æŠ„è®©è‡ªå·±å¿ƒåŠ¨çš„è¯­å¥ã€‚</li><li>å¦ä¸€æ–¹é¢ï¼Œé€‰æ‹©æ‘˜æŠ„æ®µè½æ—¶ï¼Œä¸æ˜¯æ‰¾è®©äººè§‰å¾—â€œç†åº”å¦‚æ­¤â€çš„æ–‡ç« ï¼Œè€Œæ˜¯è§‰å¾—â€œè¿™ä¹ˆä¸€è¯´ç¡®å®æœ‰é“ç†â€çš„å†…å®¹ã€‚</li></ol><p>è¯»è¿‡ä¸€æœ¬ä¹¦ä»¥åï¼Œå¯¹ä¹¦ä¸­å†…å®¹æ„ŸåŒèº«å—å›ºç„¶è®©äººå¿ƒæƒ…æ„‰æ‚¦ï¼Œä½†è¿™ä¹Ÿä»£è¡¨è¿™æ¬¡è¯»ä¹¦æ²¡æœ‰ç»™ä½ å¸¦æ¥æ–°ä¸œè¥¿ã€‚ç›¸åï¼Œå¦‚æœä¸€ç¯‡æ–‡ç« é¢ è¦†äº†ä½ ä¹‹å‰çš„æƒ³æ³•ï¼Œä½¿ä½ çš„è®¤è¯†å‘ç”ŸåŠ¨æ‘‡ï¼Œåœ¨æŠ„å†™å’Œé‡è¯»çš„è¿‡ç¨‹ä¸­ä»ç„¶ä¼šè®©äººä¿¡æœæˆ–æ˜¯æ„Ÿè§‰éœ‡æ’¼ï¼Œè¿™ç§æ–‡ç« æ‰æ˜¯å€¼å¾—æ‘˜æŠ„çš„ã€‚</p><h1 id="ä¸ƒ-æ¿€å‘æ€æƒ³çš„ç«èŠ±"><a href="#ä¸ƒ-æ¿€å‘æ€æƒ³çš„ç«èŠ±" class="headerlink" title="ä¸ƒ)æ¿€å‘æ€æƒ³çš„ç«èŠ±"></a>ä¸ƒ)æ¿€å‘æ€æƒ³çš„ç«èŠ±</h1><p>â˜† åœ¨æ‘˜æŠ„çš„åŒæ—¶ï¼Œé™„ä¸Šè‡ªå·±çš„æ„Ÿæƒ³å’Œæ€è€ƒï¼ŒæŠŠä½œè€…çš„è¯å’Œè‡ªå·±çš„è¯æ”¾åœ¨ä¸€èµ·ï¼Œæ„Ÿå—è½å·®ã€‚å¥½ä¸»æ„ä¸ä¼šå‡­ç©ºå‡ºç°ã€‚ä¸è®ºæ˜¯ä»€ä¹ˆæƒ³æ³•ï¼Œéƒ½ä¸€å®šæ˜¯å¯¹æŸç§åˆºæ¿€åšå‡ºçš„å›åº”ã€‚<br>åªæœ‰åœ¨è¯»å®Œä¹¦åå¯¹ä¹¦ä¸­å†…å®¹åšå‡ºååº”ï¼Œè¿›è¡Œä¸»åŠ¨æ€è€ƒï¼Œæ‰èƒ½çœŸæ­£æŒæ¡è¿™æœ¬ä¹¦çš„å†…å®¹ã€‚  </p><p>ä¸¤ä¸ªæ¦‚å¿µ</p><p>â€œå¸å–ç²¾åâ€:åŸå°ä¸åŠ¨åœ°å¸å–ä¹¦ä¸Šçš„çŸ¥è¯†ã€‚</p><p>â€œè¯»ä¹¦ä½“éªŒâ€:</p><p>  â— â€œä¹¦ä¸Šå†™çš„è¿™äº›ï¼Œæˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„â€</p><p>  â— â€œä»¥æ­¤ä¸ºå¥‘æœºï¼Œæˆ‘æƒ³åˆ°äº†ä¸€ä»¶äº‹â€¦â€¦â€</p><p>â˜… æ²¡æœ‰ä¸»åŠ¨æ€è€ƒçš„é˜…è¯»ï¼Œä¹¦ä¸­çš„å†…å®¹è¢«æŒæ¡çš„æå…¶æœ‰é™ï¼Œç”šè‡³äºæœªè¯»è¿‡ä¸€æ ·ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹°å®ŒKindleè¯»çš„ç¬¬ä¸‰æœ¬ä¹¦ï¼Œä½œè€…çš„è§‚ç‚¹éƒ¨åˆ†é€‚ç”¨äºç°åœ¨çš„æˆ‘ï¼Œå¯èƒ½æ˜¯ç”±äºç¯å¢ƒçš„ä¸åŒï¼ˆä½œè€…åœ¨æ—¥æœ¬ï¼‰ã€‚&lt;br&gt;ä½œè€…æå€¡ä½¿ç”¨çº¸è´¨ç¬”è®°æœ¬æ¥è®°å½•è¯»ä¹¦ç¬”è®°ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªå‡ºé—¨ä¸å–œæ¬¢èƒŒåŒ…çš„äººæ¥è¯´ï¼Œè¿™å¾ˆmuli~&lt;br&gt;åŸæ–‡å¯¹äºå¦‚ä½•é€‰ä¹¦ã€è´­ä¹¦è¯´äº†å¾ˆå¤šï¼Œå¯¹äºå¦‚ä½•è®°ç¬”è®°çš„å†…å®¹ä¸å¤ªå¤šï¼Œä¸è¿‡ï¼Œè¿˜æ˜¯å¾ˆæœ‰å‚è€ƒä»·å€¼ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="è¯»ä¹¦" scheme="http://nullpointer.pw/categories/%E8%AF%BB%E4%B9%A6/"/>
    
    
      <category term="è¯»ä¹¦" scheme="http://nullpointer.pw/tags/%E8%AF%BB%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title>ç‚¹å‡»æŒ‰é’®æ‹·è´ä»£ç çš„å®ç°</title>
    <link href="http://nullpointer.pw/%E7%82%B9%E5%87%BB%E6%8C%89%E9%92%AE%E6%8B%B7%E8%B4%9D%E4%BB%A3%E7%A0%81%E7%9A%84%E5%AE%9E%E7%8E%B0.html"/>
    <id>http://nullpointer.pw/ç‚¹å‡»æŒ‰é’®æ‹·è´ä»£ç çš„å®ç°.html</id>
    <published>2016-10-09T06:33:00.000Z</published>
    <updated>2017-12-03T10:58:55.500Z</updated>
    
    <content type="html"><![CDATA[<p>ä¾‹å­ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ojt4b2cr5.bkt.clouddn.com/blog/20170216/071218636.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><hr><p>1ã€ headä¸­å¼•å…¥ä¸€ä¸ªjs <code>clipboard.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"//cdn.bootcss.com/clipboard.js/1.5.15/clipboard.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>2ã€åˆå§‹åŒ–å¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line"><span class="keyword">new</span> Clipboard(<span class="string">'.btn'</span>);<span class="comment">//æ­¤å¤„btnæ˜¯copyæŒ‰é’®çš„id</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>3ã€ä½¿ç”¨copy</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-6 col-md-8 col-sm-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control"</span>  <span class="attr">id</span>=<span class="string">"murl"</span> <span class="attr">value</span>=<span class="string">"$&#123;murl&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">data-clipboard-target</span>=<span class="string">"#murl"</span> &gt;</span>å¤åˆ¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">data-clipboard-target è¦å¤åˆ¶çš„ç›®æ ‡</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><blockquote><p><a href="http://clipboardjs.52fhy.com/" target="_blank" rel="noopener">http://clipboardjs.52fhy.com/</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;image-bubble&quot;&gt;
                &lt;div class=&quot;img-lightbox&quot;&gt;
                    &lt;div class=&quot;overlay&quot;&gt;&lt;/div&gt;
        
      
    
    </summary>
    
    
      <category term="JS" scheme="http://nullpointer.pw/tags/JS/"/>
    
  </entry>
  
  <entry>
    <title>Onsæ¶ˆæ¯é˜Ÿåˆ—</title>
    <link href="http://nullpointer.pw/Ons%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html"/>
    <id>http://nullpointer.pw/Onsæ¶ˆæ¯é˜Ÿåˆ—.html</id>
    <published>2016-10-02T04:17:00.000Z</published>
    <updated>2017-05-27T13:13:09.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Onsæ¶ˆæ¯é˜Ÿåˆ—"><a href="#Onsæ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="Onsæ¶ˆæ¯é˜Ÿåˆ—"></a>Onsæ¶ˆæ¯é˜Ÿåˆ—</h2><p><strong>å‰å¼•ï¼šå…¬å¸é¡¹ç›®éœ€è¦å†™ä¸€ä¸ªæ¨å¹¿ç³»ç»Ÿï¼Œæ¨å¹¿ç³»ç»Ÿæ˜¯ä¸€ä¸ªé¡¹ç›®ï¼Œå’Œä¸»é¡¹ç›®åˆ†ç¦»ï¼Œé¡¹ç›®é—´çš„é€šä¿¡ä½¿ç”¨Onsæ¥å®Œæˆï¼Œä»¥ä¸‹æ˜¯å…¬å¸ä»£ç ç•¥å¾®ä¿®æ”¹çš„ç»“æœï¼Œä»¥ä¾›å‚è€ƒã€‚</strong></p><a id="more"></a><blockquote><p>æœ¯è¯­ï¼š</p><p>Producerï¼šæ¶ˆæ¯ç”Ÿäº§è€…ï¼Œè´Ÿè´£äº§ç”Ÿæ¶ˆæ¯ï¼Œä¸€èˆ¬ç”±ä¸šåŠ¡ç³»ç»Ÿè´Ÿè´£äº§ç”Ÿæ¶ˆæ¯ã€‚</p><p>Consumerï¼šæ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œè´Ÿè´£æ¶ˆè´¹æ¶ˆæ¯ï¼Œä¸€èˆ¬æ˜¯åå°ç³»ç»Ÿè´Ÿè´£å¼‚æ­¥æ¶ˆè´¹ã€‚</p><p>Producer IDï¼šä¸€ç±» Producer çš„é›†åˆåç§°ï¼Œè¿™ç±» Producer é€šå¸¸å‘é€ä¸€ç±»æ¶ˆæ¯ï¼Œä¸å‘é€é€»è¾‘ä¸€è‡´ã€‚</p><p>Consumer IDï¼šä¸€ç±» Consumer çš„é›†åˆåç§°ï¼Œè¿™ç±» Consumer é€šå¸¸æ¶ˆè´¹ä¸€ç±»æ¶ˆæ¯ï¼Œä¸æ¶ˆè´¹é€»è¾‘ä¸€è‡´ã€‚</p><p>å¹¿æ’­æ¶ˆè´¹ï¼šä¸€æ¡æ¶ˆæ¯è¢«å¤šä¸ª Consumer æ¶ˆè´¹ï¼Œå³ä½¿è¿™äº› Consumer å±äºåŒä¸€ä¸ª Consumer IDï¼Œæ¶ˆæ¯ä¹Ÿä¼šè¢« Consumer IDä¸­çš„æ¯ä¸ª Consumer éƒ½æ¶ˆè´¹ä¸€æ¬¡ï¼Œå¹¿æ’­æ¶ˆè´¹ä¸­çš„ Consumer ID æ¦‚å¿µå¯ä»¥è®£ä¸ºåœ¨æ¶ˆæ¯åˆ’åˆ†æ–¹é¢æ— æ„ä¹‰ã€‚</p><p>é›†ç¾¤æ¶ˆè´¹ï¼šä¸€ä¸ª Consumer ID ä¸­çš„ Consumer å®ä¾‹å¹³å‡åˆ†æ‘Šæ¶ˆè´¹æ¶ˆæ¯ã€‚ ä¾‹å¦‚æŸä¸ª Topic æœ‰ 9 æ¡æ¶ˆæ¯ï¼Œ å…¶ä¸­ä¸€ä¸ª ConsumerId æœ‰ 3 ä¸ªå®ä¾‹ï¼ˆå¯èƒ½æ˜¯ 3 ä¸ªè¿›ç¨‹ï¼Œæˆ–è€… 3 å°æœºå™¨ï¼‰ ï¼Œé‚£ä¹ˆæ¯ä¸ªå®ä¾‹åªæ¶ˆè´¹å…¶ä¸­çš„ 3 æ¡æ¶ˆæ¯</p></blockquote><ul><li><p>å¼•å…¥ä¾èµ–</p><ul><li>Mavenæ–¹å¼</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.aliyun.openservices<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ons-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>jaråŒ…æ–¹å¼</p><p><code>http://onsall.oss-cn-hangzhou.aliyuncs.com/aliyun-ons-client-java.tar.gz</code></p></li></ul></li></ul><hr><h2 id="ä¸€ã€å‘é€æ¶ˆæ¯"><a href="#ä¸€ã€å‘é€æ¶ˆæ¯" class="headerlink" title="ä¸€ã€å‘é€æ¶ˆæ¯"></a>ä¸€ã€å‘é€æ¶ˆæ¯</h2><h3 id="1ã€åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é…ç½®-Topicã€Producer-IDï¼Œ-Consumer-ID"><a href="#1ã€åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é…ç½®-Topicã€Producer-IDï¼Œ-Consumer-ID" class="headerlink" title="1ã€åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é…ç½® Topicã€Producer IDï¼Œ Consumer ID"></a>1ã€åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é…ç½® Topicã€Producer IDï¼Œ Consumer ID</h3><h3 id="2ã€åˆ›å»ºOnsæ¶ˆæ¯ç”Ÿäº§è€…"><a href="#2ã€åˆ›å»ºOnsæ¶ˆæ¯ç”Ÿäº§è€…" class="headerlink" title="2ã€åˆ›å»ºOnsæ¶ˆæ¯ç”Ÿäº§è€…"></a>2ã€åˆ›å»ºOnsæ¶ˆæ¯ç”Ÿäº§è€…</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProducerService</span> <span class="keyword">implements</span> <span class="title">IProducerService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Producer producer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMessage</span><span class="params">(String topic, String tag, String content)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">byte</span>[] bytes = content.getBytes(<span class="string">"UTF-8"</span>);</span><br><span class="line">Message msg = <span class="keyword">new</span> Message(topic, tag, bytes);</span><br><span class="line"></span><br><span class="line">SendResult sendResult = producer.send(msg);</span><br><span class="line">System.out.println(<span class="string">"SendMessageIng... topic:"</span> + topic + <span class="string">" tag:"</span> + tag + <span class="string">" "</span>+ sendResult);</span><br><span class="line">&#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PostConstruct</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">                <span class="comment">//PropertyKeyConst æ˜¯Onså®˜æ–¹å®šä¹‰çš„å¸¸é‡</span></span><br><span class="line">               <span class="comment">//éœ€è¦åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°åˆ›å»º AccessKeyï¼ŒSecretKey</span></span><br><span class="line">properties.put(PropertyKeyConst.ProducerId, ProducerConstants.PRODUCERID_PCHOME);</span><br><span class="line">              <span class="comment">//PRODUCERID_PCHOMEæ˜¯åœ¨æ§åˆ¶å°é…ç½®Topic çš„ Producer ID</span></span><br><span class="line">properties.put(PropertyKeyConst.AccessKey, ProducerConstants.ACCESSID);</span><br><span class="line">properties.put(PropertyKeyConst.SecretKey, ProducerConstants.ACCESSKEY);</span><br><span class="line">producer = ONSFactory.createProducer(properties);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å‘é€æ¶ˆæ¯å‰ï¼Œå¿…é¡»è°ƒç”¨startæ–¹æ³•æ¥å¯åŠ¨Producerï¼Œåªéœ€è°ƒç”¨ä¸€æ¬¡å³å¯ã€‚</span></span><br><span class="line">producer.start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PreDestroy</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// åœ¨åº”ç”¨é€€å‡ºå‰ï¼Œé”€æ¯Producerå¯¹è±¡</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šå¦‚æœä¸é”€æ¯ä¹Ÿæ²¡æœ‰é—®é¢˜</span></span><br><span class="line">producer.shutdown();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3ã€åˆ›å»ºå‘é€æ¶ˆæ¯ç±»"><a href="#3ã€åˆ›å»ºå‘é€æ¶ˆæ¯ç±»" class="headerlink" title="3ã€åˆ›å»ºå‘é€æ¶ˆæ¯ç±»"></a>3ã€åˆ›å»ºå‘é€æ¶ˆæ¯ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> net.minidev.json.JSONObject;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.openservices.ons.api.Action;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.openservices.ons.api.ConsumeContext;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.openservices.ons.api.Message;</span><br><span class="line"><span class="keyword">import</span> com.aliyun.openservices.ons.api.MessageListener;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OnsService</span> <span class="keyword">implements</span> <span class="title">IOnsService</span>, <span class="title">MessageListener</span>  </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> IProducerService producerService;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String TOPIC = <span class="string">"TopicTestONS"</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String TOPIC_TAG = <span class="string">"TagA"</span>;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Action <span class="title">consume</span><span class="params">(Message message, ConsumeContext context)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendBindObject</span><span class="params">(<span class="keyword">int</span> uid, <span class="keyword">int</span> tid, <span class="keyword">int</span> eid, String pageUrl)</span> </span>&#123;</span><br><span class="line">JSONObject json = <span class="keyword">new</span> JSONObject();</span><br><span class="line">json.put(<span class="string">"uid"</span>, uid);</span><br><span class="line">json.put(<span class="string">"tid"</span>, tid);</span><br><span class="line">json.put(<span class="string">"eid"</span>, eid);</span><br><span class="line">json.put(<span class="string">"pageUrl"</span>, pageUrl);</span><br><span class="line">producerService.sendMessage(TOPIC, TOPIC_TAG, json.toJSONString());</span><br><span class="line">      <span class="comment">//ç¬¬ä¸‰ä¸ªå‚æ•°å°±æ˜¯éœ€è¦å‘é€çš„å†…å®¹ï¼Œå…¬å¸ä½¿ç”¨çš„Json</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="äºŒã€è®¢é˜…æ¶ˆæ¯"><a href="#äºŒã€è®¢é˜…æ¶ˆæ¯" class="headerlink" title="äºŒã€è®¢é˜…æ¶ˆæ¯"></a>äºŒã€è®¢é˜…æ¶ˆæ¯</h2><h3 id="1ã€åˆ›å»ºOnsæ¶ˆæ¯æ¶ˆè´¹è€…"><a href="#1ã€åˆ›å»ºOnsæ¶ˆæ¯æ¶ˆè´¹è€…" class="headerlink" title="1ã€åˆ›å»ºOnsæ¶ˆæ¯æ¶ˆè´¹è€…"></a>1ã€åˆ›å»ºOnsæ¶ˆæ¯æ¶ˆè´¹è€…</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Lazy</span>(value=<span class="keyword">false</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsumerService</span> <span class="keyword">implements</span> <span class="title">IConsumerService</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> Consumer consumer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PostConstruct</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"init...."</span>);</span><br><span class="line">Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">properties.put(PropertyKeyConst.ConsumerId, ConsumerConstants.CONSUMERID);</span><br><span class="line">properties.put(PropertyKeyConst.AccessKey,ConsumerConstants.ACCESSID);</span><br><span class="line">properties.put(PropertyKeyConst.SecretKey,ConsumerConstants.ACCESSKEY);</span><br><span class="line">properties.put(PropertyKeyConst.MessageModel,PropertyValueConst.CLUSTERING);</span><br><span class="line">consumer = ONSFactory.createConsumer(properties);</span><br><span class="line">consumer.start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//MessageListener æ˜¯é˜¿é‡ŒOnsåŒ…å†…çš„æ¶ˆæ¯ç›‘å¬å™¨</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">subscribe</span><span class="params">(<span class="keyword">final</span> String topic, <span class="keyword">final</span> String subExpression,</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">final</span> MessageListener listener)</span> </span>&#123;</span><br><span class="line">consumer.subscribe(topic, subExpression, listener);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PreDestroy</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">desotry</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (consumer != <span class="keyword">null</span>) &#123;</span><br><span class="line">consumer.shutdown();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2ã€åˆ›å»ºæ¶ˆè´¹æ¶ˆæ¯ç±»"><a href="#2ã€åˆ›å»ºæ¶ˆè´¹æ¶ˆæ¯ç±»" class="headerlink" title="2ã€åˆ›å»ºæ¶ˆè´¹æ¶ˆæ¯ç±»"></a>2ã€åˆ›å»ºæ¶ˆè´¹æ¶ˆæ¯ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OnsConsumerService</span> <span class="keyword">implements</span> <span class="title">IOnsConsumerService</span> </span>&#123;</span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> IConsumerService consumerService;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String TOPIC = <span class="string">"TopicTestONS"</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PostConstruct</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"starting..."</span>);</span><br><span class="line">onsConsumerService.subscribe(TOPIC, <span class="string">"*"</span>, <span class="keyword">new</span> MessageListener() &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Action <span class="title">consume</span><span class="params">(Message message, ConsumeContext context)</span> </span>&#123;</span><br><span class="line">JSONObject parse = (JSONObject) JSONValue.parse(message.getBody());</span><br><span class="line"><span class="keyword">int</span> uid = JsonUtil.getInt(parse, <span class="string">"uid"</span>);</span><br><span class="line"><span class="keyword">int</span> tid = JsonUtil.getInt(parse, <span class="string">"tid"</span>);</span><br><span class="line"><span class="keyword">int</span> eid = JsonUtil.getInt(parse, <span class="string">"eid"</span>);</span><br><span class="line">String pageUrl = JsonUtil.getString(parse, <span class="string">"pageUrl"</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(uid + tid + eid + pageUrl);</span><br><span class="line"><span class="keyword">return</span> Action.CommitMessage;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä¸ºOnsçš„é›†ç¾¤è®¢é˜…æ¶ˆæ¯ä»£ç ã€‚</p><blockquote><p>å‚è€ƒï¼š</p><p>Onså®˜æ–¹æ–‡æ¡£</p><p><a href="http://onsteam.oss-cn-hangzhou.aliyuncs.com/ALIYUN_ONS_USER_GUIDE.pdf" target="_blank" rel="noopener">http://onsteam.oss-cn-hangzhou.aliyuncs.com/ALIYUN_ONS_USER_GUIDE.pdf</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Onsæ¶ˆæ¯é˜Ÿåˆ—&quot;&gt;&lt;a href=&quot;#Onsæ¶ˆæ¯é˜Ÿåˆ—&quot; class=&quot;headerlink&quot; title=&quot;Onsæ¶ˆæ¯é˜Ÿåˆ—&quot;&gt;&lt;/a&gt;Onsæ¶ˆæ¯é˜Ÿåˆ—&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;å‰å¼•ï¼šå…¬å¸é¡¹ç›®éœ€è¦å†™ä¸€ä¸ªæ¨å¹¿ç³»ç»Ÿï¼Œæ¨å¹¿ç³»ç»Ÿæ˜¯ä¸€ä¸ªé¡¹ç›®ï¼Œå’Œä¸»é¡¹ç›®åˆ†ç¦»ï¼Œé¡¹ç›®é—´çš„é€šä¿¡ä½¿ç”¨Onsæ¥å®Œæˆï¼Œä»¥ä¸‹æ˜¯å…¬å¸ä»£ç ç•¥å¾®ä¿®æ”¹çš„ç»“æœï¼Œä»¥ä¾›å‚è€ƒã€‚&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="é˜¿é‡Œäº‘" scheme="http://nullpointer.pw/categories/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
    
      <category term="Ons" scheme="http://nullpointer.pw/tags/Ons/"/>
    
      <category term="æ¶ˆæ¯é˜Ÿåˆ—" scheme="http://nullpointer.pw/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"/>
    
  </entry>
  
</feed>
